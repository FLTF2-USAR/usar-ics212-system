{"version":3,"file":"ICS212AdminDashboard-CfVDpIxo.js","sources":["../../src/components/mobile/SwipeableListItem.tsx","../../src/components/mobile/PullToRefresh.tsx","../../src/components/mobile/BottomSheet.tsx","../../src/lib/config.ts","../../src/components/admin/FormDetail.tsx","../../src/components/admin/FormsList.tsx","../../src/components/admin/AnalyticsDashboard.tsx","../../src/components/admin/VehicleManagement.tsx","../../src/components/admin/ICS212AdminDashboard.tsx"],"sourcesContent":["import React, { type ReactNode } from 'react';\r\nimport { motion, useMotionValue, useTransform, type PanInfo } from 'framer-motion';\r\n\r\ninterface SwipeAction {\r\n  label: string;\r\n  icon?: string;\r\n  color: string;\r\n  onTrigger: () => void;\r\n}\r\n\r\ninterface SwipeableListItemProps {\r\n  children: ReactNode;\r\n  leftAction?: SwipeAction;\r\n  rightAction?: SwipeAction;\r\n  threshold?: number;\r\n  className?: string;\r\n}\r\n\r\nexport const SwipeableListItem: React.FC<SwipeableListItemProps> = ({\r\n  children,\r\n  leftAction,\r\n  rightAction,\r\n  threshold = 80,\r\n  className = '',\r\n}) => {\r\n  const x = useMotionValue(0);\r\n  const backgroundColor = useTransform(\r\n    x,\r\n    [-threshold, 0, threshold],\r\n    [\r\n      rightAction?.color || '#ef4444',\r\n      '#ffffff',\r\n      leftAction?.color || '#10b981',\r\n    ]\r\n  );\r\n\r\n  const handleDragEnd = (_: any, info: PanInfo) => {\r\n    const offset = info.offset.x;\r\n\r\n    if (offset > threshold && leftAction) {\r\n      leftAction.onTrigger();\r\n      x.set(0);\r\n    } else if (offset < -threshold && rightAction) {\r\n      rightAction.onTrigger();\r\n      x.set(0);\r\n    } else {\r\n      x.set(0);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`relative overflow-hidden ${className}`}>\r\n      {/* Background actions */}\r\n      <div className=\"absolute inset-0 flex justify-between items-center px-6\">\r\n        {leftAction && (\r\n          <motion.div\r\n            className=\"flex items-center gap-2 text-white font-semibold\"\r\n            style={{ opacity: useTransform(x, [0, threshold], [0, 1]) }}\r\n          >\r\n            {leftAction.icon && <span>{leftAction.icon}</span>}\r\n            <span>{leftAction.label}</span>\r\n          </motion.div>\r\n        )}\r\n        {rightAction && (\r\n          <motion.div\r\n            className=\"flex items-center gap-2 text-white font-semibold ml-auto\"\r\n            style={{ opacity: useTransform(x, [-threshold, 0], [1, 0]) }}\r\n          >\r\n            <span>{rightAction.label}</span>\r\n            {rightAction.icon && <span>{rightAction.icon}</span>}\r\n          </motion.div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Draggable content */}\r\n      <motion.div\r\n        drag=\"x\"\r\n        dragConstraints={{ left: rightAction ? -threshold * 1.5 : 0, right: leftAction ? threshold * 1.5 : 0 }}\r\n        dragElastic={0.1}\r\n        onDragEnd={handleDragEnd}\r\n        style={{\r\n          x,\r\n          backgroundColor,\r\n        }}\r\n        className=\"relative z-10 bg-white dark:bg-gray-800 touch-pan-y\"\r\n      >\r\n        {children}\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SwipeableListItem;\r\n","import React, { type ReactNode, useState, useRef } from 'react';\r\nimport { motion, useMotionValue, useTransform, type PanInfo } from 'framer-motion';\r\n\r\ninterface PullToRefreshProps {\r\n  children: ReactNode;\r\n  onRefresh: () => Promise<void>;\r\n  threshold?: number;\r\n  className?: string;\r\n}\r\n\r\nexport const PullToRefresh: React.FC<PullToRefreshProps> = ({\r\n  children,\r\n  onRefresh,\r\n  threshold = 80,\r\n  className = '',\r\n}) => {\r\n  const [isRefreshing, setIsRefreshing] = useState(false);\r\n  const y = useMotionValue(0);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  const opacity = useTransform(y, [0, threshold], [0, 1]);\r\n  const rotate = useTransform(y, [0, threshold], [0, 180]);\r\n\r\n  const handleDragEnd = async (_: any, info: PanInfo) => {\r\n    const offset = info.offset.y;\r\n\r\n    if (offset > threshold && !isRefreshing) {\r\n      setIsRefreshing(true);\r\n      try {\r\n        await onRefresh();\r\n      } finally {\r\n        setIsRefreshing(false);\r\n        y.set(0);\r\n      }\r\n    } else {\r\n      y.set(0);\r\n    }\r\n  };\r\n\r\n  const handleDrag = (_: any, info: PanInfo) => {\r\n    // Only allow pull down at the top of the scroll\r\n    const container = containerRef.current;\r\n    if (container && container.scrollTop === 0 && info.offset.y > 0) {\r\n      y.set(Math.min(info.offset.y, threshold * 1.5));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div ref={containerRef} className={`relative overflow-auto ${className}`}>\r\n      {/* Pull indicator */}\r\n      <motion.div\r\n        className=\"absolute top-0 left-0 right-0 flex items-center justify-center py-4 z-10\"\r\n        style={{\r\n          opacity,\r\n          height: useTransform(y, [0, threshold], [0, 60]),\r\n        }}\r\n      >\r\n        <motion.div\r\n          className=\"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full\"\r\n          style={{\r\n            rotate: isRefreshing ? undefined : rotate,\r\n          }}\r\n          animate={isRefreshing ? { rotate: 360 } : {}}\r\n          transition={{\r\n            repeat: isRefreshing ? Infinity : 0,\r\n            duration: 1,\r\n            ease: 'linear',\r\n          }}\r\n        />\r\n      </motion.div>\r\n\r\n      {/* Content */}\r\n      <motion.div\r\n        drag=\"y\"\r\n        dragConstraints={{ top: 0, bottom: 0 }}\r\n        dragElastic={0.1}\r\n        onDrag={handleDrag}\r\n        onDragEnd={handleDragEnd}\r\n        style={{ y }}\r\n        className=\"touch-pan-x\"\r\n      >\r\n        {children}\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PullToRefresh;\r\n","import React, { type ReactNode } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport * as Dialog from '@radix-ui/react-dialog';\r\n\r\ninterface BottomSheetProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title?: string;\r\n  children: ReactNode;\r\n  snapPoints?: number[];\r\n  initialSnap?: number;\r\n  showHandle?: boolean;\r\n  className?: string;\r\n}\r\n\r\nexport const BottomSheet: React.FC<BottomSheetProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  title,\r\n  children,\r\n  showHandle = true,\r\n  className = '',\r\n}) => {\r\n  return (\r\n    <Dialog.Root open={isOpen} onOpenChange={(open) => !open && onClose()}>\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <Dialog.Portal forceMount>\r\n            {/* Overlay */}\r\n            <Dialog.Overlay asChild>\r\n              <motion.div\r\n                className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-40\"\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                exit={{ opacity: 0 }}\r\n                transition={{ duration: 0.2 }}\r\n              />\r\n            </Dialog.Overlay>\r\n\r\n            {/* Bottom Sheet */}\r\n            <Dialog.Content asChild>\r\n              <motion.div\r\n                className={`\r\n                  fixed bottom-0 left-0 right-0 z-50\r\n                  bg-white dark:bg-gray-800\r\n                  rounded-t-3xl shadow-2xl\r\n                  max-h-[90vh] overflow-hidden\r\n                  ${className}\r\n                `}\r\n                initial={{ y: '100%' }}\r\n                animate={{ y: 0 }}\r\n                exit={{ y: '100%' }}\r\n                transition={{\r\n                  type: 'spring',\r\n                  stiffness: 300,\r\n                  damping: 30,\r\n                }}\r\n                drag=\"y\"\r\n                dragConstraints={{ top: 0, bottom: 0 }}\r\n                dragElastic={0.2}\r\n                onDragEnd={(_, info) => {\r\n                  if (info.offset.y > 100) {\r\n                    onClose();\r\n                  }\r\n                }}\r\n              >\r\n                {/* Drag handle */}\r\n                {showHandle && (\r\n                  <div className=\"flex justify-center pt-3 pb-2\">\r\n                    <div className=\"w-12 h-1.5 bg-gray-300 dark:bg-gray-600 rounded-full\" />\r\n                  </div>\r\n                )}\r\n\r\n                {/* Header */}\r\n                {title && (\r\n                  <div className=\"px-6 py-4 border-b border-gray-200 dark:border-gray-700\">\r\n                    <Dialog.Title className=\"text-xl font-bold text-gray-900 dark:text-white\">\r\n                      {title}\r\n                    </Dialog.Title>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Content */}\r\n                <div className=\"overflow-y-auto max-h-[calc(90vh-80px)] p-6\">\r\n                  {children}\r\n                </div>\r\n              </motion.div>\r\n            </Dialog.Content>\r\n          </Dialog.Portal>\r\n        )}\r\n      </AnimatePresence>\r\n    </Dialog.Root>\r\n  );\r\n};\r\n\r\nexport default BottomSheet;\r\n","import type { Apparatus } from '../types';\r\n\r\n/**\r\n * Cloudflare Worker URL for API requests\r\n */\r\nexport const WORKER_URL = import.meta.env.VITE_API_URL || 'https://usar-ics212.pdarleyjr.workers.dev';\r\n\r\n/**\r\n * API base URL (derives from WORKER_URL for consistency)\r\n */\r\nexport const API_BASE_URL = `${WORKER_URL}/api`;\r\n\r\n/**\r\n * API Endpoints Configuration\r\n */\r\nexport const API_ENDPOINTS = {\r\n  // ICS-212 Forms\r\n  ics212Forms: `${API_BASE_URL}/ics212/forms`,\r\n  formById: (id: string) => `${API_BASE_URL}/ics212/forms/${id}`,\r\n  analytics: `${API_BASE_URL}/ics212/analytics`,\r\n  submitForm: `${API_BASE_URL}/ics212/submit`,\r\n  emailForm: (id: string) => `${API_BASE_URL}/ics212/forms/${id}/email`,\r\n  \r\n  // Vehicles\r\n  vehicles: `${API_BASE_URL}/vehicles`,\r\n  vehicleAutocomplete: `${API_BASE_URL}/vehicles/autocomplete`,\r\n  vehicleById: (id: string) => `${API_BASE_URL}/vehicles/${id}`,\r\n  \r\n  // Inventory & Dynamic Forms\r\n  inventory: `${API_BASE_URL}/inventory`,\r\n  dynamicForms: `${API_BASE_URL}/forms`,\r\n  \r\n  // Health\r\n  health: `${API_BASE_URL}/health`,\r\n};\r\n\r\n/**\r\n * Feature flag for dynamic forms management\r\n * Set to false initially for safe rollout\r\n * When enabled, forms are loaded from D1 database instead of static JSON files\r\n */\r\nexport const FORMS_MANAGEMENT_ENABLED = true;\r\n\r\n/**\r\n * List of all apparatus in the MBFD fleet\r\n * Update this list when new apparatus are added to the system\r\n */\r\nexport const APPARATUS_LIST: Apparatus[]= [\r\n  'Engine 1', 'Engine 2', 'Engine 3', 'Engine 4',\r\n  'Ladder 1', 'Ladder 3',\r\n  'Rescue 1', 'Rescue 2', 'Rescue 3', 'Rescue 4',\r\n  'Rescue 11', 'Rescue 22', 'Rescue 44',\r\n  'Rope Inventory'\r\n];\r\n\r\n/**\r\n * GitHub issue label constants\r\n * These labels are used to categorize and filter issues\r\n */\r\nexport const LABELS = {\r\n  DEFECT: 'Defect',\r\n  LOG: 'Log',\r\n  DAMAGED: 'Damaged',\r\n  RESOLVED: 'Resolved',\r\n} as const;\r\n\r\n/**\r\n * Regular expression for parsing defect issue titles\r\n * Format: [Apparatus] Compartment: Item - Status\r\n */\r\nexport const DEFECT_TITLE_REGEX = /\\[(.+)\\]\\s+(.+):\\s+(.+?)\\s+-\\s+(Missing|Damaged)/;","/**\r\n * Form Detail Component\r\n * \r\n * Displays complete ICS-212 form information with PDF preview\r\n * Features:\r\n * - PDF preview in iframe\r\n * - Complete form metadata\r\n * - Download PDF button\r\n * - Email distribution button\r\n * - Vehicle history timeline\r\n */\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { API_BASE_URL } from '../../lib/config';\r\nimport { TouchFeedback } from '../mobile/TouchFeedback';\r\nimport { showToast } from '../mobile/Toast';\r\n\r\ninterface FormDetailProps {\r\n  formId: string;\r\n}\r\n\r\nexport function FormDetail({ formId }: FormDetailProps) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [form, setForm] = useState<any>(null);\r\n\r\n  useEffect(() => {\r\n    fetchFormDetail();\r\n  }, [formId]);\r\n\r\n  const fetchFormDetail = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/ics212/forms/${formId}`);\r\n      if (!response.ok) throw new Error('Failed to fetch form');\r\n      const data = await response.json();\r\n      setForm(data.form);\r\n    } catch (error) {\r\n      console.error('Error fetching form detail:', error);\r\n      showToast({ message: 'Failed to load form details', type: 'error' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDownloadPDF = () => {\r\n    if (form?.pdf_url) {\r\n      window.open(form.pdf_url, '_blank');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"p-4 space-y-4\">\r\n        <div className=\"animate-pulse space-y-3\">\r\n          <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4\"></div>\r\n          <div className=\"h-32 bg-gray-200 dark:bg-gray-700 rounded\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!form) {\r\n    return (\r\n      <div className=\"p-4 text-center\">\r\n        <p className=\"text-red-500\">Form not found</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4 max-h-[80vh] overflow-y-auto\">\r\n      {/* Header */}\r\n      <div className=\"sticky top-0 bg-white dark:bg-gray-800 p-4 border-b border-gray-200 dark:border-gray-700\">\r\n        <h3 className=\"font-bold text-xl text-gray-900 dark:text-white\">\r\n          {form.vehicle_id_no}\r\n        </h3>\r\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">{form.incident_name}</p>\r\n        <div className=\"mt-2\">\r\n          <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${\r\n            form.release_decision === 'hold' \r\n              ? 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'\r\n              : 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'\r\n          }`}>\r\n            {form.release_decision === 'hold' ? 'üî¥ HOLD' : 'üü¢ RELEASED'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* PDF Preview */}\r\n      {form.pdf_url && (\r\n        <div className=\"px-4\">\r\n          <div className=\"border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-900\">\r\n            <iframe\r\n              src={form.pdf_url}\r\n              className=\"w-full\"\r\n              style={{ height: '400px' }}\r\n              title=\"PDF Preview\"\r\n            />\r\n          </div>\r\n          <TouchFeedback>\r\n            <button\r\n              onClick={handleDownloadPDF}\r\n              className=\"w-full mt-2 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors\"\r\n            >\r\n              üì• Download PDF\r\n            </button>\r\n          </TouchFeedback>\r\n        </div>\r\n      )}\r\n\r\n      {/* Form Details */}\r\n      <div className=\"px-4 space-y-3\">\r\n        <h4 className=\"font-semibold text-gray-900 dark:text-white\">Inspection Details</h4>\r\n        \r\n        <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n          <div>\r\n            <span className=\"font-medium text-gray-700 dark:text-gray-300\">Inspector:</span>\r\n            <p className=\"text-gray-900 dark:text-white\">{form.inspector_name_print}</p>\r\n          </div>\r\n          <div>\r\n            <span className=\"font-medium text-gray-700 dark:text-gray-300\">Date:</span>\r\n            <p className=\"text-gray-900 dark:text-white\">{form.inspector_date}</p>\r\n          </div>\r\n          <div>\r\n            <span className=\"font-medium text-gray-700 dark:text-gray-300\">Time:</span>\r\n            <p className=\"text-gray-900 dark:text-white\">{form.inspector_time}</p>\r\n          </div>\r\n          <div>\r\n            <span className=\"font-medium text-gray-700 dark:text-gray-300\">Vehicle Type:</span>\r\n            <p className=\"text-gray-900 dark:text-white\">{form.vehicle_type}</p>\r\n          </div>\r\n          <div>\r\n            <span className=\"font-medium text-gray-700 dark:text-gray-300\">License:</span>\r\n            <p className=\"text-gray-900 dark:text-white\">{form.vehicle_license_no}</p>\r\n          </div>\r\n          <div>\r\n            <span className=\"font-medium text-gray-700 dark:text-gray-300\">Agency/Unit:</span>\r\n            <p className=\"text-gray-900 dark:text-white\">{form.agency_reg_unit}</p>\r\n          </div>\r\n        </div>\r\n\r\n        {form.additional_comments && (\r\n          <div>\r\n            <span className=\"font-medium text-gray-700 dark:text-gray-300\">Comments:</span>\r\n            <p className=\"text-sm text-gray-900 dark:text-white mt-1 p-2 bg-gray-50 dark:bg-gray-700 rounded\">\r\n              {form.additional_comments}\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {form.github_issue_number && (\r\n          <TouchFeedback>\r\n            <a\r\n              href={`https://github.com/pdarleyjr/mbfd-checkout-system/issues/${form.github_issue_number}`}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"block w-full py-2 px-4 bg-gray-100 dark:bg-gray-700 text-blue-600 dark:text-blue-400 rounded-lg text-center font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n            >\r\n              View GitHub Issue #{form.github_issue_number} ‚Üí\r\n            </a>\r\n          </TouchFeedback>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * Forms List Component\r\n * \r\n * Displays ICS-212 forms with real-time search, filtering, and pagination\r\n * Features:\r\n * - Mobile-responsive card/list layout\r\n * - Real-time search across vehicle ID, incident name, inspector\r\n * - Filter by status (HOLD/RELEASED), date range, vehicle\r\n * - Swipeable list items with quick actions\r\n * - Pull-to-refresh\r\n * - Infinite scroll pagination\r\n */\r\n\r\nimport { useState, useCallback, useEffect } from 'react';\r\nimport { SwipeableListItem } from '../mobile/SwipeableListItem';\r\nimport { PullToRefresh } from '../mobile/PullToRefresh';\r\nimport { SkeletonLoader } from '../mobile/SkeletonLoader';\r\nimport { TouchFeedback } from '../mobile/TouchFeedback';\r\nimport { Toast, showToast } from '../mobile/Toast';\r\nimport { BottomSheet } from '../mobile/BottomSheet';\r\nimport { FormDetail } from './FormDetail';\r\nimport { API_BASE_URL } from '../../lib/config';\r\n\r\ninterface ICS212Form {\r\n  id: number;\r\n  form_id: string;\r\n  incident_name: string;\r\n  vehicle_id_no: string;\r\n  vehicle_type: string;\r\n  release_decision: 'hold' | 'release';\r\n  inspector_name_print: string;\r\n  inspector_date: string;\r\n  inspector_time: string;\r\n  pdf_url?: string;\r\n  github_issue_number?: number;\r\n  created_at: string;\r\n  pass_count?: number;\r\n  fail_count?: number;\r\n}\r\n\r\ninterface FormsListResponse {\r\n  forms: ICS212Form[];\r\n  total: number;\r\n  page: number;\r\n  pages: number;\r\n}\r\n\r\nexport function FormsList() {\r\n  const [forms, setForms] = useState<ICS212Form[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState<'all' | 'hold' | 'release'>('all');\r\n  const [dateFrom, setDateFrom] = useState('');\r\n  const [dateTo, setDateTo] = useState('');\r\n  const [selectedFormId, setSelectedFormId] = useState<string | null>(null);\r\n\r\n  const fetchForms = useCallback(async (pageNum: number = 1, append: boolean = false) => {\r\n    if (!append) setLoading(true);\r\n\r\n    try {\r\n      const params = new URLSearchParams({\r\n        page: pageNum.toString(),\r\n        limit: '20',\r\n        sortBy: 'date',\r\n        sortOrder: 'desc',\r\n      });\r\n\r\n      if (searchTerm) params.set('search', searchTerm);\r\n      if (statusFilter !== 'all') params.set('status', statusFilter);\r\n      if (dateFrom) params.set('from', dateFrom);\r\n      if (dateTo) params.set('to', dateTo);\r\n\r\n      const response = await fetch(`${API_BASE_URL}/ics212/forms?${params}`);\r\n\r\n      if (!response.ok) throw new Error('Failed to fetch forms');\r\n\r\n      const data: FormsListResponse = await response.json();\r\n      \r\n      if (append) {\r\n        setForms(prev => [...prev, ...data.forms]);\r\n      } else {\r\n        setForms(data.forms);\r\n      }\r\n      \r\n      setTotalPages(data.pages);\r\n      setPage(pageNum);\r\n    } catch (error) {\r\n      console.error('Error fetching forms:', error);\r\n      showToast({ message: 'Failed to load forms', type: 'error' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [searchTerm, statusFilter, dateFrom, dateTo]);\r\n\r\n  useEffect(() => {\r\n    fetchForms(1, false);\r\n  }, [searchTerm, statusFilter, dateFrom, dateTo]);\r\n\r\n  const handleRefresh = async () => {\r\n    await fetchForms(1, false);\r\n  };\r\n\r\n  const handleLoadMore = () => {\r\n    if (page < totalPages && !loading) {\r\n      fetchForms(page + 1, true);\r\n    }\r\n  };\r\n\r\n  const handleDownloadPDF = async (form: ICS212Form) => {\r\n    if (!form.pdf_url) {\r\n      showToast({ message: 'PDF not available', type: 'error' });\r\n      return;\r\n    }\r\n    window.open(form.pdf_url, '_blank');\r\n  };\r\n\r\n  const handleViewForm = (formId: string) => {\r\n    setSelectedFormId(formId);\r\n  };\r\n\r\n  const getStatusBadge = (status: 'hold' | 'release') => {\r\n    if (status === 'hold') {\r\n      return (\r\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200\">\r\n          üî¥ HOLD\r\n        </span>\r\n      );\r\n    }\r\n    return (\r\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200\">\r\n        üü¢ RELEASED\r\n      </span>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Search and Filters */}\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 space-y-4\">\r\n        {/* Search Input */}\r\n        <div>\r\n          <input\r\n            type=\"search\"\r\n            placeholder=\"Search by vehicle ID, incident, or inspector...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\r\n          />\r\n        </div>\r\n\r\n        { /* Filter Pills */}\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          <TouchFeedback>\r\n            <button\r\n              onClick={() => setStatusFilter('all')}\r\n              className={`px-4 py-2 rounded-full text-sm font-medium transition-colors ${\r\n                statusFilter === 'all'\r\n                  ? 'bg-blue-600 text-white'\r\n                  : 'bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300'\r\n              }`}\r\n            >\r\n              All\r\n            </button>\r\n          </TouchFeedback>\r\n          <TouchFeedback>\r\n            <button\r\n              onClick={() => setStatusFilter('hold')}\r\n              className={`px-4 py-2 rounded-full text-sm font-medium transition-colors ${\r\n                statusFilter === 'hold'\r\n                  ? 'bg-red-600 text-white'\r\n                  : 'bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300'\r\n              }`}\r\n            >\r\n              HOLD\r\n            </button>\r\n          </TouchFeedback>\r\n          <TouchFeedback>\r\n            <button\r\n              onClick={() => setStatusFilter('release')}\r\n              className={`px-4 py-2 rounded-full text-sm font-medium transition-colors ${\r\n                statusFilter === 'release'\r\n                  ? 'bg-green-600 text-white'\r\n                  : 'bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300'\r\n              }`}\r\n            >\r\n              RELEASED\r\n            </button>\r\n          </TouchFeedback>\r\n        </div>\r\n\r\n        {/* Date Range Filters */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              From Date\r\n            </label>\r\n            <input\r\n              type=\"date\"\r\n              value={dateFrom}\r\n              onChange={(e) => setDateFrom(e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              To Date\r\n            </label>\r\n            <input\r\n              type=\"date\"\r\n              value={dateTo}\r\n              onChange={(e) => setDateTo(e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Results Count */}\r\n      {!loading && (\r\n        <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n          Showing {forms.length} form{forms.length !== 1 ? 's' : ''}\r\n        </div>\r\n      )}\r\n\r\n      {/* Forms List */}\r\n      <PullToRefresh onRefresh={handleRefresh}>\r\n        <div className=\"space-y-3\">\r\n          {loading && page === 1 ? (\r\n            // Initial loading state\r\n            Array.from({ length: 5 }).map((_, i) => (\r\n              <SkeletonLoader key={i} type=\"card\" />\r\n            ))\r\n          ) : forms.length === 0 ? (\r\n            // Empty state\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-8 text-center\">\r\n              <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n              </svg>\r\n              <h3 className=\"mt-2 text-sm font-medium text-gray-900 dark:text-white\">No forms found</h3>\r\n              <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\r\n                Try adjusting your search or filter criteria\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            // Forms list\r\n            forms.map((form) => (\r\n              <SwipeableListItem\r\n                key={form.id}\r\n                leftAction={{\r\n                  label: 'View',\r\n                  color: '#3b82f6',\r\n                  onTrigger: () => handleViewForm(form.form_id)\r\n                }}\r\n                rightAction={{\r\n                  label: 'Download',\r\n                  color: '#10b981',\r\n                  onTrigger: () => handleDownloadPDF(form)\r\n                }}\r\n              >\r\n                <TouchFeedback>\r\n                  <div\r\n                    onClick={() => handleViewForm(form.form_id)}\r\n                    className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 cursor-pointer hover:shadow-md transition-shadow\"\r\n                  >\r\n                    <div className=\"flex items-start justify-between gap-4\">\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        {/* Vehicle ID - Primary */}\r\n                        <div className=\"flex items-center gap-2 mb-2\">\r\n                          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white truncate\">\r\n                            {form.vehicle_id_no}\r\n                          </h3>\r\n                          {getStatusBadge(form.release_decision)}\r\n                        </div>\r\n\r\n                        {/* Incident Name */}\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-2 truncate\">\r\n                          {form.incident_name}\r\n                        </p>\r\n\r\n                        {/* Meta Info */}\r\n                        <div className=\"flex flex-wrap gap-x-4 gap-y-1 text-xs text-gray-500 dark:text-gray-400\">\r\n                          <span>üîç {form.inspector_name_print}</span>\r\n                          <span>üìÖ {new Date(form.inspector_date).toLocaleDateString()}</span>\r\n                          {form.pass_count !== undefined && form.fail_count !== undefined && (\r\n                            <span>\r\n                              ‚úÖ {form.pass_count} / ‚ùå {form.fail_count}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Action Button */}\r\n                      <svg className=\"w-5 h-5 text-gray-400 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n                      </svg>\r\n                    </div>\r\n                  </div>\r\n                </TouchFeedback>\r\n              </SwipeableListItem>\r\n            ))\r\n          )}\r\n\r\n          {/* Load More Button */}\r\n          {page < totalPages && !loading && (\r\n            <TouchFeedback>\r\n              <button\r\n                onClick={handleLoadMore}\r\n                className=\"w-full py-3 bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 rounded-lg shadow-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n              >\r\n                Load More\r\n              </button>\r\n            </TouchFeedback>\r\n          )}\r\n\r\n          {/* Loading more indicator */}\r\n          {loading && page > 1 && (\r\n            <div className=\"text-center py-4\">\r\n              <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </PullToRefresh>\r\n\r\n      {/* Form Detail Bottom Sheet */}\r\n      {selectedFormId && (\r\n        <BottomSheet\r\n          isOpen={!!selectedFormId}\r\n          onClose={() => setSelectedFormId(null)}\r\n          title=\"Form Details\"\r\n        >\r\n          <FormDetail formId={selectedFormId} />\r\n        </BottomSheet>\r\n      )}\r\n\r\n      {/* Toast Component */}\r\n      <Toast />\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * Analytics Dashboard Component\r\n * \r\n * Displays statistics, trends, and insights for ICS-212 forms\r\n * Features:\r\n * - Key metrics cards (total forms, hold rate, etc.)\r\n * - Interactive charts using Recharts\r\n * - Mobile-responsive grid layout\r\n * - Real-time data updates\r\n */\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { BarChart, Bar, LineChart, Line, PieChart, Pie, Cell, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\r\nimport { API_BASE_URL } from '../../lib/config';\r\nimport { SkeletonLoader } from '../mobile/SkeletonLoader';\r\n\r\ninterface AnalyticsData {\r\n  totalForms: number;\r\n  formsThisMonth: number;\r\n  formsThisWeek: number;\r\n  holdRate: number;\r\n  releaseRate: number;\r\n  topVehicles: Array<{ vehicleId: string; count: number}>;\r\n  safetyItemFailures: Array<{ item: string; count: number }>;\r\n  formsPerDay: Array<{ date: string; count: number }>;\r\n}\r\n\r\nexport function AnalyticsDashboard() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [analytics, setAnalytics] = useState<AnalyticsData | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchAnalytics();\r\n    const interval = setInterval(fetchAnalytics, 60000); // Refresh every minute\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const fetchAnalytics = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/ics212/analytics`);\r\n      if (!response.ok) throw new Error('Failed to fetch analytics');\r\n      const data = await response.json();\r\n      setAnalytics(data);\r\n    } catch (error) {\r\n      console.error('Error fetching analytics:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        {Array.from({ length: 4 }).map((_, i) => (\r\n          <SkeletonLoader key={i} type=\"card\" />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!analytics) {\r\n    return <div className=\"text-center text-red-500 p-4\">Failed to load analytics</div>;\r\n  }\r\n\r\n  const pieData = [\r\n    { name: 'HOLD', value: Math.round(analytics.holdRate), color: '#ef4444' },\r\n    { name: 'RELEASED', value: Math.round(analytics.releaseRate), color: '#10b981' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Key Metrics Cards */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        {/* Total Forms */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Total Forms</p>\r\n              <p className=\"text-3xl font-bold text-gray-900 dark:text-white mt-1\">\r\n                {analytics.totalForms}\r\n              </p>\r\n            </div>\r\n            <div className=\"text-4xl\">üìã</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* This Month */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">This Month</p>\r\n              <p className=\"text-3xl font-bold text-gray-900 dark:text-white mt-1\">\r\n                {analytics.formsThisMonth}\r\n              </p>\r\n            </div>\r\n            <div className=\"text-4xl\">üìÖ</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* HOLD Rate */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">HOLD Rate</p>\r\n              <p className=\"text-3xl font-bold text-red-600 dark:text-red-400 mt-1\">\r\n                {analytics.holdRate.toFixed(1)}%\r\n              </p>\r\n            </div>\r\n            <div className=\"text-4xl\">üî¥</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* RELEASED Rate */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">RELEASED Rate</p>\r\n              <p className=\"text-3xl font-bold text-green-600 dark:text-green-400 mt-1\">\r\n                {analytics.releaseRate.toFixed(1)}%\r\n              </p>\r\n            </div>\r\n            <div className=\"text-4xl\">üü¢</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Charts Grid */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Forms Per Day Line Chart */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">\r\n            Forms Per Day (Last 30 Days)\r\n          </h3>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <LineChart data={analytics.formsPerDay}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" />\r\n              <XAxis \r\n                dataKey=\"date\" \r\n                stroke=\"#9ca3af\"\r\n                tick={{ fontSize: 12 }}\r\n              />\r\n              <YAxis stroke=\"#9ca3af\" />\r\n              <Tooltip \r\n                contentStyle={{ backgroundColor: '#1f2937', border: 'none', borderRadius: '8px' }}\r\n                labelStyle={{ color: '#fff' }}\r\n              />\r\n              <Line \r\n                type=\"monotone\" \r\n                dataKey=\"count\" \r\n                stroke=\"#3b82f6\" \r\n                strokeWidth={2}\r\n                dot={{ fill: '#3b82f6', r: 4 }}\r\n              />\r\n            </LineChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Release Decision Pie Chart */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">\r\n            Release Decisions\r\n          </h3>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <PieChart>\r\n              <Pie\r\n                data={pieData}\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                labelLine={false}\r\n                label={({ name, value }) => `${name}: ${value}%`}\r\n                outerRadius={100}\r\n                fill=\"#8884d8\"\r\n                dataKey=\"value\"\r\n              >\r\n                {pieData.map((entry, index) => (\r\n                  <Cell key={`cell-${index}`} fill={entry.color} />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Top Vehicles Bar Chart */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">\r\n            Top 10 Vehicles by Inspection Count\r\n          </h3>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <BarChart data={analytics.topVehicles.slice(0, 10)}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" />\r\n              <XAxis \r\n                dataKey=\"vehicleId\" \r\n                stroke=\"#9ca3af\"\r\n                angle={-45}\r\n                textAnchor=\"end\"\r\n                height={80}\r\n                tick={{ fontSize: 10 }}\r\n              />\r\n              <YAxis stroke=\"#9ca3af\" />\r\n              <Tooltip \r\n                contentStyle={{ backgroundColor: '#1f2937', border: 'none', borderRadius: '8px' }}\r\n                labelStyle={{ color: '#fff' }}\r\n              />\r\n              <Bar dataKey=\"count\" fill=\"#3b82f6\" />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Safety Item Failures */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">\r\n            Top Safety Item Failures\r\n          </h3>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <BarChart data={analytics.safetyItemFailures.slice(0, 8)} layout=\"vertical\">\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" />\r\n              <XAxis type=\"number\" stroke=\"#9ca3af\" />\r\n              <YAxis \r\n                type=\"category\" \r\n                dataKey=\"item\" \r\n                stroke=\"#9ca3af\"\r\n                width={150}\r\n                tick={{ fontSize: 10 }}\r\n              />\r\n              <Tooltip \r\n                contentStyle={{ backgroundColor: '#1f2937', border: 'none', borderRadius: '8px' }}\r\n                labelStyle={{ color: '#fff' }}\r\n              />\r\n              <Bar dataKey=\"count\" fill=\"#ef4444\" />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * Vehicle Management Component\r\n * \r\n * Manages vehicle database from Airtable\r\n * Features:\r\n * - List all vehicles\r\n * - View inspection history\r\n * - Quick links to inspect vehicle\r\n * - Mobile-responsive card layout\r\n */\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { API_BASE_URL } from '../../lib/config';\r\nimport { TouchFeedback } from '../mobile/TouchFeedback';\r\nimport { SkeletonLoader } from '../mobile/SkeletonLoader';\r\nimport { showToast } from '../mobile/Toast';\r\n\r\ninterface Vehicle {\r\n  id: string;\r\n  regUnit: string;\r\n  vehicleMake?: string;\r\n  vehicleModel?: string;\r\n  vehicleType?: string;\r\n  features?: string;\r\n  agency?: string;\r\n  licenseNumber?: string;\r\n  vehicleId?: string;\r\n  incidentId?: string;\r\n  vehicleStatus?: string;\r\n  lastInspectionDate?: string;\r\n  nextInspectionDue?: string;\r\n  inspectionFrequencyDays?: number;\r\n  notes?: string;\r\n}\r\n\r\nexport function VehicleManagement() {\r\n  const [vehicles, setVehicles] = useState<Vehicle[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchVehicles();\r\n  }, []);\r\n\r\n  const fetchVehicles = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/vehicles`);\r\n      if (!response.ok) throw new Error('Failed to fetch vehicles');\r\n      const data = await response.json();\r\n      setVehicles(data.vehicles || []);\r\n    } catch (error) {\r\n      console.error('Error fetching vehicles:', error);\r\n      showToast({ message: 'Failed to load vehicles', type: 'error' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filteredVehicles = vehicles.filter(vehicle => {\r\n    const searchLower = searchTerm.toLowerCase();\r\n    return (\r\n      vehicle.regUnit?.toLowerCase().includes(searchLower) ||\r\n      vehicle.vehicleMake?.toLowerCase().includes(searchLower) ||\r\n      vehicle.vehicleModel?.toLowerCase().includes(searchLower) ||\r\n      vehicle.licenseNumber?.toLowerCase().includes(searchLower)\r\n    );\r\n  });\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        {Array.from({ length: 5 }).map((_, i) => (\r\n          <SkeletonLoader key={i} type=\"card\" />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Search Bar */}\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4\">\r\n        <input\r\n          type=\"search\"\r\n          placeholder=\"Search vehicles by name, make, model, or license plate...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\r\n        />\r\n      </div>\r\n\r\n      {/* Results Count */}\r\n      <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n        Showing {filteredVehicles.length} vehicle{filteredVehicles.length !== 1 ? 's' : ''}\r\n      </div>\r\n\r\n      {/* Vehicles Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n        {filteredVehicles.length === 0 ? (\r\n          <div className=\"col-span-full bg-white dark:bg-gray-800 rounded-lg shadow-sm p-8 text-center\">\r\n            <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\r\n            </svg>\r\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900 dark:text-white\">No vehicles found</h3>\r\n            <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\r\n              Try a different search term\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          filteredVehicles.map((vehicle) => (\r\n            <TouchFeedback key={vehicle.id}>\r\n              <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow cursor-pointer\">\r\n                {/* Vehicle Icon & Name */}\r\n                <div className=\"flex items-start gap-3 mb-4\">\r\n                  <div className=\"text-4xl\">\r\n                    {vehicle.vehicleType?.toLowerCase().includes('truck') ? 'üöõ' : 'üöó'}\r\n                  </div>\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white truncate\">\r\n                      {vehicle.regUnit}\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                      {vehicle.vehicleMake} {vehicle.vehicleModel}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Vehicle Details */}\r\n                <div className=\"space-y-2 text-sm\">\r\n                  {vehicle.licenseNumber && (\r\n                    <div className=\"flex items-center gap-2 text-gray-700 dark:text-gray-300\">\r\n                      <span className=\"font-medium\">License:</span>\r\n                      <span>{vehicle.licenseNumber}</span>\r\n                    </div>\r\n                  )}\r\n                  {vehicle.vehicleType && (\r\n                    <div className=\"flex items-center gap-2 text-gray-700 dark:text-gray-300\">\r\n                      <span className=\"font-medium\">Type:</span>\r\n                      <span>{vehicle.vehicleType}</span>\r\n                    </div>\r\n                  )}\r\n                  {vehicle.vehicleStatus && (\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span className=\"font-medium text-gray-700 dark:text-gray-300\">Status:</span>\r\n                      <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${\r\n                        vehicle.vehicleStatus === 'Active'\r\n                          ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'\r\n                          : 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300'\r\n                      }`}>\r\n                        {vehicle.vehicleStatus}\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Notes */}\r\n                {vehicle.notes && (\r\n                  <div className=\"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                    <p className=\"text-xs text-gray-600 dark:text-gray-400 line-clamp-2\">\r\n                      {vehicle.notes}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Quick Action */}\r\n                <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700\">\r\n                  <TouchFeedback>\r\n                    <a\r\n                      href={`/?vehicle=${encodeURIComponent(vehicle.regUnit)}`}\r\n                      className=\"block w-full py-2 px-4 bg-blue-600 text-white rounded-lg text-center text-sm font-medium hover:bg-blue-700 transition-colors\"\r\n                    >\r\n                      üìã New Inspection\r\n                    </a>\r\n                  </TouchFeedback>\r\n                </div>\r\n              </div>\r\n            </TouchFeedback>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * ICS-212 Admin Dashboard\r\n * \r\n * Main dashboard component for managing ICS-212 Vehicle Safety Inspection forms\r\n * Features:\r\n * - Mobile-first responsive design (320px+)\r\n * - Tab navigation (Forms, Analytics, Vehicles)\r\n * - Real-time search and filtering\r\n * - PDF preview and download\r\n * - Email distribution\r\n * - Dark mode support\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { FormsList } from './FormsList';\r\nimport { AnalyticsDashboard } from './AnalyticsDashboard';\r\nimport { VehicleManagement } from './VehicleManagement';\r\nimport { TouchFeedback } from '../mobile/TouchFeedback';\r\n\r\ntype TabView = 'list' | 'analytics' | 'vehicles';\r\n\r\nexport function ICS212AdminDashboard() {\r\n  const [currentView, setCurrentView] = useState<TabView>('list');\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n      {/* Mobile Header */}\r\n      <header className=\"sticky top-0 z-50 bg-white dark:bg-gray-800 shadow-md\">\r\n        <div className=\"px-4 py-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <svg className=\"w-8 h-8 text-blue-600 dark:text-blue-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n            </svg>\r\n            <div className=\"flex-1\">\r\n              <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\r\n                ICS-212 Admin\r\n              </h1>\r\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                Vehicle Safety Inspections\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Tab Navigation */}\r\n        <nav className=\"flex border-t border-gray-200 dark:border-gray-700\">\r\n          <TouchFeedback>\r\n            <button\r\n              onClick={() => setCurrentView('list')}\r\n              className={`flex-1 px-4 py-3 text-sm font-medium transition-colors ${\r\n                currentView === 'list'\r\n                  ? 'border-b-2 border-blue-600 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20'\r\n                  : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-700/50'\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center justify-center gap-2\">\r\n                <span>üìã</span>\r\n                <span className=\"hidden sm:inline\">Forms</span>\r\n              </div>\r\n            </button>\r\n          </TouchFeedback>\r\n          \r\n          <TouchFeedback>\r\n            <button\r\n              onClick={() => setCurrentView('analytics')}\r\n              className={`flex-1 px-4 py-3 text-sm font-medium transition-colors ${\r\n                currentView === 'analytics'\r\n                  ? 'border-b-2 border-blue-600 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20'\r\n                  : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-700/50'\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center justify-center gap-2\">\r\n                <span>üìä</span>\r\n                <span className=\"hidden sm:inline\">Analytics</span>\r\n              </div>\r\n            </button>\r\n          </TouchFeedback>\r\n          \r\n          <TouchFeedback>\r\n            <button\r\n              onClick={() => setCurrentView('vehicles')}\r\n              className={`flex-1 px-4 py-3 text-sm font-medium transition-colors ${\r\n                currentView === 'vehicles'\r\n                  ? 'border-b-2 border-blue-600 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20'\r\n                  : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-700/50'\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center justify-center gap-2\">\r\n                <span>üöó</span>\r\n                <span className=\"hidden sm:inline\">Vehicles</span>\r\n              </div>\r\n            </button>\r\n          </TouchFeedback>\r\n        </nav>\r\n      </header>\r\n      \r\n      {/* Content Area with padding for mobile */}\r\n      <main className=\"p-4 pb-20 md:p-6 lg:p-8\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          {currentView === 'list' && <FormsList />}\r\n          {currentView === 'analytics' && <AnalyticsDashboard />}\r\n          {currentView === 'vehicles' && <VehicleManagement />}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["SwipeableListItem","children","leftAction","rightAction","threshold","className","useMotionValue","backgroundColor","useTransform","handleDragEnd","_","info","offset","jsxs","motion","jsx","PullToRefresh","onRefresh","isRefreshing","setIsRefreshing","useState","y","containerRef","useRef","opacity","rotate","handleDrag","container","BottomSheet","isOpen","onClose","title","showHandle","Dialog.Root","open","AnimatePresence","Dialog.Portal","Dialog.Overlay","Dialog.Content","Dialog.Title","WORKER_URL","API_BASE_URL","FormDetail","formId","loading","setLoading","form","setForm","useEffect","fetchFormDetail","response","data","error","showToast","handleDownloadPDF","TouchFeedback","FormsList","forms","setForms","page","setPage","totalPages","setTotalPages","searchTerm","setSearchTerm","statusFilter","setStatusFilter","dateFrom","setDateFrom","dateTo","setDateTo","selectedFormId","setSelectedFormId","fetchForms","useCallback","pageNum","append","params","prev","handleRefresh","handleLoadMore","handleViewForm","getStatusBadge","status","e","i","SkeletonLoader","Toast","AnalyticsDashboard","analytics","setAnalytics","fetchAnalytics","interval","pieData","ResponsiveContainer","LineChart","CartesianGrid","XAxis","YAxis","Tooltip","Line","PieChart","Pie","name","value","entry","index","Cell","BarChart","Bar","VehicleManagement","vehicles","setVehicles","fetchVehicles","filteredVehicles","vehicle","searchLower","ICS212AdminDashboard","currentView","setCurrentView"],"mappings":"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"}