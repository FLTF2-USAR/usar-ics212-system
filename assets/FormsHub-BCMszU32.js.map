{"version":3,"file":"FormsHub-BCMszU32.js","sources":["../../src/components/FormsHub.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { TouchFeedback } from './mobile/TouchFeedback';\r\nimport { Lock, ClipboardCheck, Truck, ArrowLeft } from 'lucide-react';\r\n\r\ninterface FormCardProps {\r\n  title: string;\r\n  subtitle: string;\r\n  description: string;\r\n  path: string;\r\n  locked: boolean;\r\n  icon: React.ReactNode;\r\n  badgeColor: string;\r\n  iconBgColor: string;\r\n  onClick: () => void;\r\n}\r\n\r\nfunction FormCard({ title, subtitle, description, locked, icon, badgeColor, iconBgColor, onClick }: FormCardProps) {\r\n  return (\r\n    <TouchFeedback>\r\n      <button\r\n        onClick={onClick}\r\n        className=\"w-full h-full bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 text-left hover:shadow-3xl hover:scale-[1.02] transition-all duration-200\"\r\n      >\r\n        <div className=\"flex items-start justify-between mb-4\">\r\n          <div className={`${iconBgColor} rounded-lg p-3`}>\r\n            {icon}\r\n          </div>\r\n          {locked ? (\r\n            <span className={`text-sm font-medium ${badgeColor} px-3 py-1 rounded-full flex items-center gap-1`}>\r\n              <Lock className=\"w-3 h-3\" />\r\n              Password Required\r\n            </span>\r\n          ) : (\r\n            <span className=\"text-sm font-medium text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900/30 px-3 py-1 rounded-full\">\r\n              Open Access\r\n            </span>\r\n          )}\r\n        </div>\r\n        \r\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\r\n          {title}\r\n        </h2>\r\n        <p className=\"text-lg text-gray-700 dark:text-gray-300 mb-4\">\r\n          {subtitle}\r\n        </p>\r\n        <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-6\">\r\n          {description}\r\n        </p>\r\n        \r\n        <div className={`flex items-center font-semibold ${locked ? badgeColor.replace('bg-', 'text-').replace('/30', '') : 'text-blue-600 dark:text-blue-400'}`}>\r\n          <span>Access Form</span>\r\n          <span className=\"ml-2 text-xl\">→</span>\r\n        </div>\r\n      </button>\r\n    </TouchFeedback>\r\n  );\r\n}\r\n\r\nexport function FormsHub() {\r\n  const navigate = useNavigate();\r\n  const [showPasswordModal, setShowPasswordModal] = useState(false);\r\n\r\n  const handleICS218Access = () => {\r\n    // Check if user already has access token\r\n    const token = sessionStorage.getItem('ics218_access_token');\r\n    if (token) {\r\n      navigate('/ics218');\r\n    } else {\r\n      setShowPasswordModal(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-[#0066FF] to-[#0052CC]\">\r\n      <div className=\"container mx-auto px-4 py-12\">\r\n        {/* Header with logo */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"text-center mb-12\"\r\n        >\r\n          <button\r\n            onClick={() => navigate('/')}\r\n            className=\"inline-flex items-center gap-2 text-white/90 hover:text-white mb-6 transition-colors\"\r\n          >\r\n            <ArrowLeft className=\"w-5 h-5\" />\r\n            <span>Back to Home</span>\r\n          </button>\r\n          \r\n          <img \r\n            src=\"/taskforce-io-logo.png\" \r\n            alt=\"TASKFORCE IO\" \r\n            className=\"w-20 h-20 mx-auto mb-4\"\r\n          />\r\n          <h1 className=\"text-4xl font-bold text-white mb-2\">Forms Hub</h1>\r\n          <p className=\"text-white/90 text-lg\">Select a form to get started</p>\r\n        </motion.div>\r\n        \r\n        {/* Grid of form cards */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.1 }}\r\n          className=\"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto\"\r\n        >\r\n          {/* ICS 212 Card */}\r\n          <FormCard \r\n            title=\"ICS 212\"\r\n            subtitle=\"Vehicle Safety Inspection\"\r\n            description=\"Create and manage vehicle safety inspection forms with digital signatures and automatic PDF generation.\"\r\n            path=\"/form\"\r\n            locked={false}\r\n            icon={<ClipboardCheck className=\"w-8 h-8 text-blue-600 dark:text-blue-400\" />}\r\n            badgeColor=\"text-blue-600 dark:text-blue-400\"\r\n            iconBgColor=\"bg-blue-100 dark:bg-blue-900/30\"\r\n            onClick={() => navigate('/form')}\r\n          />\r\n          \r\n          {/* ICS 218 Card */}\r\n          <FormCard \r\n            title=\"ICS 218\"\r\n            subtitle=\"Support Vehicle/Equipment Inventory\"\r\n            description=\"Manage support vehicle and equipment inventory for incident operations with comprehensive tracking.\"\r\n            path=\"/ics218\"\r\n            locked={true}\r\n            icon={<Truck className=\"w-8 h-8 text-orange-600 dark:text-orange-400\" />}\r\n            badgeColor=\"text-orange-600 dark:text-orange-400 bg-orange-100 dark:bg-orange-900/30\"\r\n            iconBgColor=\"bg-orange-100 dark:bg-orange-900/30\"\r\n            onClick={handleICS218Access}\r\n          />\r\n        </motion.div>\r\n\r\n        {/* Footer Info */}\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ delay: 0.2 }}\r\n          className=\"mt-12 text-center\"\r\n        >\r\n          <div className=\"flex items-center justify-center space-x-4 text-sm text-white/80\">\r\n            <span>✓ Auto-save</span>\r\n            <span>•</span>\r\n            <span>✓ Offline mode</span>\r\n            <span>•</span>\r\n            <span>✓ PDF export</span>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n\r\n      {/* Password Modal for ICS 218 */}\r\n      {showPasswordModal && (\r\n        <PasswordModal \r\n          onClose={() => setShowPasswordModal(false)}\r\n          onSuccess={() => {\r\n            setShowPasswordModal(false);\r\n            navigate('/ics218');\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Password Modal Component for ICS 218\r\nfunction PasswordModal({ onClose, onSuccess }: { onClose: () => void; onSuccess: () => void }) {\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [isValidating, setIsValidating] = useState(false);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setIsValidating(true);\r\n\r\n    try {\r\n      const correctPassword = 'ICS218Deploy2026!';\r\n      \r\n      if (password === correctPassword) {\r\n        const token = `session_ics218_${Date.now()}`;\r\n        sessionStorage.setItem('ics218_access_token', token);\r\n        onSuccess();\r\n      } else {\r\n        setError('Invalid password. Please try again.');\r\n      }\r\n    } catch (err) {\r\n      setError('An error occurred. Please try again.');\r\n    } finally {\r\n      setIsValidating(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.9 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 max-w-md w-full\"\r\n      >\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"bg-orange-100 dark:bg-orange-900/30 rounded-lg p-2\">\r\n              <Lock className=\"w-6 h-6 text-orange-600 dark:text-orange-400\" />\r\n            </div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\r\n              ICS 218 Access\r\n            </h2>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\r\n          This form requires a password to access. Please enter the ICS 218 deployment password.\r\n        </p>\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              className=\"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              placeholder=\"Enter password\"\r\n              autoFocus\r\n            />\r\n            {error && (\r\n              <p className=\"mt-2 text-sm text-red-600 dark:text-red-400 flex items-center gap-1\">\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n                {error}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex gap-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"flex-1 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium py-3 px-6 rounded-lg transition-colors\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isValidating || !password}\r\n              className=\"flex-1 bg-orange-600 hover:bg-orange-700 disabled:bg-gray-300 dark:disabled:bg-gray-600 text-white font-medium py-3 px-6 rounded-lg transition-colors disabled:cursor-not-allowed\"\r\n            >\r\n              {isValidating ? 'Validating...' : 'Access Form'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FormsHub;"],"names":["FormCard","title","subtitle","description","locked","icon","badgeColor","iconBgColor","onClick","TouchFeedback","jsxs","jsx","Lock","FormsHub","navigate","useNavigate","showPasswordModal","setShowPasswordModal","useState","handleICS218Access","motion","ArrowLeft","ClipboardCheck","Truck","PasswordModal","onClose","onSuccess","password","setPassword","error","setError","isValidating","setIsValidating","handleSubmit","e","token"],"mappings":"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"}