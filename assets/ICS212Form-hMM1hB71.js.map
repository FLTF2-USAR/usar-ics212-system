{"version":3,"file":"ICS212Form-hMM1hB71.js","sources":["../../node_modules/lucide-react/dist/esm/shared/src/utils.js","../../node_modules/lucide-react/dist/esm/defaultAttributes.js","../../node_modules/lucide-react/dist/esm/Icon.js","../../node_modules/lucide-react/dist/esm/createLucideIcon.js","../../node_modules/lucide-react/dist/esm/icons/chevron-down.js","../../node_modules/lucide-react/dist/esm/icons/circle-check-big.js","../../node_modules/lucide-react/dist/esm/icons/circle-x.js","../../node_modules/lucide-react/dist/esm/icons/loader-circle.js","../../node_modules/lucide-react/dist/esm/icons/lock.js","../../node_modules/lucide-react/dist/esm/icons/save.js","../../node_modules/lucide-react/dist/esm/icons/square-pen.js","../../node_modules/lucide-react/dist/esm/icons/trash-2.js","../../node_modules/lucide-react/dist/esm/icons/triangle-alert.js","../../node_modules/@radix-ui/react-progress/node_modules/@radix-ui/react-context/dist/index.mjs","../../node_modules/@radix-ui/react-slot/dist/index.mjs","../../node_modules/@radix-ui/react-progress/node_modules/@radix-ui/react-primitive/dist/index.mjs","../../node_modules/@radix-ui/react-progress/dist/index.mjs","../../src/components/mobile/ProgressIndicator.tsx","../../src/components/ics212/IncidentInfoStep.tsx","../../src/components/VehicleAutocomplete.tsx","../../src/components/ics212/VehicleSelectionStep.tsx","../../src/components/ics212/InspectionItemsStep.tsx","../../src/components/ics212/CommentsStep.tsx","../../node_modules/signature_pad/dist/signature_pad.js","../../src/components/SignatureCanvas.tsx","../../src/components/ics212/InspectorSignatureStep.tsx","../../src/components/ics212/ReviewSubmitStep.tsx","../../src/components/ICS212Form.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst toCamelCase = (string) => string.replace(\n  /^([A-Z])|[\\s-_]+(\\w)/g,\n  (match, p1, p2) => p2 ? p2.toUpperCase() : p1.toLowerCase()\n);\nconst toPascalCase = (string) => {\n  const camelCase = toCamelCase(string);\n  return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);\n};\nconst mergeClasses = (...classes) => classes.filter((className, index, array) => {\n  return Boolean(className) && className.trim() !== \"\" && array.indexOf(className) === index;\n}).join(\" \").trim();\nconst hasA11yProp = (props) => {\n  for (const prop in props) {\n    if (prop.startsWith(\"aria-\") || prop === \"role\" || prop === \"title\") {\n      return true;\n    }\n  }\n};\n\nexport { hasA11yProp, mergeClasses, toCamelCase, toKebabCase, toPascalCase };\n//# sourceMappingURL=utils.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\nimport { mergeClasses, hasA11yProp } from './shared/src/utils.js';\n\nconst Icon = forwardRef(\n  ({\n    color = \"currentColor\",\n    size = 24,\n    strokeWidth = 2,\n    absoluteStrokeWidth,\n    className = \"\",\n    children,\n    iconNode,\n    ...rest\n  }, ref) => createElement(\n    \"svg\",\n    {\n      ref,\n      ...defaultAttributes,\n      width: size,\n      height: size,\n      stroke: color,\n      strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n      className: mergeClasses(\"lucide\", className),\n      ...!children && !hasA11yProp(rest) && { \"aria-hidden\": \"true\" },\n      ...rest\n    },\n    [\n      ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n      ...Array.isArray(children) ? children : [children]\n    ]\n  )\n);\n\nexport { Icon as default };\n//# sourceMappingURL=Icon.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport { mergeClasses, toKebabCase, toPascalCase } from './shared/src/utils.js';\nimport Icon from './Icon.js';\n\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ className, ...props }, ref) => createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className\n      ),\n      ...props\n    })\n  );\n  Component.displayName = toPascalCase(iconName);\n  return Component;\n};\n\nexport { createLucideIcon as default };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]];\nconst ChevronDown = createLucideIcon(\"chevron-down\", __iconNode);\n\nexport { __iconNode, ChevronDown as default };\n//# sourceMappingURL=chevron-down.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21.801 10A10 10 0 1 1 17 3.335\", key: \"yps3ct\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n];\nconst CircleCheckBig = createLucideIcon(\"circle-check-big\", __iconNode);\n\nexport { __iconNode, CircleCheckBig as default };\n//# sourceMappingURL=circle-check-big.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n];\nconst CircleX = createLucideIcon(\"circle-x\", __iconNode);\n\nexport { __iconNode, CircleX as default };\n//# sourceMappingURL=circle-x.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"M21 12a9 9 0 1 1-6.219-8.56\", key: \"13zald\" }]];\nconst LoaderCircle = createLucideIcon(\"loader-circle\", __iconNode);\n\nexport { __iconNode, LoaderCircle as default };\n//# sourceMappingURL=loader-circle.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"11\", x: \"3\", y: \"11\", rx: \"2\", ry: \"2\", key: \"1w4ew1\" }],\n  [\"path\", { d: \"M7 11V7a5 5 0 0 1 10 0v4\", key: \"fwvmzm\" }]\n];\nconst Lock = createLucideIcon(\"lock\", __iconNode);\n\nexport { __iconNode, Lock as default };\n//# sourceMappingURL=lock.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\",\n      key: \"1c8476\"\n    }\n  ],\n  [\"path\", { d: \"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\", key: \"1ydtos\" }],\n  [\"path\", { d: \"M7 3v4a1 1 0 0 0 1 1h7\", key: \"t51u73\" }]\n];\nconst Save = createLucideIcon(\"save\", __iconNode);\n\nexport { __iconNode, Save as default };\n//# sourceMappingURL=save.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\", key: \"1m0v6g\" }],\n  [\n    \"path\",\n    {\n      d: \"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z\",\n      key: \"ohrbg2\"\n    }\n  ]\n];\nconst SquarePen = createLucideIcon(\"square-pen\", __iconNode);\n\nexport { __iconNode, SquarePen as default };\n//# sourceMappingURL=square-pen.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 11v6\", key: \"nco0om\" }],\n  [\"path\", { d: \"M14 11v6\", key: \"outv1u\" }],\n  [\"path\", { d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6\", key: \"miytrc\" }],\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\", key: \"e791ji\" }]\n];\nconst Trash2 = createLucideIcon(\"trash-2\", __iconNode);\n\nexport { __iconNode, Trash2 as default };\n//# sourceMappingURL=trash-2.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\",\n      key: \"wmoenq\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n];\nconst TriangleAlert = createLucideIcon(\"triangle-alert\", __iconNode);\n\nexport { __iconNode, TriangleAlert as default };\n//# sourceMappingURL=triangle-alert.js.map\n","// src/create-context.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createContext2(rootComponentName, defaultContext) {\n  const Context = React.createContext(defaultContext);\n  Context.displayName = rootComponentName + \"Context\";\n  const Provider = (props) => {\n    const { children, ...context } = props;\n    const value = React.useMemo(() => context, Object.values(context));\n    return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n  };\n  Provider.displayName = rootComponentName + \"Provider\";\n  function useContext2(consumerName) {\n    const context = React.useContext(Context);\n    if (context) return context;\n    if (defaultContext !== void 0) return defaultContext;\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n  }\n  return [Provider, useContext2];\n}\nfunction createContextScope(scopeName, createContextScopeDeps = []) {\n  let defaultContexts = [];\n  function createContext3(rootComponentName, defaultContext) {\n    const BaseContext = React.createContext(defaultContext);\n    BaseContext.displayName = rootComponentName + \"Context\";\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n    const Provider = (props) => {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const value = React.useMemo(() => context, Object.values(context));\n      return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n    };\n    Provider.displayName = rootComponentName + \"Provider\";\n    function useContext2(consumerName, scope) {\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== void 0) return defaultContext;\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n    return [Provider, useContext2];\n  }\n  const createScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n  createScope.scopeName = scopeName;\n  return [createContext3, composeContextScopes(createScope, ...createContextScopeDeps)];\n}\nfunction composeContextScopes(...scopes) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n  const createScope = () => {\n    const scopeHooks = scopes.map((createScope2) => ({\n      useScope: createScope2(),\n      scopeName: createScope2.scopeName\n    }));\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes2, { useScope, scopeName }) => {\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes2, ...currentScope };\n      }, {});\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\nexport {\n  createContext2 as createContext,\n  createContextScope\n};\n//# sourceMappingURL=index.mjs.map\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\nvar REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nvar use = React[\" use \".trim().toString()];\nfunction isPromiseLike(value) {\n  return typeof value === \"object\" && value !== null && \"then\" in value;\n}\nfunction isLazyComponent(element) {\n  return element != null && typeof element === \"object\" && \"$$typeof\" in element && element.$$typeof === REACT_LAZY_TYPE && \"_payload\" in element && isPromiseLike(element._payload);\n}\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === \"function\") {\n      children = use(children._payload);\n    }\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === \"function\") {\n      children = use(children._payload);\n    }\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","// src/primitive.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NODES = [\n  \"a\",\n  \"button\",\n  \"div\",\n  \"form\",\n  \"h2\",\n  \"h3\",\n  \"img\",\n  \"input\",\n  \"label\",\n  \"li\",\n  \"nav\",\n  \"ol\",\n  \"p\",\n  \"select\",\n  \"span\",\n  \"svg\",\n  \"ul\"\n];\nvar Primitive = NODES.reduce((primitive, node) => {\n  const Slot = createSlot(`Primitive.${node}`);\n  const Node = React.forwardRef((props, forwardedRef) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp = asChild ? Slot : node;\n    if (typeof window !== \"undefined\") {\n      window[Symbol.for(\"radix-ui\")] = true;\n    }\n    return /* @__PURE__ */ jsx(Comp, { ...primitiveProps, ref: forwardedRef });\n  });\n  Node.displayName = `Primitive.${node}`;\n  return { ...primitive, [node]: Node };\n}, {});\nfunction dispatchDiscreteCustomEvent(target, event) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\nvar Root = Primitive;\nexport {\n  Primitive,\n  Root,\n  dispatchDiscreteCustomEvent\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/progress.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar PROGRESS_NAME = \"Progress\";\nvar DEFAULT_MAX = 100;\nvar [createProgressContext, createProgressScope] = createContextScope(PROGRESS_NAME);\nvar [ProgressProvider, useProgressContext] = createProgressContext(PROGRESS_NAME);\nvar Progress = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeProgress,\n      value: valueProp = null,\n      max: maxProp,\n      getValueLabel = defaultGetValueLabel,\n      ...progressProps\n    } = props;\n    if ((maxProp || maxProp === 0) && !isValidMaxNumber(maxProp)) {\n      console.error(getInvalidMaxError(`${maxProp}`, \"Progress\"));\n    }\n    const max = isValidMaxNumber(maxProp) ? maxProp : DEFAULT_MAX;\n    if (valueProp !== null && !isValidValueNumber(valueProp, max)) {\n      console.error(getInvalidValueError(`${valueProp}`, \"Progress\"));\n    }\n    const value = isValidValueNumber(valueProp, max) ? valueProp : null;\n    const valueLabel = isNumber(value) ? getValueLabel(value, max) : void 0;\n    return /* @__PURE__ */ jsx(ProgressProvider, { scope: __scopeProgress, value, max, children: /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"aria-valuemax\": max,\n        \"aria-valuemin\": 0,\n        \"aria-valuenow\": isNumber(value) ? value : void 0,\n        \"aria-valuetext\": valueLabel,\n        role: \"progressbar\",\n        \"data-state\": getProgressState(value, max),\n        \"data-value\": value ?? void 0,\n        \"data-max\": max,\n        ...progressProps,\n        ref: forwardedRef\n      }\n    ) });\n  }\n);\nProgress.displayName = PROGRESS_NAME;\nvar INDICATOR_NAME = \"ProgressIndicator\";\nvar ProgressIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeProgress, ...indicatorProps } = props;\n    const context = useProgressContext(INDICATOR_NAME, __scopeProgress);\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": getProgressState(context.value, context.max),\n        \"data-value\": context.value ?? void 0,\n        \"data-max\": context.max,\n        ...indicatorProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nProgressIndicator.displayName = INDICATOR_NAME;\nfunction defaultGetValueLabel(value, max) {\n  return `${Math.round(value / max * 100)}%`;\n}\nfunction getProgressState(value, maxValue) {\n  return value == null ? \"indeterminate\" : value === maxValue ? \"complete\" : \"loading\";\n}\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isValidMaxNumber(max) {\n  return isNumber(max) && !isNaN(max) && max > 0;\n}\nfunction isValidValueNumber(value, max) {\n  return isNumber(value) && !isNaN(value) && value <= max && value >= 0;\n}\nfunction getInvalidMaxError(propValue, componentName) {\n  return `Invalid prop \\`max\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. Only numbers greater than 0 are valid max values. Defaulting to \\`${DEFAULT_MAX}\\`.`;\n}\nfunction getInvalidValueError(propValue, componentName) {\n  return `Invalid prop \\`value\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. The \\`value\\` prop must be:\n  - a positive number\n  - less than the value passed to \\`max\\` (or ${DEFAULT_MAX} if no \\`max\\` prop is set)\n  - \\`null\\` or \\`undefined\\` if the progress is indeterminate.\n\nDefaulting to \\`null\\`.`;\n}\nvar Root = Progress;\nvar Indicator = ProgressIndicator;\nexport {\n  Indicator,\n  Progress,\n  ProgressIndicator,\n  Root,\n  createProgressScope\n};\n//# sourceMappingURL=index.mjs.map\n","import React from 'react';\nimport { motion } from 'framer-motion';\nimport * as Progress from '@radix-ui/react-progress';\n\ninterface ProgressIndicatorProps {\n  currentStep: number;\n  totalSteps: number;\n  labels?: string[];\n  showPercentage?: boolean;\n  className?: string;\n}\n\nexport const ProgressIndicator: React.FC<ProgressIndicatorProps> = ({\n  currentStep,\n  totalSteps,\n  labels,\n  showPercentage = true,\n  className = '',\n}) => {\n  const progress = (currentStep / totalSteps) * 100;\n\n  return (\n    <div className={`w-full ${className}`}>\n      {/* Step indicators */}\n      <div className=\"flex justify-between items-center mb-2\">\n        {Array.from({ length: totalSteps }, (_, i) => {\n          const isCompleted = i < currentStep;\n          const isCurrent = i === currentStep - 1;\n          const stepNumber = i + 1;\n\n          return (\n            <div key={i} className=\"flex flex-col items-center flex-1\">\n             <motion.div\n                className={`\n                  w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm\n                  ${isCompleted ? 'bg-green-600 text-white' : ''}\n                  ${isCurrent ? 'bg-blue-600 text-white ring-4 ring-blue-200' : ''}\n                  ${!isCompleted && !isCurrent ? 'bg-gray-200 text-gray-600' : ''}\n                `}\n                initial={{ scale: 0 }}\n                animate={{ scale: 1 }}\n                transition={{\n                  type: 'spring',\n                  stiffness: 260,\n                  damping: 20,\n                  delay: i * 0.1,\n                }}\n              >\n                {isCompleted ? 'âœ“' : stepNumber}\n              </motion.div>\n              {labels && labels[i] && (\n                <span\n                  className={`\n                    text-xs mt-1 text-center max-w-[60px] leading-tight\n                    ${isCurrent ? 'font-semibold text-blue-600' : 'text-gray-600'}\n                  `}\n                >\n                  {labels[i]}\n                </span>\n              )}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Progress bar */}\n      <Progress.Root\n        className=\"relative overflow-hidden bg-gray-200 rounded-full w-full h-3 mt-4\"\n        value={progress}\n      >\n        <Progress.Indicator\n          asChild\n        >\n          <motion.div\n            className=\"bg-gradient-to-r from-blue-500 to-blue-600 h-full rounded-full\"\n            initial={{ width: 0 }}\n            animate={{ width: `${progress}%` }}\n            transition={{\n              type: 'spring',\n              stiffness: 100,\n              damping: 20,\n            }}\n          />\n        </Progress.Indicator>\n      </Progress.Root>\n\n      {/* Percentage text */}\n      {showPercentage && (\n        <motion.div\n          className=\"text-center mt-2 text-sm font-semibold text-gray-700\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.3 }}\n        >\n          Step {currentStep} of {totalSteps} ({Math.round(progress)}% complete)\n        </motion.div>\n      )}\n    </div>\n  );\n};\n\nexport default ProgressIndicator;\n","import React from 'react';\nimport { motion } from 'framer-motion';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport type { ICS212FormData } from '../../types';\n\ninterface IncidentInfoStepProps {\n  formData: Partial<ICS212FormData>;\n  onChange: (field: keyof ICS212FormData, value: any) => void;\n  onNext: () => void;\n  errors: Record<string, string>;\n}\n\nexport const IncidentInfoStep: React.FC<IncidentInfoStepProps> = ({\n  formData,\n  onChange,\n  onNext,\n  errors,\n}) => {\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onNext();\n  };\n\n  // Generate current date and time in proper format\n  const getCurrentDate = () => {\n    return new Date().toISOString().split('T')[0]; // YYYY-MM-DD\n  };\n\n  const getCurrentTime = () => {\n    const now = new Date();\n    const hours = String(now.getHours()).padStart(2, '0');\n    const minutes = String(now.getMinutes()).padStart(2, '0');\n    return `${hours}:${minutes}`; // HH:MM\n  };\n\n  return (\n    <motion.form\n      className=\"space-y-6 p-4 md:p-6\"\n      onSubmit={handleSubmit}\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Incident Information\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Complete prior to vehicle inspection\n        </p>\n      </div>\n\n      {/* Incident Name */}\n      <div>\n        <label\n          htmlFor=\"incidentName\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Incident Name *\n        </label>\n        <input\n          type=\"text\"\n          id=\"incidentName\"\n          value={formData.incidentName || ''}\n          onChange={(e) => onChange('incidentName', e.target.value)}\n          placeholder=\"e.g., Wildfire Response 2024\"\n          maxLength={100}\n          className={`\n            w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n            focus:outline-none focus:ring-4\n            ${errors.incidentName \n              ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n              : 'border-gray-300 focus:border-blue-500 focus:ring-blue-100'\n            }\n          `}\n          style={{ minHeight: '56px' }}\n        />\n        {errors.incidentName && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.incidentName}</p>\n        )}\n      </div>\n\n      {/* Date/Time Row */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <label\n            htmlFor=\"inspectorDate\"\n            className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n          >\n            Date *\n          </label>\n          <input\n            type=\"date\"\n            id=\"inspectorDate\"\n            value={formData.inspectorDate || getCurrentDate()}\n            onChange={(e) => onChange('inspectorDate', e.target.value)}\n            max={getCurrentDate()}\n            className={`\n              w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n              focus:outline-none focus:ring-4\n              ${errors.inspectorDate \n                ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n                : 'border-gray-300 focus:border-blue-500 focus:ring-blue-100'\n              }\n            `}\n            style={{ minHeight: '56px' }}\n          />\n          {errors.inspectorDate && (\n            <p className=\"mt-1 text-sm text-red-600\">{errors.inspectorDate}</p>\n          )}\n        </div>\n\n        <div>\n          <label\n            htmlFor=\"inspectorTime\"\n            className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n          >\n            Time *\n          </label>\n          <input\n            type=\"time\"\n            id=\"inspectorTime\"\n            value={formData.inspectorTime || getCurrentTime()}\n            onChange={(e) => onChange('inspectorTime', e.target.value)}\n            className={`\n              w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n              focus:outline-none focus:ring-4\n              ${errors.inspectorTime \n                ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n                : 'border-gray-300 focus:border-blue-500 focus:ring-blue-100'\n              }\n            `}\n            style={{ minHeight: '56px' }}\n          />\n          {errors.inspectorTime && (\n            <p className=\"mt-1 text-sm text-red-600\">{errors.inspectorTime}</p>\n          )}\n        </div>\n      </div>\n\n      {/* Order Number (Optional) */}\n      <div>\n        <label\n          htmlFor=\"orderNo\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Order Number <span className=\"text-gray-500\">(Optional)</span>\n        </label>\n        <input\n          type=\"text\"\n          id=\"orderNo\"\n          value={formData.orderNo || ''}\n          onChange={(e) => onChange('orderNo', e.target.value)}\n          placeholder=\"e.g., ORDER-2024-00123\"\n          maxLength={50}\n          className=\"\n            w-full px-4 py-3 text-base rounded-xl border-2 border-gray-300\n            transition-all focus:outline-none focus:ring-4\n            focus:border-blue-500 focus:ring-blue-100\n          \"\n          style={{ minHeight: '56px' }}\n        />\n      </div>\n\n      {/* Next Button */}\n      <TouchFeedback onTap={() => onNext()} hapticType=\"medium\">\n        <button\n          type=\"submit\"\n          className=\"\n            w-full bg-blue-600 hover:bg-blue-700 text-white font-bold\n            py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n            focus:outline-none focus:ring-4 focus:ring-blue-300\n          \"\n          style={{ minHeight: '56px' }}\n        >\n          Next: Vehicle Selection\n        </button>\n      </TouchFeedback>\n    </motion.form>\n  );\n};\n\nexport default IncidentInfoStep;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport type { Vehicle } from '../types';\nimport SkeletonLoader from './mobile/SkeletonLoader';\n\ninterface VehicleAutocompleteProps {\n  value: string;\n  onChange: (value: string, vehicle?: Vehicle) => void;\n  onVehicleSelect?: (vehicle: Vehicle) => void;\n  apiEndpoint?: string;\n  className?: string;\n  error?: string;\n}\n\nexport const VehicleAutocomplete: React.FC<VehicleAutocompleteProps> = ({\n  value,\n  onChange,\n  onVehicleSelect,\n  apiEndpoint = '/api/vehicles/autocomplete',\n  className = '',\n  error,\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [vehicles, setVehicles] = useState<Vehicle[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(value);\n  const debounceTimer = useRef<number | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  // Debounced search\n  useEffect(() => {\n    if (debounceTimer.current) {\n      clearTimeout(debounceTimer.current);\n    }\n\n    if (searchQuery.trim().length < 2) {\n      setVehicles([]);\n      setIsOpen(false);\n      return;\n    }\n\n    debounceTimer.current = setTimeout(async () => {\n      setIsLoading(true);\n      try {\n        const response = await fetch(`${apiEndpoint}?q=${encodeURIComponent(searchQuery)}`);\n        if (response.ok) {\n          const data = await response.json();\n          setVehicles(data.vehicles || []);\n          setIsOpen(true);\n        }\n      } catch (error)  {\n        console.error('Vehicle search error:', error);\n        setVehicles([]);\n      } finally {\n        setIsLoading(false);\n      }\n    }, 300);\n\n    return () => {\n      if (debounceTimer.current) {\n        clearTimeout(debounceTimer.current);\n      }\n    };\n  }, [searchQuery, apiEndpoint]);\n\n  // Handle click outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = e.target.value;\n    setSearchQuery(newValue);\n    onChange(newValue);\n  };\n\n  const handleVehicleSelect = (vehicle: Vehicle) => {\n    setSearchQuery(vehicle.vehicleId);\n    onChange(vehicle.vehicleId, vehicle);\n    onVehicleSelect?.(vehicle);\n    setIsOpen(false);\n  };\n\n  return (\n    <div ref={containerRef} className={`relative ${className}`}>\n      {/* Input Field */}\n      <div className=\"relative\">\n        <input\n          type=\"text\"\n          value={searchQuery}\n          onChange={handleInputChange}\n          onFocus={() => searchQuery.length >= 2 && setIsOpen(true)}\n          placeholder=\"Search vehicle ID, make, or model...\"\n          className={`\n            w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n            focus:outline-none focus:ring-4\n            ${error \n              ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n              : 'border-gray-300 focus:border-blue-500 focus:ring-blue-100'\n            }\n            ${isLoading ? 'pr-12' : ''}\n          `}\n          style={{ minHeight: '48px' }} // 88px touch target with padding\n        />\n        {isLoading && (\n          <div className=\"absolute right-4 top-1/2 -translate-y-1/2\">\n            <motion.div\n              className=\"w-5 h-5 border-3 border-blue-500 border-t-transparent rounded-full\"\n              animate={{ rotate: 360 }}\n              transition={{ repeat: Infinity, duration: 1, ease: 'linear' }}\n            />\n          </div>\n        )}\n      </div>\n\n      {/* Error Message */}\n      {error && (\n        <p className=\"mt-1 text-sm text-red-600\">{error}</p>\n      )}\n\n      {/* Dropdown Results */}\n      <AnimatePresence>\n        {isOpen && vehicles.length > 0 && (\n          <motion.div\n            className=\"absolute z-50 w-full mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-h-80 overflow-y-auto\"\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -10 }}\n            transition={{ duration: 0.2 }}\n          >\n            {vehicles.map((vehicle) => (\n              <motion.button\n                key={vehicle.id}\n                onClick={() => handleVehicleSelect(vehicle)}\n                className=\"w-full px-4 py-3 text-left hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors border-b border-gray-200 dark:border-gray-700 last:border-b-0\"\n                style={{ minHeight: '56px' }}\n                whileHover={{ backgroundColor: 'rgba(59, 130, 246, 0.1)' }}\n                whileTap={{ scale: 0.98 }}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex-1\">\n                    <p className=\"font-semibold text-gray-900 dark:text-white\">\n                      {vehicle.vehicleId}\n                    </p>\n                    {(vehicle.make || vehicle.model) && (\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                        {[vehicle.year, vehicle.make, vehicle.model]\n                          .filter(Boolean)\n                          .join(' ')}\n                      </p>\n                    )}\n                    {vehicle.agencyUnit && (\n                      <p className=\"text-xs text-gray-500 dark:text-gray-500 mt-0.5\">\n                        {vehicle.agencyUnit}\n                      </p>\n                    )}\n                  </div>\n                  {vehicle.status && (\n                    <span\n                      className={`\n                        ml-3 px-2 py-1 text-xs font-medium rounded-full\n                        ${vehicle.status === 'In Service' \n                          ? 'bg-green-100 text-green-800' \n                          : vehicle.status === 'Out of Service'\n                          ? 'bg-red-100 text-red-800'\n                          : 'bg-yellow-100 text-yellow-800'\n                        }\n                      `}\n                    >\n                      {vehicle.status}\n                    </span>\n                  )}\n                </div>\n              </motion.button>\n            ))}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Loading Skeleton */}\n      {isLoading && isOpen && (\n        <div className=\"absolute z-50 w-full mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-4\">\n          <SkeletonLoader type=\"text\" count={3} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default VehicleAutocomplete;\n","import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport VehicleAutocomplete from '../VehicleAutocomplete';\nimport type { ICS212FormData, Vehicle } from '../../types';\n\ninterface VehicleSelectionStepProps {\n  formData: Partial<ICS212FormData>;\n  onChange: (field: keyof ICS212FormData, value: any) => void;\n  onNext: () => void;\n  onBack: () => void;\n  errors: Record<string, string>;\n}\n\nexport const VehicleSelectionStep: React.FC<VehicleSelectionStepProps> = ({\n  formData,\n  onChange,\n  onNext,\n  onBack,\n  errors,\n}) => {\n  const [selectedVehicle, setSelectedVehicle] = useState<Vehicle | null>(null);\n\n  const handleVehicleSelect = (vehicle: Vehicle) => {\n    setSelectedVehicle(vehicle);\n    // Auto-populate vehicle fields\n    onChange('vehicleIdNo', vehicle.vehicleId);\n    onChange('vehicleLicenseNo', vehicle.licensePlate || '');\n    onChange('vehicleType', vehicle.vehicleType || '');\n    onChange('agencyRegUnit', vehicle.agencyUnit || '');\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onNext();\n  };\n\n  return (\n    <motion.form\n      className=\"space-y-6 p-4 md:p-6\"\n      onSubmit={handleSubmit}\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Vehicle Selection\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Select the vehicle to inspect\n        </p>\n      </div>\n\n      {/* Vehicle Autocomplete */}\n      <div>\n        <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">\n          Vehicle ID *\n        </label>\n        <VehicleAutocomplete\n          value={formData.vehicleIdNo || ''}\n          onChange={(value) => onChange('vehicleIdNo', value)}\n          onVehicleSelect={handleVehicleSelect}\n          error={errors.vehicleIdNo}\n          apiEndpoint=\"/api/vehicles/autocomplete\"\n        />\n        <p className=\"mt-1 text-xs text-gray-500\">\n          Search by vehicle ID, make, or model\n        </p>\n      </div>\n\n      {/* Selected Vehicle Info Card */}\n      {selectedVehicle && (\n        <motion.div\n          className=\"bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl p-4\"\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.3 }}\n        >\n          <h3 className=\"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-3\">\n            Selected Vehicle Details\n          </h3>\n          <div className=\"grid grid-cols-2 gap-3 text-sm\">\n            <div>\n              <p className=\"text-gray-600 dark:text-gray-400\">Make/Model</p>\n              <p className=\"font-semibold text-gray-900 dark:text-white\">\n                {[selectedVehicle.year, selectedVehicle.make, selectedVehicle.model]\n                  .filter(Boolean)\n                  .join(' ') || 'N/A'}\n              </p>\n            </div>\n            <div>\n              <p className=\"text-gray-600 dark:text-gray-400\">License Plate</p>\n              <p className=\"font-semibold text-gray-900 dark:text-white\">\n                {selectedVehicle.licensePlate || 'N/A'}\n              </p>\n            </div>\n            <div>\n              <p className=\"text-gray-600 dark:text-gray-400\">Agency Unit</p>\n              <p className=\"font-semibold text-gray-900 dark:text-white\">\n                {selectedVehicle.agencyUnit || 'N/A'}\n              </p>\n            </div>\n            <div>\n              <p className=\"text-gray-600 dark:text-gray-400\">Status</p>\n              <span\n                className={`\n                  inline-block px-2 py-1 text-xs font-medium rounded-full\n                  ${selectedVehicle.status === 'In Service' \n                    ? 'bg-green-100 text-green-800' \n                    : selectedVehicle.status === 'Out of Service'\n                    ? 'bg-red-100 text-red-800'\n                    : 'bg-yellow-100 text-yellow-800'\n                  }\n                `}\n              >\n                {selectedVehicle.status || 'Unknown'}\n              </span>\n            </div>\n          </div>\n        </motion.div>\n      )}\n\n      {/* Odometer Reading */}\n      <div>\n        <label\n          htmlFor=\"odometerReading\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Odometer Reading (miles) *\n        </label>\n        <input\n          type=\"number\"\n          id=\"odometerReading\"\n          value={formData.odometerReading || ''}\n          onChange={(e) => onChange('odometerReading', parseInt(e.target.value) || 0)}\n          placeholder=\"Enter current odometer reading\"\n          min={0}\n          max={999999999}\n          className={`\n            w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n            focus:outline-none focus:ring-4\n            ${errors.odometerReading \n              ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n              : 'border-gray-300 focus:border-blue-500 focus:ring-blue-100'\n            }\n          `}\n          style={{ minHeight: '56px' }}\n        />\n        {errors.odometerReading && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.odometerReading}</p>\n        )}\n        {selectedVehicle?.lastOdometer && (\n          <p className=\"mt-1 text-xs text-gray-500\">\n            Last recorded: {selectedVehicle.lastOdometer.toLocaleString()} miles\n          </p>\n        )}\n      </div>\n\n      {/* Auto-populated fields (read-only display) */}\n      <div className=\"space-y-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4\">\n        <h3 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">\n          Auto-Populated Vehicle Information\n        </h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-xs text-gray-600 dark:text-gray-400 mb-1\">\n              License Number\n            </label>\n            <input\n              type=\"text\"\n              value={formData.vehicleLicenseNo || ''}\n              onChange={(e) => onChange('vehicleLicenseNo', e.target.value)}\n              placeholder=\"Enter license number\"\n              className=\"w-full px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-xs text-gray-600 dark:text-gray-400 mb-1\">\n              Agency Reg/Unit\n            </label>\n            <input\n              type=\"text\"\n              value={formData.agencyRegUnit || ''}\n              onChange={(e) => onChange('agencyRegUnit', e.target.value)}\n              placeholder=\"Enter agency unit\"\n              className=\"w-full px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700\"\n            />\n          </div>\n\n          <div className=\"md:col-span-2\">\n            <label className=\"block text-xs text-gray-600 dark:text-gray-400 mb-1\">\n              Vehicle Type\n            </label>\n            <input\n              type=\"text\"\n              value={formData.vehicleType || ''}\n              onChange={(e) => onChange('vehicleType', e.target.value)}\n              placeholder=\"e.g., Rescue, Engine, Ladder\"\n              className=\"w-full px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex gap-3\">\n        <TouchFeedback onTap={() => onBack()} hapticType=\"light\">\n          <button\n            type=\"button\"\n            onClick={onBack}\n            className=\"\n              flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\n              py-4 px-6 rounded-xl transition-all\n              focus:outline-none focus:ring-4 focus:ring-gray-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Back\n          </button>\n        </TouchFeedback>\n\n        <TouchFeedback onTap={() => onNext()} hapticType=\"medium\">\n          <button\n            type=\"submit\"\n            className=\"\n              flex-[2] bg-blue-600 hover:bg-blue-700 text-white font-bold\n              py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n              focus:outline-none focus:ring-4 focus:ring-blue-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Next: Inspection Items\n          </button>\n        </TouchFeedback>\n      </div>\n    </motion.form>\n  );\n};\n\nexport default VehicleSelectionStep;\n","import React, { useState, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { ChevronDown, AlertTriangle, CheckCircle, XCircle } from 'lucide-react';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport type { ICS212FormData, InspectionItem } from '../../types';\n\ninterface InspectionItemsStepProps {\n  formData: Partial<ICS212FormData>;\n  onChange: (field: keyof ICS212FormData, value: any) => void;\n  onNext: () => void;\n  onBack: () => void;\n  errors: Record<string, string>;\n}\n\n// Define all 17 inspection items (items 1-13 are safety-critical)\nconst INSPECTION_ITEMS: InspectionItem[] = [\n  { itemNumber: 1, description: 'Gauges and lights', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 2, description: 'Seat belts', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 3, description: 'Glass and mirrors', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 4, description: 'Wipers and horn', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 5, description: 'Engine compartment', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 6, description: 'Fuel System', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 7, description: 'Steering', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 8, description: 'Brakes', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 9, description: 'Drive line U-joints', status: 'n/a', isSafetyItem: false, reference: 'Check play' },\n  { itemNumber: 10, description: 'Springs and shocks', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 11, description: 'Exhaust system', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 12, description: 'Frame', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 13, description: 'Tire and wheels', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 14, description: 'Coupling devices / Emergency exit (buses)', status: 'n/a', isSafetyItem: false },\n  { itemNumber: 15, description: 'Pump operation', status: 'n/a', isSafetyItem: false },\n  { itemNumber: 16, description: 'Damage on incident', status: 'n/a', isSafetyItem: false },\n  { itemNumber: 17, description: 'Other', status: 'n/a', isSafetyItem: false },\n];\n\nexport const InspectionItemsStep: React.FC<InspectionItemsStepProps> = ({\n  formData,\n  onChange,\n  onNext,\n  onBack,\n  errors: _errors,\n}) => {\n  const [expandedSections, setExpandedSections] = useState<Set<string>>(new Set(['pre-trip', 'safety', 'operational']));\n  \n  // Initialize inspection items if not already set\n  const inspectionItems = formData.inspectionItems || INSPECTION_ITEMS;\n\n  // Calculate release decision\n  const releaseDecision = useMemo(() => {\n    const safetyItemsFailed = inspectionItems.some(\n      item => item.isSafetyItem && item.status === 'fail'\n    );\n    return safetyItemsFailed ? 'hold' : 'release';\n  }, [inspectionItems]);\n\n  const handleItemStatusChange = (itemNumber: number, status: 'pass' | 'fail' | 'n/a') => {\n    const updatedItems = inspectionItems.map(item =>\n      item.itemNumber === itemNumber ? { ...item, status } : item\n    );\n    onChange('inspectionItems', updatedItems);\n    onChange('releaseStatus', releaseDecision);\n  };\n\n  const toggleSection = (section: string) => {\n    const newExpanded = new Set(expandedSections);\n    if (newExpanded.has(section)) {\n      newExpanded.delete(section);\n    } else {\n      newExpanded.add(section);\n    }\n    setExpandedSections(newExpanded);\n  };\n\n  const renderInspectionItem = (item: InspectionItem) => {\n    const itemData = inspectionItems.find(i => i.itemNumber === item.itemNumber) || item;\n\n    return (\n      <div key={item.itemNumber} className=\"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\">\n        <div className=\"flex items-start gap-3\">\n          {item.isSafetyItem && (\n            <AlertTriangle className=\"w-5 h-5 text-amber-500 flex-shrink-0 mt-1\" />\n          )}\n          <div className=\"flex-1\">\n            <div className=\"flex items-start justify-between mb-2\">\n              <div>\n                <h4 className=\"font-semibold text-gray-900 dark:text-white\">\n                  {item.itemNumber}. {item.description}\n                </h4>\n                {item.reference && (\n                  <p className=\"text-xs text-gray-500 dark:text-gray-400\">{item.reference}</p>\n                )}\n              </div>\n            </div>\n\n            {/* Status Toggle Buttons */}\n            <div className=\"flex gap-2 mt-3\">\n              <TouchFeedback onTap={() => handleItemStatusChange(item.itemNumber, 'pass')} hapticType=\"light\">\n                <button\n                  type=\"button\"\n                  onClick={() => handleItemStatusChange(item.itemNumber, 'pass')}\n                  className={`\n                    flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg\n                    font-semibold transition-all border-2\n                    ${itemData.status === 'pass'\n                      ? 'bg-green-500 text-white border-green-600 shadow-lg'\n                      : 'bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600'\n                    }\n                  `}\n                  style={{ minHeight: '48px' }}\n                >\n                  <CheckCircle className=\"w-4 h-4\" />\n                  Pass\n                </button>\n              </TouchFeedback>\n\n              <TouchFeedback onTap={() => handleItemStatusChange(item.itemNumber, 'fail')} hapticType=\"medium\">\n                <button\n                  type=\"button\"\n                  onClick={() => handleItemStatusChange(item.itemNumber, 'fail')}\n                  className={`\n                    flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg\n                    font-semibold transition-all border-2\n                    ${itemData.status === 'fail'\n                      ? 'bg-red-500 text-white border-red-600 shadow-lg'\n                      : 'bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600'\n                    }\n                  `}\n                  style={{ minHeight: '48px' }}\n                >\n                  <XCircle className=\"w-4 h-4\" />\n                  Fail\n                </button>\n              </TouchFeedback>\n\n              <TouchFeedback onTap={() => handleItemStatusChange(item.itemNumber, 'n/a')} hapticType=\"light\">\n                <button\n                  type=\"button\"\n                  onClick={() => handleItemStatusChange(item.itemNumber, 'n/a')}\n                  className={`\n                    flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg\n                    font-semibold transition-all border-2\n                    ${itemData.status === 'n/a'\n                      ? 'bg-gray-400 text-white border-gray-500 shadow-lg'\n                      : 'bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600'\n                    }\n                  `}\n                  style={{ minHeight: '48px' }}\n                >\n                  N/A\n                </button>\n              </TouchFeedback>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderSection = (title: string, sectionKey: string, items: InspectionItem[], subtitle?: string) => {\n    const isExpanded = expandedSections.has(sectionKey);\n\n    return (\n      <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-xl overflow-hidden\">\n        <button\n          type=\"button\"\n          onClick={() => toggleSection(sectionKey)}\n          className=\"w-full p-4 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors\"\n        >\n          <div className=\"text-left\">\n            <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">\n              {title}\n            </h3>\n            {subtitle && (\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">{subtitle}</p>\n            )}\n          </div>\n          <ChevronDown\n            className={`w-6 h-6 text-gray-600 dark:text-gray-400 transition-transform ${isExpanded ? 'rotate-180' : ''}`}\n          />\n        </button>\n\n        <AnimatePresence>\n          {isExpanded && (\n            <motion.div\n              initial={{ height: 0, opacity: 0 }}\n              animate={{ height: 'auto', opacity: 1 }}\n              exit={{ height: 0, opacity: 0 }}\n              transition={{ duration: 0.3 }}\n              className=\"overflow-hidden\"\n            >\n              <div className=\"p-4 space-y-3\">\n                {items.map(renderInspectionItem)}\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    );\n  };\n\n  return (\n    <motion.div\n      className=\"space-y-6 p-4 md:p-6\"\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Vehicle Inspection\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Inspect all items and mark Pass, Fail, or N/A\n        </p>\n      </div>\n\n      {/* Release Decision Banner */}\n      <motion.div\n        className={`\n          p-4 rounded-xl border-2 flex items-center justify-between\n          ${releaseDecision === 'hold'\n            ? 'bg-red-50 border-red-500 dark:bg-red-900/20 dark:border-red-700'\n            : 'bg-green-50 border-green-500 dark:bg-green-900/20 dark:border-green-700'\n          }\n        `}\n        layout\n      >\n        <div className=\"flex items-center gap-3\">\n          {releaseDecision === 'hold' ? (\n            <AlertTriangle className=\"w-6 h-6 text-red-600 dark:text-red-400\" />\n          ) : (\n            <CheckCircle className=\"w-6 h-6 text-green-600 dark:text-green-400\" />\n          )}\n          <div>\n            <p className={`font-bold text-lg ${releaseDecision === 'hold' ? 'text-red-900 dark:text-red-100' : 'text-green-900 dark:text-green-100'}`}>\n              {releaseDecision === 'hold' ? 'ðŸ”´ HOLD FOR REPAIRS' : 'ðŸŸ¢ RELEASED'}\n            </p>\n            {releaseDecision === 'hold' && (\n              <p className=\"text-sm text-red-700 dark:text-red-300\">\n                Safety Item â€“ Do Not Release Until Repaired\n              </p>\n            )}\n          </div>\n        </div>\n      </motion.div>\n\n      {/* Inspection Sections */}\n      <div className=\"space-y-4\">\n        {renderSection(\n          'Pre-Trip Items',\n          'pre-trip',\n          INSPECTION_ITEMS.slice(0, 5),\n          'Items 1-5'\n        )}\n        \n        {renderSection(\n          'Safety Equipment',\n          'safety',\n          INSPECTION_ITEMS.slice(5, 13),\n          'âš ï¸ Items 6-13 - All Safety-Critical'\n        )}\n        \n        {renderSection(\n          'Operational Systems',\n          'operational',\n          INSPECTION_ITEMS.slice(13),\n          'Items 14-17'\n        )}\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex gap-3 sticky bottom-4 bg-white dark:bg-gray-900 p-4 rounded-xl shadow-lg\">\n        <TouchFeedback onTap={() => onBack()} hapticType=\"light\">\n          <button\n            type=\"button\"\n            onClick={onBack}\n            className=\"\n              flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\n              py-4 px-6 rounded-xl transition-all\n              focus:outline-none focus:ring-4 focus:ring-gray-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Back\n          </button>\n        </TouchFeedback>\n\n        <TouchFeedback onTap={() => onNext()} hapticType=\"medium\">\n          <button\n            type=\"button\"\n            onClick={onNext}\n            className=\"\n              flex-[2] bg-blue-600 hover:bg-blue-700 text-white font-bold\n              py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n              focus:outline-none focus:ring-4 focus:ring-blue-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Next: Comments\n          </button>\n        </TouchFeedback>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default InspectionItemsStep;\n","import React, { useRef, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport type { ICS212FormData } from '../../types';\n\ninterface CommentsStepProps {\n  formData: Partial<ICS212FormData>;\n  onChange: (field: keyof ICS212FormData, value: any) => void;\n  onNext: () => void;\n  onBack: () => void;\n}\n\nexport const CommentsStep: React.FC<CommentsStepProps> = ({\n  formData,\n  onChange,\n  onNext,\n  onBack,\n}) => {\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const maxLength = 2000;\n  const currentLength = (formData.additionalComments || '').length;\n\n  // Auto-resize textarea\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n    }\n  }, [formData.additionalComments]);\n\n  return (\n    <motion.div\n      className=\"space-y-6 p-4 md:p-6\"\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Additional Comments\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Add any notes, repair recommendations, or additional findings (optional)\n        </p>\n      </div>\n\n      {/* Comments Textarea */}\n      <div>\n        <label\n          htmlFor=\"additionalComments\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Comments <span className=\"text-gray-500\">(Optional)</span>\n        </label>\n        <textarea\n          ref={textareaRef}\n          id=\"additionalComments\"\n          value={formData.additionalComments || ''}\n          onChange={(e) => onChange('additionalComments', e.target.value)}\n          placeholder=\"Enter any additional comments, notes, or repair recommendations...\"\n          maxLength={maxLength}\n          rows={10}\n          className=\"\n            w-full px-4 py-3 text-base rounded-xl border-2 border-gray-300\n            transition-all focus:outline-none focus:ring-4\n            focus:border-blue-500 focus:ring-blue-100 resize-none\n            dark:bg-gray-800 dark:border-gray-600 dark:text-white\n          \"\n          style={{ minHeight: '200px' }}\n        />\n        <div className=\"flex justify-between items-center mt-2\">\n          <p className=\"text-xs text-gray-500\">\n            Detailed notes help with repairs and maintenance tracking\n          </p>\n          <p className={`text-sm font-medium ${currentLength > maxLength * 0.9 ? 'text-red-600' : 'text-gray-600'}`}>\n            {currentLength} / {maxLength}\n          </p>\n        </div>\n      </div>\n\n      {/* Quick Suggestion Buttons */}\n      <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4\">\n        <h3 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3\">\n          Quick Suggestions\n        </h3>\n        <div className=\"flex flex-wrap gap-2\">\n          {[\n            'No issues found',\n            'Minor wear observed',\n            'Requires immediate attention',\n            'Scheduled maintenance due',\n            'Pre-incident condition noted',\n          ].map((suggestion) => (\n            <button\n              key={suggestion}\n              type=\"button\"\n              onClick={() => {\n                const current = formData.additionalComments || '';\n                const separator = current ? '\\n' : '';\n                onChange('additionalComments', `${current}${separator}${suggestion}`);\n              }}\n              className=\"\n                px-3 py-2 text-sm rounded-lg bg-white dark:bg-gray-700\n                border border-gray-300 dark:border-gray-600\n                hover:bg-blue-50 hover:border-blue-300 dark:hover:bg-gray-600\n                transition-colors text-gray-700 dark:text-gray-300\n              \"\n            >\n              + {suggestion}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex gap-3 sticky bottom-4 bg-white dark:bg-gray-900 p-4 rounded-xl shadow-lg\">\n        <TouchFeedback onTap={() => onBack()} hapticType=\"light\">\n          <button\n            type=\"button\"\n            onClick={onBack}\n            className=\"\n              flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\n              py-4 px-6 rounded-xl transition-all\n              focus:outline-none focus:ring-4 focus:ring-gray-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Back\n          </button>\n        </TouchFeedback>\n\n        <TouchFeedback onTap={() => onNext()} hapticType=\"medium\">\n          <button\n            type=\"button\"\n            onClick={onNext}\n            className=\"\n              flex-[2] bg-blue-600 hover:bg-blue-700 text-white font-bold\n              py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n              focus:outline-none focus:ring-4 focus:ring-blue-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Next: Inspector Signature\n          </button>\n        </TouchFeedback>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default CommentsStep;\n","/*!\n * Signature Pad v5.1.3 | https://github.com/szimek/signature_pad\n * (c) 2025 Szymon Nowak | Released under the MIT license\n */\n\n\n// src/point.ts\nvar Point = class {\n  x;\n  y;\n  pressure;\n  time;\n  constructor(x, y, pressure, time) {\n    if (isNaN(x) || isNaN(y)) {\n      throw new Error(`Point is invalid: (${x}, ${y})`);\n    }\n    this.x = +x;\n    this.y = +y;\n    this.pressure = pressure || 0;\n    this.time = time || Date.now();\n  }\n  distanceTo(start) {\n    return Math.sqrt(\n      Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2)\n    );\n  }\n  equals(other) {\n    return this.x === other.x && this.y === other.y && this.pressure === other.pressure && this.time === other.time;\n  }\n  velocityFrom(start) {\n    return this.time !== start.time ? this.distanceTo(start) / (this.time - start.time) : 0;\n  }\n};\n\n// src/bezier.ts\nvar Bezier = class _Bezier {\n  constructor(startPoint, control2, control1, endPoint, startWidth, endWidth) {\n    this.startPoint = startPoint;\n    this.control2 = control2;\n    this.control1 = control1;\n    this.endPoint = endPoint;\n    this.startWidth = startWidth;\n    this.endWidth = endWidth;\n  }\n  static fromPoints(points, widths) {\n    const c2 = this.calculateControlPoints(points[0], points[1], points[2]).c2;\n    const c3 = this.calculateControlPoints(points[1], points[2], points[3]).c1;\n    return new _Bezier(points[1], c2, c3, points[2], widths.start, widths.end);\n  }\n  static calculateControlPoints(s1, s2, s3) {\n    const dx1 = s1.x - s2.x;\n    const dy1 = s1.y - s2.y;\n    const dx2 = s2.x - s3.x;\n    const dy2 = s2.y - s3.y;\n    const m1 = { x: (s1.x + s2.x) / 2, y: (s1.y + s2.y) / 2 };\n    const m2 = { x: (s2.x + s3.x) / 2, y: (s2.y + s3.y) / 2 };\n    const l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n    const l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n    const dxm = m1.x - m2.x;\n    const dym = m1.y - m2.y;\n    const k = l1 + l2 == 0 ? 0 : l2 / (l1 + l2);\n    const cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n    const tx = s2.x - cm.x;\n    const ty = s2.y - cm.y;\n    return {\n      c1: new Point(m1.x + tx, m1.y + ty),\n      c2: new Point(m2.x + tx, m2.y + ty)\n    };\n  }\n  // Returns approximated length. Code taken from https://www.lemoda.net/maths/bezier-length/index.html.\n  length() {\n    const steps = 10;\n    let length = 0;\n    let px;\n    let py;\n    for (let i = 0; i <= steps; i += 1) {\n      const t = i / steps;\n      const cx = this.point(\n        t,\n        this.startPoint.x,\n        this.control1.x,\n        this.control2.x,\n        this.endPoint.x\n      );\n      const cy = this.point(\n        t,\n        this.startPoint.y,\n        this.control1.y,\n        this.control2.y,\n        this.endPoint.y\n      );\n      if (i > 0) {\n        const xdiff = cx - px;\n        const ydiff = cy - py;\n        length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n      }\n      px = cx;\n      py = cy;\n    }\n    return length;\n  }\n  // Calculate parametric value of x or y given t and the four point coordinates of a cubic bezier curve.\n  point(t, start, c1, c2, end) {\n    return start * (1 - t) * (1 - t) * (1 - t) + 3 * c1 * (1 - t) * (1 - t) * t + 3 * c2 * (1 - t) * t * t + end * t * t * t;\n  }\n};\n\n// src/signature_event_target.ts\nvar SignatureEventTarget = class {\n  /* tslint:disable: variable-name */\n  _et;\n  /* tslint:enable: variable-name */\n  constructor() {\n    try {\n      this._et = new EventTarget();\n    } catch {\n      this._et = document;\n    }\n  }\n  addEventListener(type, listener, options) {\n    this._et.addEventListener(type, listener, options);\n  }\n  dispatchEvent(event) {\n    return this._et.dispatchEvent(event);\n  }\n  removeEventListener(type, callback, options) {\n    this._et.removeEventListener(type, callback, options);\n  }\n};\n\n// src/throttle.ts\nfunction throttle(fn, wait = 250) {\n  let previous = 0;\n  let timeout = null;\n  let result;\n  let storedContext;\n  let storedArgs;\n  const later = () => {\n    previous = Date.now();\n    timeout = null;\n    result = fn.apply(storedContext, storedArgs);\n    if (!timeout) {\n      storedContext = null;\n      storedArgs = [];\n    }\n  };\n  return function wrapper(...args) {\n    const now = Date.now();\n    const remaining = wait - (now - previous);\n    storedContext = this;\n    storedArgs = args;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = fn.apply(storedContext, storedArgs);\n      if (!timeout) {\n        storedContext = null;\n        storedArgs = [];\n      }\n    } else if (!timeout) {\n      timeout = window.setTimeout(later, remaining);\n    }\n    return result;\n  };\n}\n\n// src/signature_pad.ts\nvar SignaturePad = class _SignaturePad extends SignatureEventTarget {\n  /* tslint:enable: variable-name */\n  constructor(canvas, options = {}) {\n    super();\n    this.canvas = canvas;\n    this.velocityFilterWeight = options.velocityFilterWeight || 0.7;\n    this.minWidth = options.minWidth || 0.5;\n    this.maxWidth = options.maxWidth || 2.5;\n    this.throttle = options.throttle ?? 16;\n    this.minDistance = options.minDistance ?? 5;\n    this.dotSize = options.dotSize || 0;\n    this.penColor = options.penColor || \"black\";\n    this.backgroundColor = options.backgroundColor || \"rgba(0,0,0,0)\";\n    this.compositeOperation = options.compositeOperation || \"source-over\";\n    this.canvasContextOptions = options.canvasContextOptions ?? {};\n    this._strokeMoveUpdate = this.throttle ? throttle(_SignaturePad.prototype._strokeUpdate, this.throttle) : _SignaturePad.prototype._strokeUpdate;\n    this._handleMouseDown = this._handleMouseDown.bind(this);\n    this._handleMouseMove = this._handleMouseMove.bind(this);\n    this._handleMouseUp = this._handleMouseUp.bind(this);\n    this._handleTouchStart = this._handleTouchStart.bind(this);\n    this._handleTouchMove = this._handleTouchMove.bind(this);\n    this._handleTouchEnd = this._handleTouchEnd.bind(this);\n    this._handlePointerDown = this._handlePointerDown.bind(this);\n    this._handlePointerMove = this._handlePointerMove.bind(this);\n    this._handlePointerUp = this._handlePointerUp.bind(this);\n    this._handlePointerCancel = this._handlePointerCancel.bind(this);\n    this._handleTouchCancel = this._handleTouchCancel.bind(this);\n    this._ctx = canvas.getContext(\n      \"2d\",\n      this.canvasContextOptions\n    );\n    this.clear();\n    this.on();\n  }\n  // Public stuff\n  dotSize;\n  minWidth;\n  maxWidth;\n  penColor;\n  minDistance;\n  velocityFilterWeight;\n  compositeOperation;\n  backgroundColor;\n  throttle;\n  canvasContextOptions;\n  // Private stuff\n  /* tslint:disable: variable-name */\n  _ctx;\n  _drawingStroke = false;\n  _isEmpty = true;\n  _dataUrl;\n  _dataUrlOptions;\n  _lastPoints = [];\n  // Stores up to 4 most recent points; used to generate a new curve\n  _data = [];\n  // Stores all points in groups (one group per line or dot)\n  _lastVelocity = 0;\n  _lastWidth = 0;\n  _strokeMoveUpdate;\n  _strokePointerId;\n  clear() {\n    const { _ctx: ctx, canvas } = this;\n    ctx.fillStyle = this.backgroundColor;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    this._data = [];\n    this._reset(this._getPointGroupOptions());\n    this._isEmpty = true;\n    this._dataUrl = void 0;\n    this._dataUrlOptions = void 0;\n    this._strokePointerId = void 0;\n  }\n  redraw() {\n    const data = this._data;\n    const dataUrl = this._dataUrl;\n    const dataUrlOptions = this._dataUrlOptions;\n    this.clear();\n    if (dataUrl) {\n      this.fromDataURL(dataUrl, dataUrlOptions);\n    }\n    this.fromData(data, { clear: false });\n  }\n  fromDataURL(dataUrl, options = {}) {\n    return new Promise((resolve, reject) => {\n      const image = new Image();\n      const ratio = options.ratio || window.devicePixelRatio || 1;\n      const width = options.width || this.canvas.width / ratio;\n      const height = options.height || this.canvas.height / ratio;\n      const xOffset = options.xOffset || 0;\n      const yOffset = options.yOffset || 0;\n      this._reset(this._getPointGroupOptions());\n      image.onload = () => {\n        this._ctx.drawImage(image, xOffset, yOffset, width, height);\n        resolve();\n      };\n      image.onerror = (error) => {\n        reject(error);\n      };\n      image.crossOrigin = \"anonymous\";\n      image.src = dataUrl;\n      this._isEmpty = false;\n      this._dataUrl = dataUrl;\n      this._dataUrlOptions = { ...options };\n    });\n  }\n  toDataURL(type = \"image/png\", encoderOptions) {\n    switch (type) {\n      case \"image/svg+xml\":\n        if (typeof encoderOptions !== \"object\") {\n          encoderOptions = void 0;\n        }\n        return `data:image/svg+xml;base64,${btoa(\n          this.toSVG(encoderOptions)\n        )}`;\n      default:\n        if (typeof encoderOptions !== \"number\") {\n          encoderOptions = void 0;\n        }\n        return this.canvas.toDataURL(type, encoderOptions);\n    }\n  }\n  on() {\n    this.canvas.style.touchAction = \"none\";\n    this.canvas.style.msTouchAction = \"none\";\n    this.canvas.style.userSelect = \"none\";\n    this.canvas.style.webkitUserSelect = \"none\";\n    const isIOS = /Macintosh/.test(navigator.userAgent) && \"ontouchstart\" in document;\n    if (window.PointerEvent && !isIOS) {\n      this._handlePointerEvents();\n    } else {\n      this._handleMouseEvents();\n      if (\"ontouchstart\" in window) {\n        this._handleTouchEvents();\n      }\n    }\n  }\n  off() {\n    this.canvas.style.touchAction = \"auto\";\n    this.canvas.style.msTouchAction = \"auto\";\n    this.canvas.style.userSelect = \"auto\";\n    this.canvas.style.webkitUserSelect = \"auto\";\n    this.canvas.removeEventListener(\"pointerdown\", this._handlePointerDown);\n    this.canvas.removeEventListener(\"mousedown\", this._handleMouseDown);\n    this.canvas.removeEventListener(\"touchstart\", this._handleTouchStart);\n    this._removeMoveUpEventListeners();\n  }\n  _getListenerFunctions() {\n    const canvasWindow = window.document === this.canvas.ownerDocument ? window : this.canvas.ownerDocument.defaultView ?? this.canvas.ownerDocument;\n    return {\n      addEventListener: canvasWindow.addEventListener.bind(\n        canvasWindow\n      ),\n      removeEventListener: canvasWindow.removeEventListener.bind(\n        canvasWindow\n      )\n    };\n  }\n  _removeMoveUpEventListeners() {\n    const { removeEventListener } = this._getListenerFunctions();\n    removeEventListener(\"pointermove\", this._handlePointerMove);\n    removeEventListener(\"pointerup\", this._handlePointerUp);\n    removeEventListener(\"pointercancel\", this._handlePointerCancel);\n    removeEventListener(\"mousemove\", this._handleMouseMove);\n    removeEventListener(\"mouseup\", this._handleMouseUp);\n    removeEventListener(\"touchmove\", this._handleTouchMove);\n    removeEventListener(\"touchend\", this._handleTouchEnd);\n    removeEventListener(\"touchcancel\", this._handleTouchCancel);\n  }\n  isEmpty() {\n    return this._isEmpty;\n  }\n  fromData(pointGroups, { clear = true } = {}) {\n    if (clear) {\n      this.clear();\n    }\n    this._fromData(\n      pointGroups,\n      this._drawCurve.bind(this),\n      this._drawDot.bind(this)\n    );\n    this._data = this._data.concat(pointGroups);\n  }\n  toData() {\n    return this._data;\n  }\n  _isLeftButtonPressed(event, only) {\n    if (only) {\n      return event.buttons === 1;\n    }\n    return (event.buttons & 1) === 1;\n  }\n  _pointerEventToSignatureEvent(event) {\n    return {\n      event,\n      type: event.type,\n      x: event.clientX,\n      y: event.clientY,\n      pressure: \"pressure\" in event ? event.pressure : 0\n    };\n  }\n  _touchEventToSignatureEvent(event) {\n    const touch = event.changedTouches[0];\n    return {\n      event,\n      type: event.type,\n      x: touch.clientX,\n      y: touch.clientY,\n      pressure: touch.force\n    };\n  }\n  // Event handlers\n  _handleMouseDown(event) {\n    if (!this._isLeftButtonPressed(event, true) || this._drawingStroke) {\n      return;\n    }\n    this._strokeBegin(this._pointerEventToSignatureEvent(event));\n  }\n  _handleMouseMove(event) {\n    if (!this._isLeftButtonPressed(event, true) || !this._drawingStroke) {\n      this._strokeEnd(this._pointerEventToSignatureEvent(event), false);\n      return;\n    }\n    this._strokeMoveUpdate(this._pointerEventToSignatureEvent(event));\n  }\n  _handleMouseUp(event) {\n    if (this._isLeftButtonPressed(event)) {\n      return;\n    }\n    this._strokeEnd(this._pointerEventToSignatureEvent(event));\n  }\n  _handleTouchStart(event) {\n    if (event.targetTouches.length !== 1 || this._drawingStroke) {\n      return;\n    }\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n    this._strokeBegin(this._touchEventToSignatureEvent(event));\n  }\n  _handleTouchMove(event) {\n    if (event.targetTouches.length !== 1) {\n      return;\n    }\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n    if (!this._drawingStroke) {\n      this._strokeEnd(this._touchEventToSignatureEvent(event), false);\n      return;\n    }\n    this._strokeMoveUpdate(this._touchEventToSignatureEvent(event));\n  }\n  _handleTouchEnd(event) {\n    if (event.targetTouches.length !== 0) {\n      return;\n    }\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n    this._strokeEnd(this._touchEventToSignatureEvent(event));\n  }\n  _handlePointerCancel(event) {\n    if (!this._allowPointerId(event)) {\n      return;\n    }\n    event.preventDefault();\n    this._strokeEnd(this._pointerEventToSignatureEvent(event), false);\n  }\n  _handleTouchCancel(event) {\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n    this._strokeEnd(this._touchEventToSignatureEvent(event), false);\n  }\n  _getPointerId(event) {\n    return event.persistentDeviceId || event.pointerId;\n  }\n  _allowPointerId(event, allowUndefined = false) {\n    if (typeof this._strokePointerId === \"undefined\") {\n      return allowUndefined;\n    }\n    return this._getPointerId(event) === this._strokePointerId;\n  }\n  _handlePointerDown(event) {\n    if (this._drawingStroke || !this._isLeftButtonPressed(event) || !this._allowPointerId(event, true)) {\n      return;\n    }\n    this._strokePointerId = this._getPointerId(event);\n    event.preventDefault();\n    this._strokeBegin(this._pointerEventToSignatureEvent(event));\n  }\n  _handlePointerMove(event) {\n    if (!this._allowPointerId(event)) {\n      return;\n    }\n    if (!this._isLeftButtonPressed(event, true) || !this._drawingStroke) {\n      this._strokeEnd(this._pointerEventToSignatureEvent(event), false);\n      return;\n    }\n    event.preventDefault();\n    this._strokeMoveUpdate(this._pointerEventToSignatureEvent(event));\n  }\n  _handlePointerUp(event) {\n    if (this._isLeftButtonPressed(event) || !this._allowPointerId(event)) {\n      return;\n    }\n    event.preventDefault();\n    this._strokeEnd(this._pointerEventToSignatureEvent(event));\n  }\n  _getPointGroupOptions(group) {\n    return {\n      penColor: group && \"penColor\" in group ? group.penColor : this.penColor,\n      dotSize: group && \"dotSize\" in group ? group.dotSize : this.dotSize,\n      minWidth: group && \"minWidth\" in group ? group.minWidth : this.minWidth,\n      maxWidth: group && \"maxWidth\" in group ? group.maxWidth : this.maxWidth,\n      velocityFilterWeight: group && \"velocityFilterWeight\" in group ? group.velocityFilterWeight : this.velocityFilterWeight,\n      compositeOperation: group && \"compositeOperation\" in group ? group.compositeOperation : this.compositeOperation\n    };\n  }\n  // Private methods\n  _strokeBegin(event) {\n    const cancelled = !this.dispatchEvent(\n      new CustomEvent(\"beginStroke\", { detail: event, cancelable: true })\n    );\n    if (cancelled) {\n      return;\n    }\n    const { addEventListener } = this._getListenerFunctions();\n    switch (event.event.type) {\n      case \"mousedown\":\n        addEventListener(\"mousemove\", this._handleMouseMove, {\n          passive: false\n        });\n        addEventListener(\"mouseup\", this._handleMouseUp, { passive: false });\n        break;\n      case \"touchstart\":\n        addEventListener(\"touchmove\", this._handleTouchMove, {\n          passive: false\n        });\n        addEventListener(\"touchend\", this._handleTouchEnd, { passive: false });\n        addEventListener(\"touchcancel\", this._handleTouchCancel, { passive: false });\n        break;\n      case \"pointerdown\":\n        addEventListener(\"pointermove\", this._handlePointerMove, {\n          passive: false\n        });\n        addEventListener(\"pointerup\", this._handlePointerUp, {\n          passive: false\n        });\n        addEventListener(\"pointercancel\", this._handlePointerCancel, {\n          passive: false\n        });\n        break;\n      default:\n    }\n    this._drawingStroke = true;\n    const pointGroupOptions = this._getPointGroupOptions();\n    const newPointGroup = {\n      ...pointGroupOptions,\n      points: []\n    };\n    this._data.push(newPointGroup);\n    this._reset(pointGroupOptions);\n    this._strokeUpdate(event);\n  }\n  _strokeUpdate(event) {\n    if (!this._drawingStroke) {\n      return;\n    }\n    if (this._data.length === 0) {\n      this._strokeBegin(event);\n      return;\n    }\n    this.dispatchEvent(\n      new CustomEvent(\"beforeUpdateStroke\", { detail: event })\n    );\n    const point = this._createPoint(event.x, event.y, event.pressure);\n    const lastPointGroup = this._data[this._data.length - 1];\n    const lastPoints = lastPointGroup.points;\n    const lastPoint = lastPoints.length > 0 && lastPoints[lastPoints.length - 1];\n    const isLastPointTooClose = lastPoint ? point.distanceTo(lastPoint) <= this.minDistance : false;\n    const pointGroupOptions = this._getPointGroupOptions(lastPointGroup);\n    if (!lastPoint || !(lastPoint && isLastPointTooClose)) {\n      const curve = this._addPoint(point, pointGroupOptions);\n      if (!lastPoint) {\n        this._drawDot(point, pointGroupOptions);\n      } else if (curve) {\n        this._drawCurve(curve, pointGroupOptions);\n      }\n      lastPoints.push({\n        time: point.time,\n        x: point.x,\n        y: point.y,\n        pressure: point.pressure\n      });\n    }\n    this.dispatchEvent(new CustomEvent(\"afterUpdateStroke\", { detail: event }));\n  }\n  _strokeEnd(event, shouldUpdate = true) {\n    this._removeMoveUpEventListeners();\n    if (!this._drawingStroke) {\n      return;\n    }\n    if (shouldUpdate) {\n      this._strokeUpdate(event);\n    }\n    this._drawingStroke = false;\n    this._strokePointerId = void 0;\n    this.dispatchEvent(new CustomEvent(\"endStroke\", { detail: event }));\n  }\n  _handlePointerEvents() {\n    this._drawingStroke = false;\n    this.canvas.addEventListener(\"pointerdown\", this._handlePointerDown, {\n      passive: false\n    });\n  }\n  _handleMouseEvents() {\n    this._drawingStroke = false;\n    this.canvas.addEventListener(\"mousedown\", this._handleMouseDown, {\n      passive: false\n    });\n  }\n  _handleTouchEvents() {\n    this.canvas.addEventListener(\"touchstart\", this._handleTouchStart, {\n      passive: false\n    });\n  }\n  // Called when a new line is started\n  _reset(options) {\n    this._lastPoints = [];\n    this._lastVelocity = 0;\n    this._lastWidth = (options.minWidth + options.maxWidth) / 2;\n    this._ctx.fillStyle = options.penColor;\n    this._ctx.globalCompositeOperation = options.compositeOperation;\n  }\n  _createPoint(x, y, pressure) {\n    const rect = this.canvas.getBoundingClientRect();\n    return new Point(\n      x - rect.left,\n      y - rect.top,\n      pressure,\n      (/* @__PURE__ */ new Date()).getTime()\n    );\n  }\n  // Add point to _lastPoints array and generate a new curve if there are enough points (i.e. 3)\n  _addPoint(point, options) {\n    const { _lastPoints } = this;\n    _lastPoints.push(point);\n    if (_lastPoints.length > 2) {\n      if (_lastPoints.length === 3) {\n        _lastPoints.unshift(_lastPoints[0]);\n      }\n      const widths = this._calculateCurveWidths(\n        _lastPoints[1],\n        _lastPoints[2],\n        options\n      );\n      const curve = Bezier.fromPoints(_lastPoints, widths);\n      _lastPoints.shift();\n      return curve;\n    }\n    return null;\n  }\n  _calculateCurveWidths(startPoint, endPoint, options) {\n    const velocity = options.velocityFilterWeight * endPoint.velocityFrom(startPoint) + (1 - options.velocityFilterWeight) * this._lastVelocity;\n    const newWidth = this._strokeWidth(velocity, options);\n    const widths = {\n      end: newWidth,\n      start: this._lastWidth\n    };\n    this._lastVelocity = velocity;\n    this._lastWidth = newWidth;\n    return widths;\n  }\n  _strokeWidth(velocity, options) {\n    return Math.max(options.maxWidth / (velocity + 1), options.minWidth);\n  }\n  _drawCurveSegment(x, y, width) {\n    const ctx = this._ctx;\n    ctx.moveTo(x, y);\n    ctx.arc(x, y, width, 0, 2 * Math.PI, false);\n    this._isEmpty = false;\n  }\n  _drawCurve(curve, options) {\n    const ctx = this._ctx;\n    const widthDelta = curve.endWidth - curve.startWidth;\n    const drawSteps = Math.ceil(curve.length()) * 2;\n    ctx.beginPath();\n    ctx.fillStyle = options.penColor;\n    for (let i = 0; i < drawSteps; i += 1) {\n      const t = i / drawSteps;\n      const tt = t * t;\n      const ttt = tt * t;\n      const u = 1 - t;\n      const uu = u * u;\n      const uuu = uu * u;\n      let x = uuu * curve.startPoint.x;\n      x += 3 * uu * t * curve.control1.x;\n      x += 3 * u * tt * curve.control2.x;\n      x += ttt * curve.endPoint.x;\n      let y = uuu * curve.startPoint.y;\n      y += 3 * uu * t * curve.control1.y;\n      y += 3 * u * tt * curve.control2.y;\n      y += ttt * curve.endPoint.y;\n      const width = Math.min(\n        curve.startWidth + ttt * widthDelta,\n        options.maxWidth\n      );\n      this._drawCurveSegment(x, y, width);\n    }\n    ctx.closePath();\n    ctx.fill();\n  }\n  _drawDot(point, options) {\n    const ctx = this._ctx;\n    const width = options.dotSize > 0 ? options.dotSize : (options.minWidth + options.maxWidth) / 2;\n    ctx.beginPath();\n    this._drawCurveSegment(point.x, point.y, width);\n    ctx.closePath();\n    ctx.fillStyle = options.penColor;\n    ctx.fill();\n  }\n  _fromData(pointGroups, drawCurve, drawDot) {\n    for (const group of pointGroups) {\n      const { points } = group;\n      const pointGroupOptions = this._getPointGroupOptions(group);\n      if (points.length > 1) {\n        for (let j = 0; j < points.length; j += 1) {\n          const basicPoint = points[j];\n          const point = new Point(\n            basicPoint.x,\n            basicPoint.y,\n            basicPoint.pressure,\n            basicPoint.time\n          );\n          if (j === 0) {\n            this._reset(pointGroupOptions);\n          }\n          const curve = this._addPoint(point, pointGroupOptions);\n          if (curve) {\n            drawCurve(curve, pointGroupOptions);\n          }\n        }\n      } else {\n        this._reset(pointGroupOptions);\n        drawDot(points[0], pointGroupOptions);\n      }\n    }\n  }\n  toSVG({ includeBackgroundColor = false, includeDataUrl = false } = {}) {\n    const pointGroups = this._data;\n    const ratio = Math.max(window.devicePixelRatio || 1, 1);\n    const minX = 0;\n    const minY = 0;\n    const maxX = this.canvas.width / ratio;\n    const maxY = this.canvas.height / ratio;\n    const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n    svg.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\n    svg.setAttribute(\"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n    svg.setAttribute(\"viewBox\", `${minX} ${minY} ${maxX} ${maxY}`);\n    svg.setAttribute(\"width\", maxX.toString());\n    svg.setAttribute(\"height\", maxY.toString());\n    if (includeBackgroundColor && this.backgroundColor) {\n      const rect = document.createElement(\"rect\");\n      rect.setAttribute(\"width\", \"100%\");\n      rect.setAttribute(\"height\", \"100%\");\n      rect.setAttribute(\"fill\", this.backgroundColor);\n      svg.appendChild(rect);\n    }\n    if (includeDataUrl && this._dataUrl) {\n      const ratio2 = this._dataUrlOptions?.ratio || window.devicePixelRatio || 1;\n      const width = this._dataUrlOptions?.width || this.canvas.width / ratio2;\n      const height = this._dataUrlOptions?.height || this.canvas.height / ratio2;\n      const xOffset = this._dataUrlOptions?.xOffset || 0;\n      const yOffset = this._dataUrlOptions?.yOffset || 0;\n      const image = document.createElement(\"image\");\n      image.setAttribute(\"x\", xOffset.toString());\n      image.setAttribute(\"y\", yOffset.toString());\n      image.setAttribute(\"width\", width.toString());\n      image.setAttribute(\"height\", height.toString());\n      image.setAttribute(\"preserveAspectRatio\", \"none\");\n      image.setAttribute(\"href\", this._dataUrl);\n      svg.appendChild(image);\n    }\n    this._fromData(\n      pointGroups,\n      (curve, { penColor }) => {\n        const path = document.createElement(\"path\");\n        if (!isNaN(curve.control1.x) && !isNaN(curve.control1.y) && !isNaN(curve.control2.x) && !isNaN(curve.control2.y)) {\n          const attr = `M ${curve.startPoint.x.toFixed(3)},${curve.startPoint.y.toFixed(\n            3\n          )} C ${curve.control1.x.toFixed(3)},${curve.control1.y.toFixed(3)} ${curve.control2.x.toFixed(3)},${curve.control2.y.toFixed(3)} ${curve.endPoint.x.toFixed(3)},${curve.endPoint.y.toFixed(3)}`;\n          path.setAttribute(\"d\", attr);\n          path.setAttribute(\"stroke-width\", (curve.endWidth * 2.25).toFixed(3));\n          path.setAttribute(\"stroke\", penColor);\n          path.setAttribute(\"fill\", \"none\");\n          path.setAttribute(\"stroke-linecap\", \"round\");\n          svg.appendChild(path);\n        }\n      },\n      (point, { penColor, dotSize, minWidth, maxWidth }) => {\n        const circle = document.createElement(\"circle\");\n        const size = dotSize > 0 ? dotSize : (minWidth + maxWidth) / 2;\n        circle.setAttribute(\"r\", size.toString());\n        circle.setAttribute(\"cx\", point.x.toString());\n        circle.setAttribute(\"cy\", point.y.toString());\n        circle.setAttribute(\"fill\", penColor);\n        svg.appendChild(circle);\n      }\n    );\n    return svg.outerHTML;\n  }\n};\nexport {\n  SignaturePad as default\n};\n//# sourceMappingURL=signature_pad.js.map\n","import React, { useRef, useEffect, useState } from 'react';\nimport SignaturePad from 'signature_pad';\nimport { motion } from 'framer-motion';\nimport TouchFeedback from './mobile/TouchFeedback';\n\ninterface SignatureCanvasProps {\n  onSave: (signature: string) => void;\n  initialSignature?: string;\n  disabled?: boolean;\n  label?: string;\n  className?: string;\n}\n\nexport const SignatureCanvas: React.FC<SignatureCanvasProps> = ({\n  onSave,\n  initialSignature,\n  disabled = false,\n  label = 'Signature',\n  className = '',\n}) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const signaturePadRef = useRef<SignaturePad | null>(null);\n  const [isEmpty, setIsEmpty] = useState(true);\n\n  useEffect(() => {\n    if (!canvasRef.current) return;\n\n    const canvas = canvasRef.current;\n    const signaturePad = new SignaturePad(canvas, {\n      backgroundColor: 'rgb(255, 255, 255)',\n      penColor: 'rgb(0, 0, 0)',\n      minWidth: 0.5,\n      maxWidth: 2.5,\n    });\n\n    signaturePadRef.current = signaturePad;\n\n    // Resize canvas to match display size\n    const resizeCanvas = () => {\n      const ratio = Math.max(window.devicePixelRatio || 1, 1);\n      canvas.width = canvas.offsetWidth * ratio;\n      canvas.height = canvas.offsetHeight * ratio;\n      canvas.getContext('2d')?.scale(ratio, ratio);\n      signaturePad.clear();\n      \n      if (initialSignature && !signaturePad.isEmpty()) {\n        signaturePad.fromDataURL(initialSignature);\n      }\n    };\n\n    resizeCanvas();\n    window.addEventListener('resize', resizeCanvas);\n\n    // Track changes\n    signaturePad.addEventListener('endStroke', () => {\n      setIsEmpty(signaturePad.isEmpty());\n    });\n\n    // Load initial signature\n    if (initialSignature) {\n      signaturePad.fromDataURL(initialSignature);\n      setIsEmpty(false);\n    }\n\n    if (disabled) {\n      signaturePad.off();\n    }\n\n    return () => {\n      window.removeEventListener('resize', resizeCanvas);\n      signaturePad.off();\n    };\n  }, [initialSignature, disabled]);\n\n  const handleClear = () => {\n    if (signaturePadRef.current) {\n      signaturePadRef.current.clear();\n      setIsEmpty(true);\n    }\n  };\n\n  const handleSave = () => {\n    if (signaturePadRef.current && !signaturePadRef.current.isEmpty()) {\n      const dataURL = signaturePadRef.current.toDataURL('image/png');\n      onSave(dataURL);\n    }\n  };\n\n  return (\n    <motion.div\n      className={`bg-white dark:bg-gray-800 rounded-xl p-4 ${className}`}\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n    >\n      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">\n        {label} {disabled && <span className=\"text-gray-500\">(Locked)</span>}\n      </label>\n\n      <div className=\"relative\">\n        <canvas\n          ref={canvasRef}\n          className={`\n            w-full border-2 rounded-lg touch-none\n            ${disabled \n              ? 'border-gray-300 bg-gray-100 cursor-not-allowed' \n              : 'border-blue-400 bg-white'\n            }\n          `}\n          style={{ \n            height: '150px',\n            maxHeight: '200px',\n          }}\n        />\n        \n        {isEmpty && !disabled && (\n          <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n            <p className=\"text-gray-400 text-sm\">Sign here</p>\n          </div>\n        )}\n      </div>\n\n      {!disabled && (\n        <div className=\"flex gap-2 mt-4\">\n          <TouchFeedback onTap={handleClear} hapticType=\"light\">\n            <button\n              type=\"button\"\n              onClick={handleClear}\n              disabled={isEmpty}\n              className={`\n                flex-1 px-4 py-3 rounded-xl font-semibold transition-all\n                ${isEmpty \n                  ? 'bg-gray-200 text-gray-400 cursor-not-allowed' \n                  : 'bg-gray-300 hover:bg-gray-400 text-gray-800'\n                }\n              `}\n              style={{ minHeight: '48px' }}\n            >\n              Clear\n            </button>\n          </TouchFeedback>\n\n          <TouchFeedback onTap={handleSave} hapticType=\"medium\">\n            <button\n              type=\"button\"\n              onClick={handleSave}\n              disabled={isEmpty}\n              className={`\n                flex-1 px-4 py-3 rounded-xl font-semibold transition-all\n                ${isEmpty \n                  ? 'bg-blue-200 text-blue-400 cursor-not-allowed' \n                  : 'bg-blue-600 hover:bg-blue-700 text-white'\n                }\n              `}\n              style={{ minHeight: '48px' }}\n            >\n              Save Signature\n            </button>\n          </TouchFeedback>\n        </div>\n      )}\n    </motion.div>\n  );\n};\n\nexport default SignatureCanvas;\n","import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { Lock, CheckCircle } from 'lucide-react';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport SignatureCanvas from '../SignatureCanvas';\nimport type { ICS212FormData, DigitalSignature } from '../../types';\n\ninterface InspectorSignatureStepProps {\n  formData: Partial<ICS212FormData>;\n  onChange: (field: keyof ICS212FormData, value: any) => void;\n  onNext: () => void;\n  onBack: () => void;\n  errors: Record<string, string>;\n}\n\nexport const InspectorSignatureStep: React.FC<InspectorSignatureStepProps> = ({\n  formData,\n  onChange,\n  onNext,\n  onBack,\n  errors,\n}) => {\n  const [hasSignedForm, setHasSignedForm] = useState(!!formData.inspectorSignature);\n\n  const handleSignatureSave = (signatureData: string) => {\n    const signature: DigitalSignature = {\n      imageData: signatureData,\n      signedAt: new Date().toISOString(),\n      signedBy: formData.inspectorNamePrint || '',\n      ipAddress: undefined,\n      deviceId: navigator.userAgent,\n    };\n    \n    onChange('inspectorSignature', signature);\n    setHasSignedForm(true);\n    \n    // Transition form status to inspector_signed\n    onChange('status', 'inspector_signed');\n  };\n\n  const getCurrentDateTime = () => {\n    const now = new Date();\n    return {\n      date: now.toISOString().split('T')[0],\n      time: now.toTimeString().slice(0, 5),\n    };\n  };\n\n  const { date: currentDate, time: currentTime } = getCurrentDateTime();\n\n  return (\n    <motion.div\n      className=\"space-y-6 p-4 md:p-6\"\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Inspector Signature\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Sign to lock the inspection form and proceed to review\n        </p>\n      </div>\n\n      {/* Form Lock Warning */}\n      {hasSignedForm && (\n        <motion.div\n          className=\"bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-500 rounded-xl p-4\"\n          initial={{ opacity: 0, y: -10 }}\n          animate={{ opacity: 1, y: 0 }}\n        >\n          <div className=\"flex items-center gap-3\">\n            <Lock className=\"w-6 h-6 text-amber-600 dark:text-amber-400\" />\n            <div>\n              <p className=\"font-bold text-amber-900 dark:text-amber-100\">\n                Form Locked\n              </p>\n              <p className=\"text-sm text-amber-700 dark:text-amber-300\">\n                Inspector signature has been recorded. Form is read-only.\n              </p>\n            </div>\n          </div>\n        </motion.div>\n      )}\n\n      {/* Inspector Name */}\n      <div>\n        <label\n          htmlFor=\"inspectorNamePrint\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Inspector Name (Print) *\n        </label>\n        <input\n          type=\"text\"\n          id=\"inspectorNamePrint\"\n          value={formData.inspectorNamePrint || ''}\n          onChange={(e) => onChange('inspectorNamePrint', e.target.value)}\n          placeholder=\"Enter your full name\"\n          maxLength={100}\n          disabled={hasSignedForm}\n          className={`\n            w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n            focus:outline-none focus:ring-4\n            ${hasSignedForm \n              ? 'bg-gray-100 dark:bg-gray-800 border-gray-300 cursor-not-allowed' \n              : errors.inspectorNamePrint \n              ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n              : 'border-gray-300 focus:border-blue-500 focus:ring-blue-100'\n            }\n          `}\n          style={{ minHeight: '56px' }}\n        />\n        {errors.inspectorNamePrint && !hasSignedForm && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.inspectorNamePrint}</p>\n        )}\n      </div>\n\n      {/* Date and Time Display */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4\">\n          <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-1\">Date</p>\n          <p className=\"text-lg font-bold text-gray-900 dark:text-white\">\n            {new Date(formData.inspectorDate || currentDate).toLocaleDateString()}\n          </p>\n        </div>\n        <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4\">\n          <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-1\">Time</p>\n          <p className=\"text-lg font-bold text-gray-900 dark:text-white\">\n            {formData.inspectorTime || currentTime}\n          </p>\n        </div>\n      </div>\n\n      {/* Signature Canvas */}\n      <div>\n        <SignatureCanvas\n          onSave={handleSignatureSave}\n          initialSignature={formData.inspectorSignature?.imageData}\n          disabled={hasSignedForm}\n          label=\"Inspector Signature\"\n        />\n      </div>\n\n      {/* Signature Confirmation */}\n      {hasSignedForm && formData.inspectorSignature && (\n        <motion.div\n          className=\"bg-green-50 dark:bg-green-900/20 border-2 border-green-500 rounded-xl p-4\"\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n        >\n          <div className=\"flex items-center gap-3\">\n            <CheckCircle className=\"w-6 h-6 text-green-600 dark:text-green-400\" />\n            <div>\n              <p className=\"font-bold text-green-900 dark:text-green-100\">\n                Signature Recorded\n              </p>\n              <p className=\"text-sm text-green-700 dark:text-green-300\">\n                Signed by {formData.inspectorNamePrint} on{' '}\n                {new Date(formData.inspectorSignature.signedAt).toLocaleString()}\n              </p>\n            </div>\n          </div>\n        </motion.div>\n      )}\n\n      {/* Legal Notice */}\n      <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3\">\n        <p className=\"text-xs text-blue-900 dark:text-blue-100\">\n          <strong>Notice:</strong> By signing this form, you certify that the inspection was conducted\n          in accordance with ICS-212 standards and that all information is accurate to the best of your knowledge.\n        </p>\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex gap-3 sticky bottom-4 bg-white dark:bg-gray-900 p-4 rounded-xl shadow-lg\">\n        {!hasSignedForm && (\n          <TouchFeedback onTap={() => onBack()} hapticType=\"light\">\n            <button\n              type=\"button\"\n              onClick={onBack}\n              className=\"\n                flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\n                py-4 px-6 rounded-xl transition-all\n                focus:outline-none focus:ring-4 focus:ring-gray-300\n              \"\n              style={{ minHeight: '56px' }}\n            >\n              Back\n            </button>\n          </TouchFeedback>\n        )}\n\n        <TouchFeedback onTap={() => onNext()} hapticType=\"medium\">\n          <button\n            type=\"button\"\n            onClick={onNext}\n            disabled={!hasSignedForm}\n            className={`\n              ${hasSignedForm ? 'flex-1' : 'flex-[2]'}\n              font-bold py-4 px-6 rounded-xl transition-all shadow-lg\n              focus:outline-none focus:ring-4\n              ${hasSignedForm\n                ? 'bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-300 hover:shadow-xl'\n                : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n              }\n            `}\n            style={{ minHeight: '56px' }}\n          >\n            {hasSignedForm ? 'Next: Review & Submit' : 'Sign Form to Continue'}\n          </button>\n        </TouchFeedback>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default InspectorSignatureStep;\n","import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { CheckCircle, Edit, Loader2 } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport SignatureCanvas from '../SignatureCanvas';\nimport type { ICS212FormData, DigitalSignature } from '../../types';\n\ninterface ReviewSubmitStepProps {\n  formData: Partial<ICS212FormData>;\n  onChange: (field: keyof ICS212FormData, value: any) => void;\n  onBack: () => void;\n  onGoToStep: (step: number) => void;\n  onSubmit: () => Promise<void>;\n}\n\nexport const ReviewSubmitStep: React.FC<ReviewSubmitStepProps> = ({\n  formData,\n  onChange,\n  onBack,\n  onGoToStep,\n  onSubmit,\n}) => {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [hasOperatorSigned, setHasOperatorSigned] = useState(!!formData.operatorSignature);\n\n  const handleOperatorSignatureSave = (signatureData: string) => {\n    const signature: DigitalSignature = {\n      imageData: signatureData,\n      signedAt: new Date().toISOString(),\n      signedBy: formData.operatorNamePrint || '',\n      ipAddress: undefined,\n      deviceId: navigator.userAgent,\n    };\n    \n    onChange('operatorSignature', signature);\n    onChange('operatorDate', new Date().toISOString().split('T')[0]);\n    onChange('operatorTime', new Date().toTimeString().slice(0, 5));\n    setHasOperatorSigned(true);\n  };\n\n  const handleFinalSubmit = async () => {\n    if (!hasOperatorSigned) {\n      toast.error('Operator signature required');\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      await onSubmit();\n      toast.success('Form submitted successfully!');\n    } catch (error) {\n      toast.error('Submission failed. Please try again.');\n      console.error('Submission error:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Calculate counts\n  const passCount = formData.inspectionItems?.filter(item => item.status === 'pass').length || 0;\n  const failCount = formData.inspectionItems?.filter(item => item.status === 'fail').length || 0;\n  const naCount = formData.inspectionItems?.filter(item => item.status === 'n/a').length || 0;\n  const releaseDecision = formData.releaseStatus || 'release';\n\n  return (\n    <motion.div\n      className=\"space-y-6 p-4 md:p-6 pb-24\"\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Review & Submit\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Review all information before final submission\n        </p>\n      </div>\n\n      {/* Incident Information Card */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-4\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">\n            Incident Information\n          </h3>\n          <button\n            type=\"button\"\n            onClick={() => onGoToStep(0)}\n            className=\"text-blue-600 hover:text-blue-700 flex items-center gap-1 text-sm\"\n          >\n            <Edit className=\"w-4 h-4\" /> Edit\n          </button>\n        </div>\n        <div className=\"grid grid-cols-2 gap-3 text-sm\">\n          <div>\n            <p className=\"text-gray-600 dark:text-gray-400\">Incident Name</p>\n            <p className=\"font-semibold text-gray-900 dark:text-white\">{formData.incidentName || 'N/A'}</p>\n          </div>\n          <div>\n            <p className=\"text-gray-600 dark:text-gray-400\">Date/Time</p>\n            <p className=\"font-semibold text-gray-900 dark:text-white\">\n              {formData.inspectorDate} {formData.inspectorTime}\n            </p>\n          </div>\n          {formData.orderNo && (\n            <div className=\"col-span-2\">\n              <p className=\"text-gray-600 dark:text-gray-400\">Order Number</p>\n              <p className=\"font-semibold text-gray-900 dark:text-white\">{formData.orderNo}</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Vehicle Information Card */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-4\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">\n            Vehicle Information\n          </h3>\n          <button\n            type=\"button\"\n            onClick={() => onGoToStep(1)}\n            className=\"text-blue-600 hover:text-blue-700 flex items-center gap-1 text-sm\"\n          >\n            <Edit className=\"w-4 h-4\" /> Edit\n          </button>\n        </div>\n        <div className=\"grid grid-cols-2 gap-3 text-sm\">\n          <div>\n            <p className=\"text-gray-600 dark:text-gray-400\">Vehicle ID</p>\n            <p className=\"font-semibold text-gray-900 dark:text-white\">{formData.vehicleIdNo || 'N/A'}</p>\n          </div>\n          <div>\n            <p className=\"text-gray-600 dark:text-gray-400\">Odometer</p>\n            <p className=\"font-semibold text-gray-900 dark:text-white\">\n              {formData.odometerReading?.toLocaleString() || 'N/A'} mi\n            </p>\n          </div>\n          <div>\n            <p className=\"text-gray-600 dark:text-gray-400\">License Plate</p>\n            <p className=\"font-semibold text-gray-900 dark:text-white\">{formData.vehicleLicenseNo || 'N/A'}</p>\n          </div>\n          <div>\n            <p className=\"text-gray-600 dark:text-gray-400\">Type</p>\n            <p className=\"font-semibold text-gray-900 dark:text-white\">{formData.vehicleType || 'N/A'}</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Inspection Results Card */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-4\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">\n            Inspection Results\n          </h3>\n          <button\n            type=\"button\"\n            onClick={() => onGoToStep(2)}\n            className=\"text-blue-600 hover:text-blue-700 flex items-center gap-1 text-sm\"\n          >\n            <Edit className=\"w-4 h-4\" /> Edit\n          </button>\n        </div>\n        \n        <div className=\"grid grid-cols-3 gap-3 mb-4\">\n          <div className=\"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 text-center\">\n            <p className=\"text-2xl font-bold text-green-600 dark:text-green-400\">{passCount}</p>\n            <p className=\"text-xs text-gray-600 dark:text-gray-400\">Passed</p>\n          </div>\n          <div className=\"bg-red-50 dark:bg-red-900/20 rounded-lg p-3 text-center\">\n            <p className=\"text-2xl font-bold text-red-600 dark:text-red-400\">{failCount}</p>\n            <p className=\"text-xs text-gray-600 dark:text-gray-400\">Failed</p>\n          </div>\n          <div className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 text-center\">\n            <p className=\"text-2xl font-bold text-gray-600 dark:text-gray-400\">{naCount}</p>\n            <p className=\"text-xs text-gray-600 dark:text-gray-400\">N/A</p>\n          </div>\n        </div>\n\n        {/* Release Decision Badge */}\n        <div className={`\n          p-4 rounded-lg text-center font-bold text-lg\n          ${releaseDecision === 'hold'\n            ? 'bg-red-100 text-red-900 dark:bg-red-900/30 dark:text-red-100'\n            : 'bg-green-100 text-green-900 dark:bg-green-900/30 dark:text-green-100'\n          }\n        `}>\n          {releaseDecision === 'hold' ? 'ðŸ”´ HOLD FOR REPAIRS' : 'ðŸŸ¢ RELEASED'}\n        </div>\n      </div>\n\n      {/* Comments Card */}\n      {formData.additionalComments && (\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-4\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">\n              Additional Comments\n            </h3>\n            <button\n              type=\"button\"\n              onClick={() => onGoToStep(3)}\n              className=\"text-blue-600 hover:text-blue-700 flex items-center gap-1 text-sm\"\n            >\n              <Edit className=\"w-4 h-4\" /> Edit\n            </button>\n          </div>\n          <p className=\"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap\">\n            {formData.additionalComments}\n          </p>\n        </div>\n      )}\n\n      {/* Inspector Signature Preview */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-4\">\n        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-3\">\n          Inspector Signature\n        </h3>\n        <div className=\"flex items-center gap-4\">\n          {formData.inspectorSignature?.imageData && (\n            <img \n              src={formData.inspectorSignature.imageData} \n              alt=\"Inspector signature\" \n              className=\"h-20 border border-gray-300 rounded bg-white\"\n            />\n          )}\n          <div className=\"flex-1\">\n            <p className=\"font-semibold text-gray-900 dark:text-white\">\n              {formData.inspectorNamePrint}\n            </p>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n              Signed: {formData.inspectorSignature && new Date(formData.inspectorSignature.signedAt).toLocaleString()}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Operator Signature Section */}\n      <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-xl border-2 border-blue-200 dark:border-blue-800 p-4\">\n        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-3\">\n          Operator Signature Required\n        </h3>\n        \n        <div className=\"space-y-4\">\n          <div>\n            <label\n              htmlFor=\"operatorNamePrint\"\n              className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n            >\n              Operator Name (Print) *\n            </label>\n            <input\n              type=\"text\"\n              id=\"operatorNamePrint\"\n              value={formData.operatorNamePrint || ''}\n              onChange={(e) => onChange('operatorNamePrint', e.target.value)}\n              placeholder=\"Enter operator full name\"\n              maxLength={100}\n              disabled={hasOperatorSigned}\n              className={`\n                w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n                focus:outline-none focus:ring-4\n                ${hasOperatorSigned \n                  ? 'bg-gray-100 dark:bg-gray-800 border-gray-300 cursor-not-allowed' \n                  : 'border-gray-300 focus:border-blue-500 focus:ring-blue-100'\n                }\n              `}\n            />\n          </div>\n\n          <SignatureCanvas\n            onSave={handleOperatorSignatureSave}\n            initialSignature={formData.operatorSignature?.imageData}\n            disabled={hasOperatorSigned}\n            label=\"Operator Signature\"\n          />\n        </div>\n      </div>\n\n      {/* Submit Button */}\n      <div className=\"sticky bottom-4 bg-white dark:bg-gray-900 p-4 rounded-xl shadow-lg\">\n        <div className=\"flex gap-3\">\n          <TouchFeedback onTap={() => onBack()} hapticType=\"light\">\n            <button\n              type=\"button\"\n              onClick={onBack}\n              disabled={isSubmitting}\n              className=\"\n                flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\n                py-4 px-6 rounded-xl transition-all\n                focus:outline-none focus:ring-4 focus:ring-gray-300\n                disabled:opacity-50 disabled:cursor-not-allowed\n              \"\n              style={{ minHeight: '56px' }}\n            >\n              Back\n            </button>\n          </TouchFeedback>\n\n          <TouchFeedback onTap={handleFinalSubmit} hapticType=\"heavy\">\n            <button\n              type=\"button\"\n              onClick={handleFinalSubmit}\n              disabled={!hasOperatorSigned || isSubmitting}\n              className={`\n                flex-[2] font-bold py-4 px-6 rounded-xl transition-all\n                focus:outline-none focus:ring-4 flex items-center justify-center gap-2\n                ${hasOperatorSigned && !isSubmitting\n                  ? 'bg-green-600 hover:bg-green-700 text-white focus:ring-green-300 shadow-lg hover:shadow-xl'\n                  : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                }\n              `}\n              style={{ minHeight: '56px' }}\n            >\n              {isSubmitting ? (\n                <>\n                  <Loader2 className=\"w-5 h-5 animate-spin\" />\n                  Submitting...\n                </>\n              ) : (\n                <>\n                  <CheckCircle className=\"w-5 h-5\" />\n                  Submit Final Form\n                </>\n              )}\n            </button>\n          </TouchFeedback>\n        </div>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default ReviewSubmitStep;\n","import React, { useState, useEffect } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport toast from 'react-hot-toast';\nimport { Save, Trash2 } from 'lucide-react';\nimport ProgressIndicator from './mobile/ProgressIndicator';\nimport IncidentInfoStep from './ics212/IncidentInfoStep';\nimport VehicleSelectionStep from './ics212/VehicleSelectionStep';\nimport InspectionItemsStep from './ics212/InspectionItemsStep';\nimport CommentsStep from './ics212/CommentsStep';\nimport InspectorSignatureStep from './ics212/InspectorSignatureStep';\nimport ReviewSubmitStep from './ics212/ReviewSubmitStep';\nimport type { ICS212FormData, ICS212DraftData, ICS212SubmissionResponse } from '../types';\n\nconst STEPS = [\n  { id: 0, title: 'Incident Info', component: IncidentInfoStep },\n  { id: 1, title: 'Vehicle', component: VehicleSelectionStep },\n  { id: 2, title: 'Inspection', component: InspectionItemsStep },\n  { id: 3, title: 'Comments', component: CommentsStep },\n  { id: 4, title: 'Inspector Sign', component: InspectorSignatureStep },\n  { id: 5, title: 'Review & Submit', component: ReviewSubmitStep },\n];\n\nconst INITIAL_FORM_DATA: Partial<ICS212FormData> = {\n  status: 'draft',\n  incidentName: '',\n  orderNo: '',\n  vehicleIdNo: '',\n  vehicleLicenseNo: '',\n  agencyRegUnit: '',\n  vehicleType: '',\n  odometerReading: 0,\n  inspectionItems: [],\n  additionalComments: '',\n  releaseStatus: 'release',\n  inspectorDate: new Date().toISOString().split('T')[0],\n  inspectorTime: new Date().toTimeString().slice(0, 5),\n  inspectorNamePrint: '',\n};\n\nexport const ICS212Form: React.FC = () => {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [formData, setFormData] = useState<Partial<ICS212FormData>>(INITIAL_FORM_DATA);\n  const [errors, setErrors] = useState<Record<string, string>>({});\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [showDraftDialog, setShowDraftDialog] = useState(false);\n  const [recoveredDraft, setRecoveredDraft] = useState<ICS212DraftData | null>(null);\n\n  // Auto-save to localStorage every 30 seconds\n  useEffect(() => {\n    const saveInterval = setInterval(() => {\n      if (formData && !isSubmitted && currentStep > 0) {\n        const draft: ICS212DraftData = {\n          formData,\n          currentStep,\n          savedAt: new Date().toISOString(),\n          expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(), // 7 days\n        };\n        localStorage.setItem('ics212-draft', JSON.stringify(draft));\n        toast.success('Draft auto-saved', { duration: 1500, icon: 'ðŸ’¾' });\n      }\n    }, 30000); // 30 seconds\n\n    return () => clearInterval(saveInterval);\n  }, [formData, currentStep, isSubmitted]);\n\n  // Draft recovery on mount\n  useEffect(() => {\n    const draftJson = localStorage.getItem('ics212-draft');\n    if (draftJson) {\n      try {\n        const draft = JSON.parse(draftJson) as ICS212DraftData;\n        const expiryDate = new Date(draft.expiresAt);\n        const now = new Date();\n        \n        if (expiryDate > now) {\n          setRecoveredDraft(draft);\n          setShowDraftDialog(true);\n        } else {\n          // Draft expired, clear it\n          localStorage.removeItem('ics212-draft');\n        }\n      } catch (error) {\n        console.error('Failed to parse draft:', error);\n        localStorage.removeItem('ics212-draft');\n      }\n    }\n  }, []);\n\n  const handleResumeDraft = () => {\n    if (recoveredDraft) {\n      setFormData(recoveredDraft.formData);\n      setCurrentStep(recoveredDraft.currentStep);\n      setShowDraftDialog(false);\n      toast.success('Draft restored!');\n    }\n  };\n\n  const handleDiscardDraft = () => {\n    localStorage.removeItem('ics212-draft');\n    setShowDraftDialog(false);\n    setRecoveredDraft(null);\n    toast('Draft discarded', { icon: 'ðŸ—‘ï¸' });\n  };\n\n  const handleFieldChange = (field: keyof ICS212FormData, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    // Clear error for this field\n    if (errors[field]) {\n      setErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[field];\n        return newErrors;\n      });\n    }\n  };\n\n  const validateStep = (step: number): boolean => {\n    const newErrors: Record<string, string> = {};\n\n    switch (step) {\n      case 0: // Incident Info\n        if (!formData.incidentName || formData.incidentName.length < 3) {\n          newErrors.incidentName = 'Incident name must be at least 3 characters';\n        }\n        if (!formData.inspectorDate) {\n          newErrors.inspectorDate = 'Date is required';\n        }\n        if (!formData.inspectorTime) {\n          newErrors.inspectorTime = 'Time is required';\n        }\n        break;\n\n      case 1: // Vehicle Selection\n        if (!formData.vehicleIdNo) {\n          newErrors.vehicleIdNo = 'Vehicle ID is required';\n        }\n        if (!formData.odometerReading || formData.odometerReading === 0) {\n          newErrors.odometerReading = 'Odometer reading is required';\n        }\n        break;\n\n      case 4: // Inspector Signature\n        if (!formData.inspectorNamePrint || (formData.inspectorNamePrint || '').length < 2) {\n          newErrors.inspectorNamePrint = 'Inspector name must be at least 2 characters';\n        }\n        if (!formData.inspectorSignature) {\n          newErrors.inspectorSignature = 'Signature is required';\n        }\n        break;\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleNext = () => {\n    if (validateStep(currentStep)) {\n      if (currentStep < STEPS.length - 1) {\n        setCurrentStep(currentStep + 1);\n      }\n    } else {\n      toast.error('Please complete all required fields');\n    }\n  };\n\n  const handleBack = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  const handleGoToStep = (step: number) => {\n    if (step >= 0 && step < STEPS.length) {\n      setCurrentStep(step);\n    }\n  };\n\n  const handleManualSave = () => {\n    const draft: ICS212DraftData = {\n      formData,\n      currentStep,\n      savedAt: new Date().toISOString(),\n      expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),\n    };\n    localStorage.setItem('ics212-draft', JSON.stringify(draft));\n    toast.success('Draft saved manually!', { icon: 'ðŸ’¾' });\n  };\n\n  const handleClearForm = () => {\n    if (confirm('Are you sure you want to clear all form data? This cannot be undone.')) {\n      setFormData(INITIAL_FORM_DATA);\n      setCurrentStep(0);\n      setErrors({});\n      localStorage.removeItem('ics212-draft');\n      toast('Form cleared', { icon: 'ðŸ—‘ï¸' });\n    }\n  };\n\n  const handleSubmit = async () => {\n    try {\n      // Prepare submission data\n      const submissionData: Partial<ICS212FormData> = {\n        ...formData,\n        submittedAt: new Date().toISOString(),\n        status: 'submitted',\n      };\n\n      // Submit to backend\n      const response = await fetch('/api/ics212/submit', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(submissionData),\n      });\n\n      if (!response.ok) {\n        throw new Error('Submission failed');\n      }\n\n      const result: ICS212SubmissionResponse = await response.json();\n      \n      if (result.success) {\n        setIsSubmitted(true);\n        localStorage.removeItem('ics212-draft');\n        toast.success(`Form submitted! ID: ${result.formId}`);\n        \n        // Optionally redirect or show success screen\n        console.log('Submission result:', result);\n      } else {\n        throw new Error(result.error || 'Submission failed');\n      }\n    } catch (error) {\n      console.error('Submission error:', error);\n      throw error;\n    }\n  };\n\n  const CurrentStepComponent = STEPS[currentStep].component;\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n      {/* Header */}\n      <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40 shadow-sm\">\n        <div className=\"max-w-4xl mx-auto px-4 py-4\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div>\n              <h1 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                ICS-212 Vehicle Safety Inspection\n              </h1>\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                Step {currentStep + 1} of {STEPS.length}: {STEPS[currentStep].title}\n              </p>\n            </div>\n            <div className=\"flex gap-2\">\n              <button\n                type=\"button\"\n                onClick={handleManualSave}\n                className=\"p-2 rounded-lg bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors\"\n                title=\"Save Draft\"\n              >\n                <Save className=\"w-5 h-5\" />\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleClearForm}\n                className=\"p-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition-colors\"\n                title=\"Clear Form\"\n              >\n                <Trash2 className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n\n          {/* Progress Indicator */}\n          <ProgressIndicator\n            currentStep={currentStep + 1}\n            totalSteps={STEPS.length}\n            labels={STEPS.map(s => s.title)}\n          />\n        </div>\n      </div>\n\n      {/* Form Content */}\n      <div className=\"max-w-4xl mx-auto\">\n        <AnimatePresence mode=\"wait\">\n          <motion.div\n            key={currentStep}\n            initial={{ opacity: 0, x: 20 }}\n            animate={{ opacity: 1, x: 0 }}\n            exit={{ opacity: 0, x: -20 }}\n            transition={{ duration: 0.3 }}\n          >\n            <CurrentStepComponent\n              formData={formData}\n              onChange={handleFieldChange}\n              onNext={handleNext}\n              onBack={handleBack}\n              onGoToStep={handleGoToStep}\n              onSubmit={handleSubmit}\n              errors={errors}\n            />\n          </motion.div>\n        </AnimatePresence>\n      </div>\n\n      {/* Draft Recovery Dialog */}\n      <AnimatePresence>\n        {showDraftDialog && (\n          <motion.div\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n          >\n            <motion.div\n              className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6\"\n              initial={{ scale: 0.9, y: 20 }}\n              animate={{ scale: 1, y: 0 }}\n              exit={{ scale: 0.9, y: 20 }}\n            >\n              <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-2\">\n                Resume Draft?\n              </h3>\n              <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n                We found a saved draft from{' '}\n                {recoveredDraft && new Date(recoveredDraft.savedAt).toLocaleString()}.\n                Would you like to resume where you left off?\n              </p>\n              <div className=\"flex gap-3\">\n                <button\n                  type=\"button\"\n                  onClick={handleDiscardDraft}\n                  className=\"flex-1 px-4 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold rounded-xl transition-colors\"\n                >\n                  Start Fresh\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={handleResumeDraft}\n                  className=\"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition-colors\"\n                >\n                  Resume Draft\n                </button>\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Submission Success Screen */}\n      <AnimatePresence>\n        {isSubmitted && (\n          <motion.div\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n          >\n            <motion.div\n              className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-8 text-center\"\n              initial={{ scale: 0.9, y: 20 }}\n              animate={{ scale: 1, y: 0 }}\n            >\n              <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <svg className=\"w-8 h-8 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                </svg>\n              </div>\n              <h3 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n                Form Submitted!\n              </h3>\n              <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n                Your ICS-212 form has been successfully submitted and logged.\n              </p>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setIsSubmitted(false);\n                  setFormData(INITIAL_FORM_DATA);\n                  setCurrentStep(0);\n                }}\n                className=\"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition-colors\"\n              >\n                Start New Form\n              </button>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default ICS212Form;\n"],"names":["toKebabCase","string","toCamelCase","match","p1","p2","toPascalCase","camelCase","mergeClasses","classes","className","index","array","hasA11yProp","props","prop","defaultAttributes","Icon","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","children","iconNode","rest","ref","createElement","tag","attrs","createLucideIcon","iconName","Component","__iconNode","ChevronDown","CircleCheckBig","CircleX","LoaderCircle","Lock","Save","SquarePen","Trash2","TriangleAlert","createContextScope","scopeName","createContextScopeDeps","defaultContexts","createContext3","rootComponentName","defaultContext","BaseContext","React.createContext","Provider","scope","context","Context","value","React.useMemo","jsx","useContext2","consumerName","React.useContext","createScope","scopeContexts","contexts","composeContextScopes","scopes","baseScope","scopeHooks","createScope2","overrideScopes","nextScopes","nextScopes2","useScope","currentScope","REACT_LAZY_TYPE","use","React","isPromiseLike","isLazyComponent","element","createSlot","ownerName","SlotClone","createSlotClone","Slot2","React.forwardRef","forwardedRef","slotProps","childrenArray","React.Children","slottable","isSlottable","newElement","newChildren","child","React.isValidElement","React.cloneElement","childrenRef","getElementRef","props2","mergeProps","React.Fragment","composeRefs","SLOTTABLE_IDENTIFIER","childProps","overrideProps","propName","slotPropValue","childPropValue","args","result","getter","mayWarn","NODES","Primitive","primitive","node","Slot","Node","asChild","primitiveProps","Comp","PROGRESS_NAME","DEFAULT_MAX","createProgressContext","ProgressProvider","useProgressContext","Progress","__scopeProgress","valueProp","maxProp","getValueLabel","defaultGetValueLabel","progressProps","isValidMaxNumber","getInvalidMaxError","max","isValidValueNumber","getInvalidValueError","valueLabel","isNumber","getProgressState","INDICATOR_NAME","ProgressIndicator","indicatorProps","maxValue","propValue","componentName","Root","Indicator","currentStep","totalSteps","labels","showPercentage","progress","jsxs","_","i","isCompleted","isCurrent","stepNumber","motion","Progress.Root","Progress.Indicator","IncidentInfoStep","formData","onChange","onNext","errors","handleSubmit","e","getCurrentDate","getCurrentTime","now","hours","minutes","TouchFeedback","VehicleAutocomplete","onVehicleSelect","apiEndpoint","error","isOpen","setIsOpen","useState","vehicles","setVehicles","isLoading","setIsLoading","searchQuery","setSearchQuery","debounceTimer","useRef","containerRef","useEffect","response","data","handleClickOutside","event","handleInputChange","newValue","handleVehicleSelect","vehicle","AnimatePresence","SkeletonLoader","VehicleSelectionStep","onBack","selectedVehicle","setSelectedVehicle","INSPECTION_ITEMS","InspectionItemsStep","_errors","expandedSections","setExpandedSections","inspectionItems","releaseDecision","useMemo","item","handleItemStatusChange","itemNumber","status","updatedItems","toggleSection","section","newExpanded","renderInspectionItem","itemData","AlertTriangle","CheckCircle","XCircle","renderSection","title","sectionKey","items","subtitle","isExpanded","CommentsStep","textareaRef","maxLength","currentLength","suggestion","current","Point","x","y","pressure","time","start","other","Bezier","_Bezier","startPoint","control2","control1","endPoint","startWidth","endWidth","points","widths","c2","c3","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","dxm","dym","k","cm","tx","ty","length","px","py","t","cx","cy","xdiff","ydiff","c1","end","SignatureEventTarget","type","listener","options","callback","throttle","fn","wait","previous","timeout","storedContext","storedArgs","later","remaining","SignaturePad","_SignaturePad","canvas","ctx","dataUrl","dataUrlOptions","resolve","reject","image","ratio","width","height","xOffset","yOffset","encoderOptions","isIOS","canvasWindow","removeEventListener","pointGroups","clear","only","touch","allowUndefined","group","addEventListener","pointGroupOptions","newPointGroup","point","lastPointGroup","lastPoints","lastPoint","isLastPointTooClose","curve","shouldUpdate","rect","_lastPoints","velocity","newWidth","widthDelta","drawSteps","tt","ttt","u","uu","uuu","drawCurve","drawDot","j","basicPoint","includeBackgroundColor","includeDataUrl","minX","minY","maxX","maxY","svg","ratio2","penColor","path","attr","dotSize","minWidth","maxWidth","circle","SignatureCanvas","onSave","initialSignature","disabled","label","canvasRef","signaturePadRef","isEmpty","setIsEmpty","signaturePad","resizeCanvas","handleClear","handleSave","dataURL","InspectorSignatureStep","hasSignedForm","setHasSignedForm","handleSignatureSave","signatureData","signature","getCurrentDateTime","currentDate","currentTime","ReviewSubmitStep","onGoToStep","onSubmit","isSubmitting","setIsSubmitting","hasOperatorSigned","setHasOperatorSigned","handleOperatorSignatureSave","handleFinalSubmit","toast","passCount","failCount","naCount","Edit","Fragment","Loader2","STEPS","INITIAL_FORM_DATA","ICS212Form","setCurrentStep","setFormData","setErrors","isSubmitted","setIsSubmitted","showDraftDialog","setShowDraftDialog","recoveredDraft","setRecoveredDraft","saveInterval","draft","draftJson","handleResumeDraft","handleDiscardDraft","handleFieldChange","field","prev","newErrors","validateStep","step","handleNext","handleBack","handleGoToStep","handleManualSave","handleClearForm","submissionData","CurrentStepComponent","s"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,23]}