{"version":3,"file":"AdminDashboard-BxgrZU97.js","sources":["../../node_modules/lucide-react/dist/esm/icons/activity.js","../../node_modules/lucide-react/dist/esm/icons/arrow-left.js","../../node_modules/lucide-react/dist/esm/icons/brain.js","../../node_modules/lucide-react/dist/esm/icons/circle-alert.js","../../node_modules/lucide-react/dist/esm/icons/circle-x.js","../../node_modules/lucide-react/dist/esm/icons/clipboard-list.js","../../node_modules/lucide-react/dist/esm/icons/clock.js","../../node_modules/lucide-react/dist/esm/icons/house.js","../../node_modules/lucide-react/dist/esm/icons/image.js","../../node_modules/lucide-react/dist/esm/icons/lightbulb.js","../../node_modules/lucide-react/dist/esm/icons/lock.js","../../node_modules/lucide-react/dist/esm/icons/mail.js","../../node_modules/lucide-react/dist/esm/icons/menu.js","../../node_modules/lucide-react/dist/esm/icons/package.js","../../node_modules/lucide-react/dist/esm/icons/refresh-cw.js","../../node_modules/lucide-react/dist/esm/icons/search.js","../../node_modules/lucide-react/dist/esm/icons/sparkles.js","../../node_modules/lucide-react/dist/esm/icons/trending-up.js","../../node_modules/lucide-react/dist/esm/icons/truck.js","../../node_modules/lucide-react/dist/esm/icons/warehouse.js","../../src/hooks/useInventory.ts","../../src/hooks/useSupplyTasks.ts","../../src/components/DashboardHome.tsx","../../src/components/AIFleetInsights.tsx","../../src/components/inventory/SupplyListPanel.tsx","../../src/components/inventory/TasksPanel.tsx","../../src/components/inventory/SuggestionsPanel.tsx","../../src/components/inventory/AIInsightsPanel.tsx","../../src/components/inventory/InventoryTab.tsx","../../src/hooks/useVehicleChangeRequests.ts","../../src/components/ApparatusStatusTab.tsx","../../src/components/AdminDashboard.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2\",\n      key: \"169zse\"\n    }\n  ]\n];\nconst Activity = createLucideIcon(\"activity\", __iconNode);\n\nexport { __iconNode, Activity as default };\n//# sourceMappingURL=activity.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m12 19-7-7 7-7\", key: \"1l729n\" }],\n  [\"path\", { d: \"M19 12H5\", key: \"x3x0zl\" }]\n];\nconst ArrowLeft = createLucideIcon(\"arrow-left\", __iconNode);\n\nexport { __iconNode, ArrowLeft as default };\n//# sourceMappingURL=arrow-left.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 18V5\", key: \"adv99a\" }],\n  [\"path\", { d: \"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4\", key: \"1e3is1\" }],\n  [\"path\", { d: \"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5\", key: \"1gqd8o\" }],\n  [\"path\", { d: \"M17.997 5.125a4 4 0 0 1 2.526 5.77\", key: \"iwvgf7\" }],\n  [\"path\", { d: \"M18 18a4 4 0 0 0 2-7.464\", key: \"efp6ie\" }],\n  [\"path\", { d: \"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517\", key: \"1gq6am\" }],\n  [\"path\", { d: \"M6 18a4 4 0 0 1-2-7.464\", key: \"k1g0md\" }],\n  [\"path\", { d: \"M6.003 5.125a4 4 0 0 0-2.526 5.77\", key: \"q97ue3\" }]\n];\nconst Brain = createLucideIcon(\"brain\", __iconNode);\n\nexport { __iconNode, Brain as default };\n//# sourceMappingURL=brain.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n];\nconst CircleAlert = createLucideIcon(\"circle-alert\", __iconNode);\n\nexport { __iconNode, CircleAlert as default };\n//# sourceMappingURL=circle-alert.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n];\nconst CircleX = createLucideIcon(\"circle-x\", __iconNode);\n\nexport { __iconNode, CircleX as default };\n//# sourceMappingURL=circle-x.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"8\", height: \"4\", x: \"8\", y: \"2\", rx: \"1\", ry: \"1\", key: \"tgr4d6\" }],\n  [\n    \"path\",\n    {\n      d: \"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\",\n      key: \"116196\"\n    }\n  ],\n  [\"path\", { d: \"M12 11h4\", key: \"1jrz19\" }],\n  [\"path\", { d: \"M12 16h4\", key: \"n85exb\" }],\n  [\"path\", { d: \"M8 11h.01\", key: \"1dfujw\" }],\n  [\"path\", { d: \"M8 16h.01\", key: \"18s6g9\" }]\n];\nconst ClipboardList = createLucideIcon(\"clipboard-list\", __iconNode);\n\nexport { __iconNode, ClipboardList as default };\n//# sourceMappingURL=clipboard-list.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 6v6l4 2\", key: \"mmk7yg\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n];\nconst Clock = createLucideIcon(\"clock\", __iconNode);\n\nexport { __iconNode, Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8\", key: \"5wwlr5\" }],\n  [\n    \"path\",\n    {\n      d: \"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\",\n      key: \"r6nss1\"\n    }\n  ]\n];\nconst House = createLucideIcon(\"house\", __iconNode);\n\nexport { __iconNode, House as default };\n//# sourceMappingURL=house.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", ry: \"2\", key: \"1m3agn\" }],\n  [\"circle\", { cx: \"9\", cy: \"9\", r: \"2\", key: \"af1f0g\" }],\n  [\"path\", { d: \"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21\", key: \"1xmnt7\" }]\n];\nconst Image = createLucideIcon(\"image\", __iconNode);\n\nexport { __iconNode, Image as default };\n//# sourceMappingURL=image.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5\",\n      key: \"1gvzjb\"\n    }\n  ],\n  [\"path\", { d: \"M9 18h6\", key: \"x1upvd\" }],\n  [\"path\", { d: \"M10 22h4\", key: \"ceow96\" }]\n];\nconst Lightbulb = createLucideIcon(\"lightbulb\", __iconNode);\n\nexport { __iconNode, Lightbulb as default };\n//# sourceMappingURL=lightbulb.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"11\", x: \"3\", y: \"11\", rx: \"2\", ry: \"2\", key: \"1w4ew1\" }],\n  [\"path\", { d: \"M7 11V7a5 5 0 0 1 10 0v4\", key: \"fwvmzm\" }]\n];\nconst Lock = createLucideIcon(\"lock\", __iconNode);\n\nexport { __iconNode, Lock as default };\n//# sourceMappingURL=lock.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7\", key: \"132q7q\" }],\n  [\"rect\", { x: \"2\", y: \"4\", width: \"20\", height: \"16\", rx: \"2\", key: \"izxlao\" }]\n];\nconst Mail = createLucideIcon(\"mail\", __iconNode);\n\nexport { __iconNode, Mail as default };\n//# sourceMappingURL=mail.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M4 5h16\", key: \"1tepv9\" }],\n  [\"path\", { d: \"M4 12h16\", key: \"1lakjw\" }],\n  [\"path\", { d: \"M4 19h16\", key: \"1djgab\" }]\n];\nconst Menu = createLucideIcon(\"menu\", __iconNode);\n\nexport { __iconNode, Menu as default };\n//# sourceMappingURL=menu.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z\",\n      key: \"1a0edw\"\n    }\n  ],\n  [\"path\", { d: \"M12 22V12\", key: \"d0xqtd\" }],\n  [\"polyline\", { points: \"3.29 7 12 12 20.71 7\", key: \"ousv84\" }],\n  [\"path\", { d: \"m7.5 4.27 9 5.15\", key: \"1c824w\" }]\n];\nconst Package = createLucideIcon(\"package\", __iconNode);\n\nexport { __iconNode, Package as default };\n//# sourceMappingURL=package.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\", key: \"v9h5vc\" }],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }],\n  [\"path\", { d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\", key: \"3uifl3\" }],\n  [\"path\", { d: \"M8 16H3v5\", key: \"1cv678\" }]\n];\nconst RefreshCw = createLucideIcon(\"refresh-cw\", __iconNode);\n\nexport { __iconNode, RefreshCw as default };\n//# sourceMappingURL=refresh-cw.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m21 21-4.34-4.34\", key: \"14j7rj\" }],\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }]\n];\nconst Search = createLucideIcon(\"search\", __iconNode);\n\nexport { __iconNode, Search as default };\n//# sourceMappingURL=search.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z\",\n      key: \"1s2grr\"\n    }\n  ],\n  [\"path\", { d: \"M20 2v4\", key: \"1rf3ol\" }],\n  [\"path\", { d: \"M22 4h-4\", key: \"gwowj6\" }],\n  [\"circle\", { cx: \"4\", cy: \"20\", r: \"2\", key: \"6kqj1y\" }]\n];\nconst Sparkles = createLucideIcon(\"sparkles\", __iconNode);\n\nexport { __iconNode, Sparkles as default };\n//# sourceMappingURL=sparkles.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 7h6v6\", key: \"box55l\" }],\n  [\"path\", { d: \"m22 7-8.5 8.5-5-5L2 17\", key: \"1t1m79\" }]\n];\nconst TrendingUp = createLucideIcon(\"trending-up\", __iconNode);\n\nexport { __iconNode, TrendingUp as default };\n//# sourceMappingURL=trending-up.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2\", key: \"wrbu53\" }],\n  [\"path\", { d: \"M15 18H9\", key: \"1lyqi6\" }],\n  [\n    \"path\",\n    {\n      d: \"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14\",\n      key: \"lysw3i\"\n    }\n  ],\n  [\"circle\", { cx: \"17\", cy: \"18\", r: \"2\", key: \"332jqn\" }],\n  [\"circle\", { cx: \"7\", cy: \"18\", r: \"2\", key: \"19iecd\" }]\n];\nconst Truck = createLucideIcon(\"truck\", __iconNode);\n\nexport { __iconNode, Truck as default };\n//# sourceMappingURL=truck.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11\", key: \"pb2vm6\" }],\n  [\n    \"path\",\n    {\n      d: \"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z\",\n      key: \"doq5xv\"\n    }\n  ],\n  [\"path\", { d: \"M6 13h12\", key: \"yf64js\" }],\n  [\"path\", { d: \"M6 17h12\", key: \"1jwigz\" }]\n];\nconst Warehouse = createLucideIcon(\"warehouse\", __iconNode);\n\nexport { __iconNode, Warehouse as default };\n//# sourceMappingURL=warehouse.js.map\n","import { useState, useEffect, useCallback } from 'react';\nimport { fetchInventory } from '../lib/inventory';\nimport type { InventoryItem } from '../lib/inventory';\n\nexport function useInventory() {\n  const [items, setItems] = useState<InventoryItem[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [lastFetchedAt, setLastFetchedAt] = useState<string | null>(null);\n\n  const loadInventory = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    \n    try {\n      const data = await fetchInventory();\n      setItems(data.items);\n      setLastFetchedAt(data.fetchedAt);\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to load inventory';\n      setError(errorMessage);\n      console.error('Error loading inventory:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    loadInventory();\n  }, [loadInventory]);\n\n  return {\n    items,\n    isLoading,\n    error,\n    lastFetchedAt,\n    refresh: loadInventory,\n  };\n}","import { useState, useEffect, useCallback } from 'react';\nimport { fetchTasks, updateTask } from '../lib/inventory';\nimport type { SupplyTask } from '../lib/inventory';\n\nexport function useSupplyTasks(status: 'pending' | 'completed' | 'canceled' = 'pending') {\n  const [tasks, setTasks] = useState<SupplyTask[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [count, setCount] = useState(0);\n\n  const loadTasks = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    \n    try {\n      const data = await fetchTasks(status);\n      setTasks(data.tasks);\n      setCount(data.count);\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to load tasks';\n      setError(errorMessage);\n      console.error('Error loading tasks:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [status]);\n\n  const completeTask = useCallback(async (\n    taskId: string,\n    chosenReplacement?: { itemId: string; itemName: string; qty: number },\n    completedBy?: string,\n    notes?: string\n  ) => {\n    try {\n      await updateTask(taskId, {\n        status: 'completed',\n        chosenReplacement,\n        completedBy,\n        notes,\n      });\n      await loadTasks(); // Refresh list\n    } catch (err) {\n      throw err; // Let caller handle error\n    }\n  }, [loadTasks]);\n\n  const cancelTask = useCallback(async (taskId: string, notes?: string) => {\n    try {\n      await updateTask(taskId, {\n        status: 'canceled',\n        notes,\n      });\n      await loadTasks(); // Refresh list\n    } catch (err) {\n      throw err; // Let caller handle error\n    }\n  }, [loadTasks]);\n\n  useEffect(() => {\n    loadTasks();\n  }, [loadTasks]);\n\n  return {\n    tasks,\n    isLoading,\n    error,\n    count,\n    refresh: loadTasks,\n    completeTask,\n    cancelTask,\n  };\n}","import React, { useState, useEffect } from 'react';\nimport { Brain, AlertTriangle, AlertCircle, CheckCircle, TrendingUp, Package, RefreshCw, Lightbulb, Activity, Truck } from 'lucide-react';\nimport { Button } from './ui/Button';\nimport { Card, CardContent } from './ui/Card';\nimport { githubService } from '../lib/github';\nimport { useInventory } from '../hooks/useInventory';\nimport { useSupplyTasks } from '../hooks/useSupplyTasks';\nimport { useApparatusStatus } from '../hooks/useApparatusStatus';\nimport { fetchAIInsights, generateAIInsights } from '../lib/inventory';\nimport type { AIInsight, AIInsightData } from '../lib/inventory';\nimport type { Defect } from '../types';\n\ninterface DashboardHomeProps {\n  adminPassword: string;\n}\n\ninterface FleetInsight {\n  text: string;\n  type: 'critical' | 'warning' | 'positive' | 'info';\n}\n\nexport const DashboardHome: React.FC<DashboardHomeProps> = ({ adminPassword }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const [lastUpdated, setLastUpdated] = useState<Date | null>(null);\n  \n  // Fleet insights state\n  const [fleetInsights, setFleetInsights] = useState<FleetInsight[]>([]);\n  const [fleetHealthScore, setFleetHealthScore] = useState(0);\n  const [defects, setDefects] = useState<Defect[]>([]);\n  \n  // Inventory insights state\n  const [inventoryInsights, setInventoryInsights] = useState<AIInsight | null>(null);\n  const [parsedInventoryInsight, setParsedInventoryInsight] = useState<AIInsightData | null>(null);\n  \n  // Data from hooks\n  const { items: inventoryItems, isLoading: inventoryLoading } = useInventory();\n  const { tasks: pendingTasks, isLoading: tasksLoading } = useSupplyTasks('pending');\n  const { allVehicles, loading: statusLoading } = useApparatusStatus();\n  \n  // Summary statistics\n  const [stats, setStats] = useState({\n    totalDefects: 0,\n    criticalIssues: 0,\n    pendingTasks: 0,\n    outOfServiceVehicles: 0,\n    lowStockItems: 0,\n    todaySubmissions: 0,\n  });\n\n  const loadAllData = async (showLoader = true) => {\n    if (showLoader) setIsLoading(true);\n    else setIsRefreshing(true);\n    \n    try {\n      // Load defects and compute fleet insights\n      await loadFleetData();\n      \n      // Load inventory AI insights\n      await loadInventoryInsights();\n      \n      // Compute summary statistics\n      computeStatistics();\n      \n      setLastUpdated(new Date());\n    } catch (error) {\n      console.error('Error loading dashboard data:', error);\n    } finally {\n      setIsLoading(false);\n      setIsRefreshing(false);\n    }\n  };\n\n  const loadFleetData = async () => {\n    try {\n      const allDefects = await githubService.getAllDefects();\n      setDefects(allDefects);\n      \n      // Generate insights from defects\n      const insights: FleetInsight[] = [];\n      \n      // Critical issues (missing items)\n      const criticalDefects = allDefects.filter(d => d.status === 'missing');\n      if (criticalDefects.length > 0) {\n        insights.push({\n          text: `${criticalDefects.length} critical item${criticalDefects.length !== 1 ? 's' : ''} missing across the fleet - immediate action required`,\n          type: 'critical'\n        });\n      }\n      \n      // Damaged items\n      const damagedDefects = allDefects.filter(d => d.status === 'damaged');\n      if (damagedDefects.length > 0) {\n        insights.push({\n          text: `${damagedDefects.length} damaged item${damagedDefects.length !== 1 ? 's' : ''} requiring repair or replacement`,\n          type: 'warning'\n        });\n      }\n      \n      // Apparatus with multiple issues\n      const apparatusDefectCounts = new Map<string, number>();\n      allDefects.forEach(d => {\n        apparatusDefectCounts.set(d.apparatus, (apparatusDefectCounts.get(d.apparatus) || 0) + 1);\n      });\n      \n      const apparatusWithMultipleIssues = Array.from(apparatusDefectCounts.entries())\n        .filter(([_, count]) => count >= 3)\n        .sort((a, b) => b[1] - a[1]);\n      \n      if (apparatusWithMultipleIssues.length > 0) {\n        const [apparatus, count] = apparatusWithMultipleIssues[0];\n        insights.push({\n          text: `${apparatus} has ${count} open issues - prioritize for comprehensive inspection`,\n          type: 'warning'\n        });\n      }\n      \n      // Fleet health score\n      const affectedApparatus = apparatusDefectCounts.size;\n      const healthScore = Math.max(0, 100 - (affectedApparatus * 7) - (allDefects.length * 2));\n      setFleetHealthScore(healthScore);\n      \n      if (healthScore >= 90) {\n        insights.push({\n          text: `Fleet operating at optimal condition with ${healthScore}% health score`,\n          type: 'positive'\n        });\n      }\n      \n      setFleetInsights(insights);\n    } catch (error) {\n      console.error('Error loading fleet data:', error);\n    }\n  };\n\n  const loadInventoryInsights = async () => {\n    try {\n      const result = await fetchAIInsights();\n      if (result.insights && result.insights.length > 0) {\n        const latest = result.insights[0];\n        setInventoryInsights(latest);\n        \n        try {\n          const parsed = JSON.parse(latest.insight_json) as AIInsightData;\n          setParsedInventoryInsight(parsed);\n        } catch (parseError) {\n          console.error('Failed to parse inventory insights:', parseError);\n        }\n      }\n    } catch (error) {\n      console.error('Error loading inventory insights:', error);\n    }\n  };\n\n  const handleReAnalyze = async () => {\n    setIsRefreshing(true);\n    try {\n      // Regenerate inventory AI insights\n      await generateAIInsights({\n        tasks: pendingTasks,\n        inventory: inventoryItems,\n      });\n      \n      // Reload all data\n      await loadAllData(false);\n    } catch (error) {\n      console.error('Error re-analyzing:', error);\n      alert('Failed to re-analyze data. Please try again.');\n    } finally {\n      setIsRefreshing(false);\n    }\n  };\n\n  const computeStatistics = () => {\n    const criticalCount = defects.filter(d => d.status === 'missing').length;\n    const outOfService = allVehicles.filter(v => \n      v.status.toLowerCase().includes('out of service')\n    ).length;\n    \n    // Estimate low stock items from pending tasks\n    const lowStock = new Set(pendingTasks.filter(t => \n      t.deficiencyType === 'missing'\n    ).map(t => t.itemName)).size;\n    \n    setStats({\n      totalDefects: defects.length,\n      criticalIssues: criticalCount,\n      pendingTasks: pendingTasks.length,\n      outOfServiceVehicles: outOfService,\n      lowStockItems: lowStock,\n      todaySubmissions: 0, // Would need daily submissions API\n    });\n  };\n\n  // Auto-load on mount\n  useEffect(() => {\n    if (adminPassword && !inventoryLoading && !tasksLoading && !statusLoading) {\n      loadAllData();\n    }\n  }, [adminPassword, inventoryLoading, tasksLoading, statusLoading]);\n\n  // Update stats when data changes\n  useEffect(() => {\n    if (!isLoading && defects.length >= 0) {\n      computeStatistics();\n    }\n  }, [defects, pendingTasks, allVehicles]);\n\n  if (isLoading) {\n    return (\n      <div className=\"py-12 text-center\">\n        <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-4 animate-pulse\">\n          <Brain className=\"w-8 h-8 text-white\" />\n        </div>\n        <h3 className=\"text-lg font-bold text-gray-900 mb-2\">Loading Dashboard</h3>\n        <p className=\"text-gray-600\">Gathering fleet data and AI insights...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header with Re-Analyze Button */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n        <div>\n          <h2 className=\"text-2xl lg:text-3xl font-bold text-gray-900 flex items-center gap-3\">\n            <Brain className=\"w-7 h-7 lg:w-8 lg:h-8 text-blue-600\" />\n            AI-Powered Fleet Overview\n          </h2>\n          <p className=\"text-sm text-gray-600 mt-1\">\n            Real-time insights powered by AI • {lastUpdated ? `Updated ${lastUpdated.toLocaleTimeString()}` : 'Loading...'}\n          </p>\n        </div>\n        <Button\n          onClick={handleReAnalyze}\n          disabled={isRefreshing}\n          variant=\"secondary\"\n          className=\"flex items-center gap-2 whitespace-nowrap\"\n        >\n          <RefreshCw className={`w-4 h-4 ${isRefreshing ? 'animate-spin' : ''}`} />\n          {isRefreshing ? 'Re-Analyzing...' : 'Re-Analyze'}\n        </Button>\n      </div>\n\n      {/* Key Metrics Dashboard */}\n      <div className=\"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3 sm:gap-4\">\n        <Card className=\"border-blue-300 bg-gradient-to-br from-blue-50 to-blue-100\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <TrendingUp className=\"w-5 h-5 text-blue-600\" />\n              <span className=\"text-2xl font-bold text-blue-600\">{fleetHealthScore}%</span>\n            </div>\n            <p className=\"text-xs font-semibold text-blue-900\">Fleet Health</p>\n          </CardContent>\n        </Card>\n\n        <Card className={`border-${stats.criticalIssues > 0 ? 'red' : 'green'}-300 bg-gradient-to-br from-${stats.criticalIssues > 0 ? 'red' : 'green'}-50 to-${stats.criticalIssues > 0 ? 'red' : 'green'}-100`}>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <AlertTriangle className={`w-5 h-5 text-${stats.criticalIssues > 0 ? 'red' : 'green'}-600`} />\n              <span className={`text-2xl font-bold text-${stats.criticalIssues > 0 ? 'red' : 'green'}-600`}>{stats.criticalIssues}</span>\n            </div>\n            <p className={`text-xs font-semibold text-${stats.criticalIssues > 0 ? 'red' : 'green'}-900`}>Critical Issues</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-orange-300 bg-gradient-to-br from-orange-50 to-orange-100\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <AlertCircle className=\"w-5 h-5 text-orange-600\" />\n              <span className=\"text-2xl font-bold text-orange-600\">{stats.totalDefects}</span>\n            </div>\n            <p className=\"text-xs font-semibold text-orange-900\">Total Issues</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-purple-300 bg-gradient-to-br from-purple-50 to-purple-100\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <Activity className=\"w-5 h-5 text-purple-600\" />\n              <span className=\"text-2xl font-bold text-purple-600\">{stats.pendingTasks}</span>\n            </div>\n            <p className=\"text-xs font-semibold text-purple-900\">Pending Tasks</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-yellow-300 bg-gradient-to-br from-yellow-50 to-yellow-100\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <Package className=\"w-5 h-5 text-yellow-600\" />\n              <span className=\"text-2xl font-bold text-yellow-600\">{stats.lowStockItems}</span>\n            </div>\n            <p className=\"text-xs font-semibold text-yellow-900\">Low Stock Items</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-gray-300 bg-gradient-to-br from-gray-50 to-gray-100\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <Truck className=\"w-5 h-5 text-gray-600\" />\n              <span className=\"text-2xl font-bold text-gray-600\">{stats.outOfServiceVehicles}</span>\n            </div>\n            <p className=\"text-xs font-semibold text-gray-900\">Out of Service</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* AI Fleet Insights - Priority Alerts */}\n      {fleetInsights.length > 0 && (\n        <Card className=\"border-blue-300\">\n          <CardContent className=\"p-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\n              <Brain className=\"w-6 h-6 text-blue-600\" />\n              AI Fleet Insights - Priority Alerts\n            </h3>\n            <div className=\"space-y-3\">\n              {fleetInsights.map((insight, index) => {\n                const colors = {\n                  critical: { bg: 'bg-red-50', border: 'border-red-200', text: 'text-red-800', icon: 'text-red-600' },\n                  warning: { bg: 'bg-yellow-50', border: 'border-yellow-200', text: 'text-yellow-800', icon: 'text-yellow-600' },\n                  positive: { bg: 'bg-green-50', border: 'border-green-200', text: 'text-green-800', icon: 'text-green-600' },\n                  info: { bg: 'bg-blue-50', border: 'border-blue-200', text: 'text-blue-800', icon: 'text-blue-600' },\n                };\n                const color = colors[insight.type];\n                const Icon = insight.type === 'critical' || insight.type === 'warning' ? AlertTriangle : \n                            insight.type === 'positive' ? CheckCircle : TrendingUp;\n\n                return (\n                  <div key={index} className={`flex items-start gap-3 p-4 ${color.bg} rounded-lg border ${color.border}`}>\n                    <Icon className={`w-5 h-5 ${color.icon} flex-shrink-0 mt-0.5`} />\n                    <p className={`text-sm font-medium ${color.text} flex-1`}>{insight.text}</p>\n                  </div>\n                );\n              })}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Inventory AI Insights */}\n      {parsedInventoryInsight && (\n        <Card className=\"border-green-300\">\n          <CardContent className=\"p-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\n              <Package className=\"w-6 h-6 text-green-600\" />\n              Inventory Intelligence\n            </h3>\n            \n            <div className=\"space-y-4\">\n              {/* Summary */}\n              {parsedInventoryInsight.summary && (\n                <div className=\"bg-blue-50 border-l-4 border-blue-500 p-4 rounded\">\n                  <p className=\"text-sm font-medium text-blue-900\">{parsedInventoryInsight.summary}</p>\n                </div>\n              )}\n\n              {/* Reorder Suggestions */}\n              {parsedInventoryInsight.reorderSuggestions && parsedInventoryInsight.reorderSuggestions.length > 0 && (\n                <div>\n                  <h4 className=\"font-semibold text-gray-900 mb-2 flex items-center gap-2\">\n                    <Lightbulb className=\"w-5 h-5 text-green-600\" />\n                    Recommended Actions\n                  </h4>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                    {parsedInventoryInsight.reorderSuggestions.slice(0, 4).map((suggestion, idx) => (\n                      <div key={idx} className=\"bg-green-50 border border-green-200 rounded-lg p-3\">\n                        <div className=\"flex items-start justify-between gap-2\">\n                          <div className=\"flex-1 min-w-0\">\n                            <p className=\"font-semibold text-green-900 text-sm truncate\">{suggestion.item}</p>\n                            <p className=\"text-green-700 text-xs mt-1\">{suggestion.reason}</p>\n                          </div>\n                          <span className={`px-2 py-1 rounded text-xs font-bold whitespace-nowrap ${\n                            suggestion.urgency?.toLowerCase() === 'high' ? 'bg-red-100 text-red-800' :\n                            suggestion.urgency?.toLowerCase() === 'medium' ? 'bg-yellow-100 text-yellow-800' :\n                            'bg-gray-100 text-gray-800'\n                          }`}>\n                            {suggestion.urgency || 'Low'}\n                          </span>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Recurring Issues */}\n              {parsedInventoryInsight.recurringIssues && parsedInventoryInsight.recurringIssues.length > 0 && (\n                <div className=\"bg-orange-50 border-l-4 border-orange-500 p-4 rounded\">\n                  <h4 className=\"font-semibold text-orange-900 mb-2\">⚠️ Recurring Issues</h4>\n                  <ul className=\"space-y-1\">\n                    {parsedInventoryInsight.recurringIssues.slice(0, 3).map((issue, idx) => (\n                      <li key={idx} className=\"text-sm text-orange-800\">• {issue}</li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n            </div>\n\n            {inventoryInsights && (\n              <p className=\"text-xs text-gray-500 mt-4 pt-4 border-t border-gray-200\">\n                Generated: {new Date(inventoryInsights.created_at).toLocaleString()}\n              </p>\n            )}\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Quick Actions */}\n      <Card>\n        <CardContent className=\"p-6\">\n          <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Quick Actions</h3>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3\">\n            <Button \n              onClick={() => window.location.hash = '#/admin?tab=fleet'}\n              variant=\"secondary\"\n              className=\"w-full justify-start\"\n            >\n              <AlertCircle className=\"w-4 h-4 mr-2\" />\n              View All Issues\n            </Button>\n            <Button \n              onClick={() => window.location.hash = '#/admin?tab=inventory'}\n              variant=\"secondary\"\n              className=\"w-full justify-start\"\n            >\n              <Package className=\"w-4 h-4 mr-2\" />\n              Manage Inventory\n            </Button>\n            <Button \n              onClick={() => window.location.hash = '#/admin?tab=apparatus-status'}\n              variant=\"secondary\"\n              className=\"w-full justify-start\"\n            >\n              <Truck className=\"w-4 h-4 mr-2\" />\n              Fleet Status\n            </Button>\n            <Button \n              onClick={handleReAnalyze}\n              disabled={isRefreshing}\n              className=\"w-full justify-start\"\n            >\n              <RefreshCw className={`w-4 h-4 mr-2 ${isRefreshing ? 'animate-spin' : ''}`} />\n              Refresh Data\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Empty State */}\n      {fleetInsights.length === 0 && !parsedInventoryInsight && (\n        <Card>\n          <CardContent className=\"py-12 text-center\">\n            <CheckCircle className=\"w-12 h-12 text-green-500 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-bold text-gray-900 mb-2\">Fleet Operating Optimally</h3>\n            <p className=\"text-gray-600\">No critical issues or actionable insights at this time.</p>\n            <Button onClick={handleReAnalyze} variant=\"secondary\" className=\"mt-4\">\n              <RefreshCw className=\"w-4 h-4 mr-2\" />\n              Refresh Analysis\n            </Button>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { Brain, Sparkles, AlertTriangle, CheckCircle, TrendingUp, Package, RefreshCw } from 'lucide-react';\nimport { Button } from './ui/Button';\nimport { Card, CardContent } from './ui/Card';\nimport { githubService } from '../lib/github';\nimport { APPARATUS_LIST } from '../lib/config';\n\ninterface AIFleetInsightsProps {\n  adminPassword: string;\n  onCriticalAlertCount?: (count: number) => void;\n}\n\ninterface AIInsightsData {\n  insights: string[];\n  dataPoints: number;\n  timeframe: string;\n  apparatus: string;\n  generatedAt: string;\n}\n\nexport const AIFleetInsights: React.FC<AIFleetInsightsProps> = ({ adminPassword, onCriticalAlertCount }) => {\n  const [aiInsights, setAiInsights] = useState<AIInsightsData | null>(null);\n  const [isLoadingInsights, setIsLoadingInsights] = useState(false);\n  const [insightsError, setInsightsError] = useState<string | null>(null);\n  const [selectedTimeframe, setSelectedTimeframe] = useState<'week' | 'month' | 'all'>('week');\n  const [selectedApparatus, setSelectedApparatus] = useState<string>('all');\n\n  const loadAIInsights = async () => {\n    if (!adminPassword) {\n      setInsightsError('Admin authentication required');\n      return;\n    }\n    \n    setIsLoadingInsights(true);\n    setInsightsError(null);\n    \n    try {\n      const apparatus = selectedApparatus === 'all' ? undefined : selectedApparatus;\n      const insights = await githubService.getAIInsights(\n        adminPassword,\n        selectedTimeframe,\n        apparatus\n      );\n      \n      setAiInsights(insights);\n      \n      // Check for critical alerts\n      const criticalCount = insights.insights.filter((insight: string) => \n        insight.toLowerCase().includes('critical') || \n        insight.toLowerCase().includes('immediate') ||\n        insight.toLowerCase().includes('urgent')\n      ).length;\n      \n      if (onCriticalAlertCount) {\n        onCriticalAlertCount(criticalCount);\n      }\n    } catch (error: any) {\n      console.error('Error loading AI insights:', error);\n      setInsightsError(error.message || 'Failed to load AI insights');\n    } finally {\n      setIsLoadingInsights(false);\n    }\n  };\n\n  const renderInsightCard = (insight: string, index: number) => {\n    const isCritical = insight.toLowerCase().includes('critical') || insight.toLowerCase().includes('urgent');\n    const isWarning = insight.toLowerCase().includes('warning') || insight.toLowerCase().includes('attention');\n    const isPositive = insight.toLowerCase().includes('good') || insight.toLowerCase().includes('excellent') || insight.toLowerCase().includes('optimal');\n\n    let bgColor = 'bg-blue-50';\n    let borderColor = 'border-blue-200';\n    let textColor = 'text-blue-800';\n    let icon = <CheckCircle className=\"w-5 h-5 text-blue-600\" />;\n\n    if (isCritical) {\n      bgColor = 'bg-red-50';\n      borderColor = 'border-red-200';\n      textColor = 'text-red-800';\n      icon = <AlertTriangle className=\"w-5 h-5 text-red-600\" />;\n    } else if (isWarning) {\n      bgColor = 'bg-yellow-50';\n      borderColor = 'border-yellow-200';\n      textColor = 'text-yellow-800';\n      icon = <AlertTriangle className=\"w-5 h-5 text-yellow-600\" />;\n    } else if (isPositive) {\n      bgColor = 'bg-green-50';\n      borderColor = 'border-green-200';\n      textColor = 'text-green-800';\n      icon = <CheckCircle className=\"w-5 h-5 text-green-600\" />;\n    }\n\n    return (\n      <div key={index} className={`flex items-start gap-3 p-4 ${bgColor} rounded-lg border ${borderColor}`}>\n        {icon}\n        <p className={`text-sm font-medium ${textColor} flex-1`}>{insight}</p>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\n            <Brain className=\"w-7 h-7 text-blue-600\" />\n            Fleet Insights - AI Analysis\n          </h2>\n          <p className=\"text-sm text-gray-600 mt-1 flex items-center gap-2\">\n            <Sparkles className=\"w-4 h-4 text-purple-600\" />\n            Powered by Cloudflare Workers AI (Llama 3 8B)\n          </p>\n        </div>\n        <Button\n          onClick={loadAIInsights}\n          disabled={isLoadingInsights}\n          variant=\"secondary\"\n          className=\"flex items-center gap-2\"\n        >\n          <RefreshCw className={`w-4 h-4 ${isLoadingInsights ? 'animate-spin' : ''}`} />\n          Refresh Analysis\n        </Button>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"p-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {/* Timeframe Selector */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                Analysis Timeframe\n              </label>\n              <div className=\"flex gap-2\">\n                {[\n                  { value: 'week', label: 'Last Week' },\n                  { value: 'month', label: 'Last Month' },\n                  { value: 'all', label: 'All Time' }\n                ].map(({ value, label }) => (\n                  <button\n                    key={value}\n                    onClick={() => setSelectedTimeframe(value as any)}\n                    className={`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${\n                      selectedTimeframe === value\n                        ? 'bg-blue-600 text-white shadow-md'\n                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                    }`}\n                  >\n                    {label}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Apparatus Filter */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                Filter by Apparatus\n              </label>\n              <select\n                value={selectedApparatus}\n                onChange={(e) => setSelectedApparatus(e.target.value)}\n                className=\"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"\n              >\n                <option value=\"all\">All Apparatus</option>\n                {APPARATUS_LIST.map((apparatus) => (\n                  <option key={apparatus} value={apparatus}>\n                    {apparatus}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Analyze Button */}\n          <div className=\"mt-4 pt-4 border-t border-gray-200\">\n            <Button\n              onClick={loadAIInsights}\n              disabled={isLoadingInsights}\n              className=\"w-full md:w-auto flex items-center gap-2\"\n            >\n              <Brain className=\"w-5 h-5\" />\n              {isLoadingInsights ? 'Analyzing Fleet...' : 'Analyze Fleet'}\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Loading State */}\n      {isLoadingInsights && (\n        <Card>\n          <CardContent className=\"py-12\">\n            <div className=\"text-center\">\n              <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-4 animate-pulse\">\n                <Sparkles className=\"w-8 h-8 text-white\" />\n              </div>\n              <h3 className=\"text-lg font-bold text-gray-900 mb-2\">AI Analysis in Progress</h3>\n              <p className=\"text-gray-600\">Analyzing inspection data and generating insights...</p>\n              <div className=\"mt-4 w-48 h-2 bg-gray-200 rounded-full mx-auto overflow-hidden\">\n                <div className=\"h-full bg-gradient-to-r from-blue-500 to-purple-600 animate-pulse\"></div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Error State */}\n      {insightsError && !isLoadingInsights && (\n        <Card className=\"border-red-300\">\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-start gap-3\">\n              <AlertTriangle className=\"w-6 h-6 text-red-600 flex-shrink-0 mt-1\" />\n              <div className=\"flex-1\">\n                <h3 className=\"text-lg font-bold text-red-900 mb-2\">Analysis Unavailable</h3>\n                <p className=\"text-red-700 text-sm mb-4\">{insightsError}</p>\n                {insightsError.includes('503') || insightsError.includes('enabled') ? (\n                  <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 text-sm text-red-800\">\n                    <p className=\"font-semibold mb-2\">AI service is temporarily unavailable.</p>\n                    <p>This could be due to:</p>\n                    <ul className=\"list-disc list-inside mt-2 space-y-1\">\n                      <li>Cloudflare Workers AI service maintenance</li>\n                      <li>AI features not configured in the worker</li>\n                      <li>Network connectivity issues</li>\n                    </ul>\n                    <p className=\"mt-3 font-medium\">You can still view raw data in other dashboard tabs.</p>\n                  </div>\n                ) : (\n                  <Button onClick={loadAIInsights} variant=\"secondary\">\n                    Try Again\n                  </Button>\n                )}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* No Data State */}\n      {!aiInsights && !isLoadingInsights && !insightsError && (\n        <Card>\n          <CardContent className=\"py-12 text-center\">\n            <Brain className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-bold text-gray-900 mb-2\">No Analysis Data</h3>\n            <p className=\"text-gray-600 mb-4\">\n              No inspection data available for this timeframe.\n            </p>\n            <p className=\"text-sm text-gray-500\">\n              Try expanding the timeframe or checking other apparatus.\n            </p>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* AI Insights Results */}\n      {aiInsights && !isLoadingInsights && (\n        <div className=\"space-y-6\">\n          {/* Summary Card */}\n          <Card className=\"border-blue-300 bg-gradient-to-br from-blue-50 to-purple-50\">\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-start gap-4\">\n                <div className=\"bg-gradient-to-br from-blue-600 to-purple-600 p-3 rounded-full\">\n                  <TrendingUp className=\"w-6 h-6 text-white\" />\n                </div>\n                <div className=\"flex-1\">\n                  <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Analysis Summary</h3>\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\n                    <div>\n                      <p className=\"text-sm text-gray-600\">Data Points</p>\n                      <p className=\"text-2xl font-bold text-blue-600\">{aiInsights.dataPoints}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-gray-600\">Timeframe</p>\n                      <p className=\"text-lg font-semibold text-gray-900 capitalize\">{aiInsights.timeframe}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-gray-600\">Apparatus</p>\n                      <p className=\"text-lg font-semibold text-gray-900\">{aiInsights.apparatus || 'All'}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-gray-600\">Insights Found</p>\n                      <p className=\"text-2xl font-bold text-purple-600\">{aiInsights.insights.length}</p>\n                    </div>\n                  </div>\n                  <p className=\"text-xs text-gray-500\">\n                    Generated at: {new Date(aiInsights.generatedAt).toLocaleString()}\n                  </p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Insights List */}\n          <Card>\n            <CardContent className=\"p-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                <AlertTriangle className=\"w-5 h-5 text-orange-600\" />\n                AI-Generated Insights\n              </h3>\n              \n              {aiInsights.insights.length > 0 ? (\n                <div className=\"space-y-3\">\n                  {aiInsights.insights.map((insight, index) => renderInsightCard(insight, index))}\n                </div>\n              ) : (\n                <div className=\"text-center py-12\">\n                  <CheckCircle className=\"w-12 h-12 text-green-600 mx-auto mb-4\" />\n                  <p className=\"text-lg font-semibold text-gray-900\">Fleet Operating Optimally</p>\n                  <p className=\"text-gray-600 mt-2\">AI analysis found no issues or recommendations at this time.</p>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n\n          {/* Statistical Visualization */}\n          <Card>\n            <CardContent className=\"p-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                <Package className=\"w-5 h-5 text-green-600\" />\n                Fleet Health Score\n              </h3>\n              \n              <div className=\"space-y-4\">\n                {/* Overall Health */}\n                <div>\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"text-sm font-semibold text-gray-700\">Overall Fleet Health</span>\n                    <span className={`text-lg font-bold ${\n                      aiInsights.dataPoints > 0 ? 'text-green-600' : 'text-gray-500'\n                    }`}>\n                      {aiInsights.dataPoints > 0 ? Math.max(70, 100 - (aiInsights.insights.length * 5)) : 0}%\n                    </span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-3\">\n                    <div\n                      className=\"h-3 rounded-full bg-gradient-to-r from-green-500 to-emerald-600 transition-all duration-500\"\n                      style={{ width: `${aiInsights.dataPoints > 0 ? Math.max(70, 100 - (aiInsights.insights.length * 5)) : 0}%` }}\n                    />\n                  </div>\n                </div>\n\n                {/* Insights Breakdown */}\n                <div className=\"grid grid-cols-3 gap-4 pt-4 border-t border-gray-200\">\n                  <div className=\"text-center\">\n                    <p className=\"text-sm text-gray-600\">Critical</p>\n                    <p className=\"text-2xl font-bold text-red-600\">\n                      {aiInsights.insights.filter(i => i.toLowerCase().includes('critical')).length}\n                    </p>\n                  </div>\n                  <div className=\"text-center\">\n                    <p className=\"text-sm text-gray-600\">Warnings</p>\n                    <p className=\"text-2xl font-bold text-yellow-600\">\n                      {aiInsights.insights.filter(i => i.toLowerCase().includes('warning')).length}\n                    </p>\n                  </div>\n                  <div className=\"text-center\">\n                    <p className=\"text-sm text-gray-600\">Recommendations</p>\n                    <p className=\"text-2xl font-bold text-blue-600\">\n                      {aiInsights.insights.filter(i => !i.toLowerCase().includes('critical') && !i.toLowerCase().includes('warning')).length}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n    </div>\n  );\n};\n","import React, { useState, useMemo } from 'react';\nimport { Package, Search, RefreshCw, AlertTriangle } from 'lucide-react';\nimport { Button } from '../ui/Button';\nimport { Card, CardContent } from '../ui/Card';\nimport type { InventoryItem } from '../../lib/inventory';\n\ninterface SupplyListPanelProps {\n  items: InventoryItem[];\n  isLoading: boolean;\n  error: string | null;\n  onRefresh: () => void;\n}\n\ntype SortField = 'name' | 'quantity' | 'location';\ntype SortDirection = 'asc' | 'desc';\n\nexport const SupplyListPanel: React.FC<SupplyListPanelProps> = ({\n  items,\n  isLoading,\n  error,\n  onRefresh,\n}) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortField, setSortField] = useState<SortField>('name');\n  const [sortDirection, setSortDirection] = useState<SortDirection>('asc');\n\n  const filteredAndSortedItems = useMemo(() => {\n    let results = items;\n\n    // Filter\n    if (searchTerm) {\n      const term = searchTerm.toLowerCase();\n      results = results.filter(\n        (item) =>\n          item.equipmentName.toLowerCase().includes(term) ||\n          item.equipmentType.toLowerCase().includes(term) ||\n          item.location?.toLowerCase().includes(term) ||\n          item.description?.toLowerCase().includes(term)\n      );\n    }\n\n    // Sort\n    results = [...results].sort((a, b) => {\n      let compareValue = 0;\n      \n      switch (sortField) {\n        case 'name':\n          compareValue = a.equipmentName.localeCompare(b.equipmentName);\n          break;\n        case 'quantity':\n          compareValue = a.quantity - b.quantity;\n          break;\n        case 'location':\n          compareValue = (a.location || '').localeCompare(b.location || '');\n          break;\n      }\n\n      return sortDirection === 'asc' ? compareValue : -compareValue;\n    });\n\n    return results;\n  }, [items, searchTerm, sortField, sortDirection]);\n\n  const toggleSort = (field: SortField) => {\n    if (sortField === field) {\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortField(field);\n      setSortDirection('asc');\n    }\n  };\n\n  if (error) {\n    return (\n      <Card className=\"border-red-300\">\n        <CardContent className=\"py-8 text-center\">\n          <AlertTriangle className=\"w-12 h-12 text-red-500 mx-auto mb-4\" />\n          <p className=\"text-red-600 font-semibold mb-2\">Error Loading Inventory</p>\n          <p className=\"text-gray-600 text-sm mb-4\">{error}</p>\n          <Button onClick={onRefresh} variant=\"secondary\">\n            Try Again\n          </Button>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Search and Actions Bar - Sticky on mobile */}\n      <div className=\"sticky top-0 z-10 bg-white rounded-lg shadow-sm border border-gray-200 p-4 space-y-3\">\n        <div className=\"flex gap-2\">\n          <div className=\"relative flex-1\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search inventory...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-base\"\n            />\n          </div>\n          <Button\n            onClick={onRefresh}\n            variant=\"secondary\"\n            className=\"flex-shrink-0 min-w-[44px] min-h-[44px] flex items-center justify-center\"\n            disabled={isLoading}\n            aria-label=\"Refresh inventory\"\n          >\n            <RefreshCw className={`w-5 h-5 ${isLoading ? 'animate-spin' : ''}`} />\n          </Button>\n        </div>\n\n        {/* Sort Controls */}\n        <div className=\"flex gap-2 flex-wrap\">\n          <button\n            onClick={() => toggleSort('name')}\n            className={`px-3 py-2 rounded-lg text-sm font-semibold transition-colors ${\n              sortField === 'name'\n                ? 'bg-blue-100 text-blue-700'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            Name {sortField === 'name' && (sortDirection === 'asc' ? '↑' : '↓')}\n          </button>\n          <button\n            onClick={() => toggleSort('quantity')}\n            className={`px-3 py-2 rounded-lg text-sm font-semibold transition-colors ${\n              sortField === 'quantity'\n                ? 'bg-blue-100 text-blue-700'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            Quantity {sortField === 'quantity' && (sortDirection === 'asc' ? '↑' : '↓')}\n          </button>\n          <button\n            onClick={() => toggleSort('location')}\n            className={`px-3 py-2 rounded-lg text-sm font-semibold transition-colors ${\n              sortField === 'location'\n                ? 'bg-blue-100 text-blue-700'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            Location {sortField === 'location' && (sortDirection === 'asc' ? '↑' : '↓')}\n          </button>\n        </div>\n      </div>\n\n      {/* Items List */}\n      {isLoading ? (\n        <div className=\"text-center py-12\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\" />\n          <p className=\"text-gray-600\">Loading inventory...</p>\n        </div>\n      ) : filteredAndSortedItems.length === 0 ? (\n        <Card>\n          <CardContent className=\"py-12 text-center\">\n            <Package className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n            <p className=\"text-lg font-semibold text-gray-900\">\n              {searchTerm ? 'No items found' : 'No inventory items'}\n            </p>\n            <p className=\"text-gray-600 mt-1\">\n              {searchTerm\n                ? 'Try adjusting your search terms'\n                : 'Inventory list is empty'}\n            </p>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"space-y-3\">\n          {filteredAndSortedItems.map((item) => {\n            const isLowStock = item.minQty && item.quantity <= item.minQty;\n            \n            return (\n              <Card\n                key={item.id}\n                className={`hover:shadow-md transition-shadow ${\n                  isLowStock ? 'border-orange-300' : ''\n                }`}\n              >\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-start justify-between gap-3\">\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <Package className={`w-5 h-5 flex-shrink-0 ${isLowStock ? 'text-orange-600' : 'text-blue-600'}`} />\n                        <h3 className=\"font-bold text-gray-900 truncate\">\n                          {item.equipmentName}\n                        </h3>\n                        {isLowStock && (\n                          <AlertTriangle className=\"w-4 h-4 text-orange-600 flex-shrink-0\" />\n                        )}\n                      </div>\n                      \n                      <div className=\"space-y-1 text-sm\">\n                        <p className=\"text-gray-600\">\n                          <span className=\"font-semibold\">Type:</span> {item.equipmentType}\n                        </p>\n                        {item.location && (\n                          <p className=\"text-gray-600\">\n                            <span className=\"font-semibold\">Location:</span> {item.location} (Shelf {item.shelf}, Row {item.row})\n                          </p>\n                        )}\n                        {item.manufacturer && (\n                          <p className=\"text-gray-600\">\n                            <span className=\"font-semibold\">Mfg:</span> {item.manufacturer}\n                          </p>\n                        )}\n                        {item.description && (\n                          <p className=\"text-gray-500 text-xs mt-2 line-clamp-2\">\n                            {item.description}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex-shrink-0 text-right\">\n                      <div className={`text-3xl font-bold ${\n                        isLowStock ? 'text-orange-600' : 'text-blue-600'\n                      }`}>\n                        {item.quantity}\n                      </div>\n                      <div className=\"text-xs text-gray-500 mt-1\">\n                        {item.minQty ? `Min: ${item.minQty}` : 'in stock'}\n                      </div>\n                      {isLowStock && (\n                        <div className=\"text-xs font-semibold text-orange-600 mt-1\">\n                          LOW STOCK\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Results Summary */}\n      {!isLoading && filteredAndSortedItems.length > 0 && (\n        <div className=\"text-center text-sm text-gray-600 py-2\">\n          Showing {filteredAndSortedItems.length} of {items.length} items\n        </div>\n      )}\n    </div>\n  );\n};","import React, { useState } from 'react';\nimport { CheckCircle, XCircle, Clock, Package, AlertCircle } from 'lucide-react';\nimport { Button } from '../ui/Button';\nimport { Card, CardContent } from '../ui/Card';\nimport { useSupplyTasks } from '../../hooks/useSupplyTasks';\nimport { formatDateTime } from '../../lib/utils';\n\ntype TaskStatus = 'pending' | 'completed' | 'canceled';\n\nexport const TasksPanel: React.FC = () => {\n  const [activeStatus, setActiveStatus] = useState<TaskStatus>('pending');\n  const { tasks, isLoading, error, completeTask, cancelTask, refresh } = useSupplyTasks(activeStatus);\n  const [processingTaskId, setProcessingTaskId] = useState<string | null>(null);\n\n  const handleComplete = async (taskId: string, itemName: string) => {\n    if (!confirm(`Mark \"${itemName}\" task as completed?`)) return;\n\n    setProcessingTaskId(taskId);\n    try {\n      await completeTask(taskId, undefined, 'Admin', 'Completed from dashboard');\n      alert('Task marked as completed successfully');\n    } catch (err) {\n      alert(`Error: ${err instanceof Error ? err.message : 'Failed to complete task'}`);\n    } finally {\n      setProcessingTaskId(null);\n    }\n  };\n\n  const handleCancel = async (taskId: string, itemName: string) => {\n    const notes = prompt(`Cancel \"${itemName}\" task? Enter reason (optional):`);\n    if (notes === null) return; // User clicked cancel\n\n    setProcessingTaskId(taskId);\n    try {\n      await cancelTask(taskId, notes || 'Canceled from dashboard');\n      alert('Task canceled successfully');\n    } catch (err) {\n      alert(`Error: ${err instanceof Error ? err.message : 'Failed to cancel task'}`);\n    } finally {\n      setProcessingTaskId(null);\n    }\n  };\n\n if (error) {\n    return (\n      <Card className=\"border-red-300\">\n        <CardContent className=\"py-8 text-center\">\n          <AlertCircle className=\"w-12 h-12 text-red-500 mx-auto mb-4\" />\n          <p className=\"text-red-600 font-semibold mb-2\">Error Loading Tasks</p>\n          <p className=\"text-gray-600 text-sm mb-4\">{error}</p>\n          <Button onClick={refresh} variant=\"secondary\">\n            Try Again\n          </Button>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Status Tabs */}\n      <div className=\"flex gap-2 border-b border-gray-200 overflow-x-auto\">\n        <button\n          onClick={() => setActiveStatus('pending')}\n          className={`px-4 py-3 font-semibold transition-all flex items-center gap-2 whitespace-nowrap min-w-[120px] ${\n            activeStatus === 'pending'\n              ? 'text-blue-600 border-b-2 border-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          <Clock className=\"w-5 h-5\" />\n          Pending\n        </button>\n        <button\n          onClick={() => setActiveStatus('completed')}\n          className={`px-4 py-3 font-semibold transition-all flex items-center gap-2 whitespace-nowrap min-w-[120px] ${\n            activeStatus === 'completed'\n              ? 'text-blue-600 border-b-2 border-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          <CheckCircle className=\"w-5 h-5\" />\n          Completed\n        </button>\n        <button\n          onClick={() => setActiveStatus('canceled')}\n          className={`px-4 py-3 font-semibold transition-all flex items-center gap-2 whitespace-nowrap min-w-[120px] ${\n            activeStatus === 'canceled'\n              ? 'text-blue-600 border-b-2 border-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          <XCircle className=\"w-5 h-5\" />\n          Canceled\n        </button>\n      </div>\n\n      {/* Tasks List */}\n      {isLoading ? (\n        <div className=\"text-center py-12\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\" />\n          <p className=\"text-gray-600\">Loading tasks...</p>\n        </div>\n      ) : tasks.length === 0 ? (\n        <Card>\n          <CardContent className=\"py-12 text-center\">\n            <Package className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n            <p className=\"text-lg font-semibold text-gray-900\">No {activeStatus} tasks</p>\n            <p className=\"text-gray-600 mt-1\">\n              {activeStatus === 'pending'\n                ? 'All supply tasks are up to date'\n                : `No tasks have been ${activeStatus}`}\n            </p>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"space-y-3\">\n          {tasks.map((task) => (\n            <Card key={task.id} className=\"hover:shadow-md transition-shadow\">\n              <CardContent className=\"p-4\">\n                <div className=\"space-y-3\">\n                  {/* Header */}\n                  <div className=\"flex items-start justify-between gap-3\">\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <span className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold\">\n                          {task.apparatus}\n                        </span>\n                        <span className={`px-3 py-1 rounded-full text-sm font-semibold ${\n                          task.deficiencyType === 'missing'\n                            ? 'bg-red-100 text-red-800'\n                            : 'bg-yellow-100 text-yellow-800'\n                        }`}>\n                          {task.deficiencyType === 'missing' ? '❌ Missing' : '⚠️ Damaged'}\n                        </span>\n                      </div>\n                      <h3 className=\"font-bold text-gray-900 text-lg\">\n                        {task.itemName}\n                      </h3>\n                      {task.compartment && (\n                        <p className=\"text-sm text-gray-600\">\n                          Compartment: {task.compartment}\n                        </p>\n                      )}\n                    </div>\n                    {activeStatus === 'pending' && (\n                      <div className=\"flex-shrink-0\">\n                        <Clock className=\"w-6 h-6 text-orange-600\" />\n                      </div>\n                    )}\n                    {activeStatus === 'completed' && (\n                      <div className=\"flex-shrink-0\">\n                        <CheckCircle className=\"w-6 h-6 text-green-600\" />\n                      </div>\n                    )}\n                    {activeStatus === 'canceled' && (\n                      <div className=\"flex-shrink-0\">\n                        <XCircle className=\"w-6 h-6 text-gray-600\" />\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Details */}\n                  <div className=\"text-sm space-y-1\">\n                    <p className=\"text-gray-600\">\n                      <span className=\"font-semibold\">Created by:</span> {task.createdBy}\n                    </p>\n                    <p className=\"text-gray-600\">\n                      <span className=\"font-semibold\">Created:</span> {formatDateTime(task.createdAt)}\n                    </p>\n                    {task.completedBy && task.completedAt && (\n                      <>\n                        <p className=\"text-gray-600\">\n                          <span className=\"font-semibold\">Completed by:</span> {task.completedBy}\n                        </p>\n                        <p className=\"text-gray-600\">\n                          <span className=\"font-semibold\">Completed:</span> {formatDateTime(task.completedAt)}\n                        </p>\n                      </>\n                    )}\n                    {task.notes && (\n                      <p className=\"text-gray-700 bg-gray-50 p-2 rounded mt-2\">\n                        <span className=\"font-semibold\">Notes:</span> {task.notes}\n                      </p>\n                    )}\n                  </div>\n\n                  {/* Actions for Pending Tasks */}\n                  {activeStatus === 'pending' && (\n                    <div className=\"flex gap-2 pt-2\">\n                      <Button\n                        onClick={() => handleComplete(task.id, task.itemName)}\n                        variant=\"primary\"\n                        size=\"sm\"\n                        className=\"flex-1 min-h-[44px]\"\n                        disabled={processingTaskId === task.id}\n                      >\n                        {processingTaskId === task.id ? (\n                          <>\n                            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\" />\n                            Processing...\n                          </>\n                        ) : (\n                          <>\n                            <CheckCircle className=\"w-4 h-4 mr-2\" />\n                            Mark Complete\n                          </>\n                        )}\n                      </Button>\n                      <Button\n                        onClick={() => handleCancel(task.id, task.itemName)}\n                        variant=\"secondary\"\n                        size=\"sm\"\n                        className=\"flex-1 min-h-[44px] bg-red-50 hover:bg-red-100 text-red-700\"\n                        disabled={processingTaskId === task.id}\n                      >\n                        <XCircle className=\"w-4 h-4 mr-2\" />\n                        Cancel\n                      </Button>\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n\n      {/* Results Summary */}\n      {!isLoading && tasks.length > 0 && (\n        <div className=\"text-center text-sm text-gray-600 py-2\">\n          {tasks.length} {activeStatus} task{tasks.length !== 1 ? 's' : ''}\n        </div>\n      )}\n    </div>\n  );\n};","import React from 'react';\nimport { Lightbulb, Package, AlertCircle, CheckCircle } from 'lucide-react';\nimport { Card, CardContent } from '../ui/Card';\nimport { useSupplyTasks } from '../../hooks/useSupplyTasks';\nimport { useInventory } from '../../hooks/useInventory';\nimport type { SuggestedReplacement } from '../../lib/inventory';\n\nexport const SuggestionsPanel: React.FC = () => {\n  const { tasks, isLoading: tasksLoading } = useSupplyTasks('pending');\n  const { items, isLoading: inventoryLoading } = useInventory();\n\n  const isLoading = tasksLoading || inventoryLoading;\n\n  // Match tasks with inventory using fuzzy matching\n  const tasksWithSuggestions = React.useMemo(() => {\n    return tasks.map((task) => {\n      const suggestions: Array<SuggestedReplacement & { inStock: boolean }> = [];\n\n      // If task already has suggested replacements, use those\n      if (task.suggestedReplacements && task.suggestedReplacements.length > 0) {\n        return {\n          task,\n          suggestions: task.suggestedReplacements.map(s => ({\n            ...s,\n            inStock: s.qtyOnHand > 0,\n          })),\n        };\n      }\n\n      // Otherwise, do simple fuzzy matching\n      const searchTerm = task.itemName.toLowerCase();\n      \n      items.forEach((item) => {\n        const itemName = item.equipmentName.toLowerCase();\n        const itemType = item.equipmentType.toLowerCase();\n        \n        // Score based on name similarity\n        let confidence = 0;\n        if (itemName.includes(searchTerm) || searchTerm.includes(itemName)) {\n          confidence = 0.8;\n        } else if (itemType.includes(searchTerm) || searchTerm.includes(itemType)) {\n          confidence = 0.6;\n        }\n\n        if (confidence > 0) {\n          suggestions.push({\n            itemId: item.id,\n            itemName: item.equipmentName,\n            qtyOnHand: item.quantity,\n            location: item.location,\n            confidence,\n            inStock: item.quantity > 0,\n          });\n        }\n      });\n\n      // Sort by confidence and stock availability\n      suggestions.sort((a, b) => {\n        if (a.inStock && !b.inStock) return -1;\n        if (!a.inStock && b.inStock) return 1;\n        return (b.confidence || 0) - (a.confidence || 0);\n      });\n\n      return { task, suggestions: suggestions.slice(0, 3) }; // Top 3 suggestions\n    });\n  }, [tasks, items]);\n\n  if (isLoading) {\n    return (\n      <div className=\"text-center py-12\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\" />\n        <p className=\"text-gray-600\">Loading suggestions...</p>\n      </div>\n    );\n  }\n\n  if (tasks.length === 0) {\n    return (\n      <Card>\n        <CardContent className=\"py-12 text-center\">\n          <Lightbulb className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n          <p className=\"text-lg font-semibold text-gray-900\">No Pending Tasks</p>\n          <p className=\"text-gray-600 mt-1\">\n            Suggestions will appear when there are pending supply tasks\n          </p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"bg-blue-50 border-l-4 border-blue-500 p-4 rounded\">\n        <div className=\"flex items-start gap-3\">\n          <Lightbulb className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" />\n          <div>\n            <p className=\"text-sm text-blue-900 font-semibold\">Inventory Suggestions</p>\n            <p className=\"text-sm text-blue-800 mt-1\">\n              Suggested replacements from inventory for pending tasks. Match confidence and stock availability shown.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {tasksWithSuggestions.map(({ task, suggestions }) => (\n        <Card key={task.id} className=\"hover:shadow-md transition-shadow\">\n          <CardContent className=\"p-4\">\n            <div className=\"space-y-3\">\n              {/* Task Info */}\n              <div>\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <span className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold\">\n                    {task.apparatus}\n                  </span>\n                  <span className={`px-3 py-1 rounded-full text-sm font-semibold ${\n                    task.deficiencyType === 'missing'\n                      ? 'bg-red-100 text-red-800'\n                      : 'bg-yellow-100 text-yellow-800'\n                  }`}>\n                    {task.deficiencyType === 'missing' ? 'Missing' : 'Damaged'}\n                  </span>\n                </div>\n                <h3 className=\"font-bold text-gray-900\">\n                  {task.itemName}\n                </h3>\n                {task.compartment && (\n                  <p className=\"text-sm text-gray-600\">Compartment: {task.compartment}</p>\n                )}\n              </div>\n\n              {/* Suggestions */}\n              {suggestions.length === 0 ? (\n                <div className=\"bg-gray-50 p-3 rounded-lg text-center\">\n                  <AlertCircle className=\"w-6 h-6 text-gray-400 mx-auto mb-2\" />\n                  <p className=\"text-sm text-gray-600\">No matching items found in inventory</p>\n                </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  <p className=\"text-sm font-semibold text-gray-700\">Suggested Replacements:</p>\n                  {suggestions.map((suggestion, idx) => (\n                    <div\n                      key={`${suggestion.itemId}-${idx}`}\n                      className={`p-3 rounded-lg border-2 ${\n                        suggestion.inStock\n                          ? 'bg-green-50 border-green-300'\n                          : 'bg-gray-50 border-gray-300'\n                      }`}\n                    >\n                      <div className=\"flex items-start justify-between gap-3\">\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            <Package className={`w-4 h-4 ${suggestion.inStock ? 'text-green-600' : 'text-gray-400'}`} />\n                            <h4 className=\"font-semibold text-gray-900 text-sm\">\n                              {suggestion.itemName}\n                            </h4>\n                          </div>\n                          {suggestion.location && (\n                            <p className=\"text-xs text-gray-600\">\n                              Location: {suggestion.location}\n                            </p>\n                          )}\n                          {suggestion.confidence && (\n                            <p className=\"text-xs text-gray-500 mt-1\">\n                              Match: {Math.round(suggestion.confidence * 100)}%\n                            </p>\n                          )}\n                        </div>\n                        <div className=\"flex-shrink-0 text-right\">\n                          <div className={`text-2xl font-bold ${\n                            suggestion.inStock ? 'text-green-600' : 'text-gray-400'\n                          }`}>\n                            {suggestion.qtyOnHand}\n                          </div>\n                          <div className={`text-xs font-semibold ${\n                            suggestion.inStock ? 'text-green-600' : 'text-gray-500'\n                          }`}>\n                            {suggestion.inStock ? (\n                              <span className=\"flex items-center gap-1\">\n                                <CheckCircle className=\"w-3 h-3\" />\n                                IN STOCK\n                              </span>\n                            ) : (\n                              'OUT OF STOCK'\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {/* Note about completing with replacement */}\n              {suggestions.some(s => s.inStock) && (\n                <div className=\"bg-blue-50 p-3 rounded-lg\">\n                  <p className=\"text-xs text-blue-900\">\n                    💡 <strong>Tip:</strong> When marking this task as complete in the Tasks tab, \n                    you can select one of these items as the replacement to automatically update inventory.\n                  </p>\n                </div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      ))}\n\n      {/* Summary */}\n      <div className=\"text-center text-sm text-gray-600 py-2\">\n        {tasksWithSuggestions.length} task{tasksWithSuggestions.length !== 1 ? 's' : ''} with suggestions\n      </div>\n    </div>\n  );\n};","import { useState, useEffect } from 'react';\nimport { Button } from '../ui/Button';\nimport type { InventoryItem, SupplyTask, AIInsight, AIInsightData } from '../../lib/inventory';\nimport { generateAIInsights, fetchAIInsights } from '../../lib/inventory';\n\ninterface AIInsightsPanelProps {\n  inventory: InventoryItem[];\n  tasks: SupplyTask[];\n}\n\nexport function AIInsightsPanel({ inventory, tasks }: AIInsightsPanelProps) {\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [insights, setInsights] = useState<AIInsight[]>([]);\n  const [isLoadingInsights, setIsLoadingInsights] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [aiNotConfigured, setAiNotConfigured] = useState(false);\n\n  // Load latest insights on mount\n  useEffect(() => {\n    loadInsights();\n  }, []);\n\n  async function loadInsights() {\n    setIsLoadingInsights(true);\n    setError(null);\n    try {\n      const result = await fetchAIInsights();\n      setInsights(result.insights);\n    } catch (err) {\n      console.error('Failed to load insights:', err);\n      setError(err instanceof Error ? err.message : 'Failed to load insights');\n    } finally {\n      setIsLoadingInsights(false);\n    }\n  }\n\n  async function handleGenerateInsights() {\n    setIsGenerating(true);\n    setError(null);\n    setAiNotConfigured(false);\n    \n    try {\n      const result = await generateAIInsights({\n        tasks: tasks.filter(t => t.status === 'pending'),\n        inventory,\n      });\n      \n      if (!result.ok) {\n        setAiNotConfigured(true);\n        setError(result.message);\n      } else {\n        // Wait a moment then reload insights\n        setTimeout(() => {\n          loadInsights();\n        }, 2000);\n      }\n    } catch (err) {\n      console.error('Failed to generate insights:', err);\n      setError(err instanceof Error ? err.message : 'Failed to generate insights');\n    } finally {\n      setIsGenerating(false);\n    }\n  }\n\n  function parseInsightData(insightJson: string): AIInsightData | null {\n    try {\n      return JSON.parse(insightJson) as AIInsightData;\n    } catch {\n      return null;\n    }\n  }\n\n  const latestInsight = insights.length > 0 ? insights[0] : null;\n  const parsedInsight = latestInsight ? parseInsightData(latestInsight.insight_json) : null;\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between gap-3 flex-wrap\">\n        <div>\n          <h2 className=\"text-xl font-bold text-gray-900\">AI Insights</h2>\n          <p className=\"text-sm text-gray-600 mt-1\">\n            Automated inventory analysis and recommendations\n          </p>\n        </div>\n        <Button\n          onClick={handleGenerateInsights}\n          disabled={isGenerating || inventory.length === 0}\n          className=\"min-h-[44px] whitespace-nowrap\"\n        >\n          {isGenerating ? (\n            <>\n              <span className=\"animate-spin mr-2\">⚙️</span>\n              Generating...\n            </>\n          ) : (\n            '🤖 Generate Insights'\n          )}\n        </Button>\n      </div>\n\n      {/* Error/Warning Messages */}\n      {error && (\n        <div\n          className={`p-4 rounded-lg ${\n            aiNotConfigured\n              ? 'bg-yellow-50 border border-yellow-200'\n              : 'bg-red-50 border border-red-200'\n          }`}\n        >\n          <p\n            className={`text-sm ${\n              aiNotConfigured ? 'text-yellow-800' : 'text-red-800'\n            }`}\n          >\n            {aiNotConfigured ? (\n              <>\n                <strong>⚠️ AI Not Configured:</strong> {error}\n                <br />\n                <span className=\"text-xs mt-1 block\">\n                  This is an optional feature. The system works fully without it.\n                </span>\n              </>\n            ) : (\n              <><strong>Error:</strong> {error}</>\n            )}\n          </p>\n        </div>\n      )}\n\n      {/* Loading State */}\n      {isLoadingInsights && (\n        <div className=\"text-center py-8\">\n          <div className=\"inline-block animate-spin text-4xl\">⚙️</div>\n          <p className=\"text-gray-600 mt-2\">Loading insights...</p>\n        </div>\n      )}\n\n      {/* Latest Insight Display */}\n      {!isLoadingInsights && latestInsight && parsedInsight && (\n        <div className=\"space-y-4\">\n          {/* Timestamp */}\n          <div className=\"text-sm text-gray-500\">\n            Generated: {new Date(latestInsight.created_at).toLocaleString()}\n            {latestInsight.model && (\n              <span className=\"ml-2\">• Model: {latestInsight.model.split('/').pop()}</span>\n            )}\n          </div>\n\n          {/* Summary */}\n          {parsedInsight.summary && (\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n              <h3 className=\"font-semibold text-blue-900 mb-2\">📊 Summary</h3>\n              <p className=\"text-blue-800 text-sm\">{parsedInsight.summary}</p>\n            </div>\n          )}\n\n          {/* Recurring Issues */}\n          {parsedInsight.recurringIssues && parsedInsight.recurringIssues.length > 0 && (\n            <div className=\"bg-orange-50 border border-orange-200 rounded-lg p-4\">\n              <h3 className=\"font-semibold text-orange-900 mb-2\">🔄 Recurring Issues</h3>\n              <ul className=\"space-y-1\">\n                {parsedInsight.recurringIssues.map((issue, idx) => (\n                  <li key={idx} className=\"text-orange-800 text-sm\">\n                    • {issue}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          {/* Reorder Suggestions */}\n          {parsedInsight.reorderSuggestions && parsedInsight.reorderSuggestions.length > 0 && (\n            <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n              <h3 className=\"font-semibold text-green-900 mb-2\">📦 Reorder Suggestions</h3>\n              <div className=\"space-y-3\">\n                {parsedInsight.reorderSuggestions.map((suggestion, idx) => (\n                  <div key={idx} className=\"bg-white rounded p-3 border border-green-100\">\n                    <div className=\"flex items-start justify-between gap-2\">\n                      <div className=\"flex-1\">\n                        <p className=\"font-medium text-green-900 text-sm\">{suggestion.item}</p>\n                        <p className=\"text-green-700 text-xs mt-1\">{suggestion.reason}</p>\n                      </div>\n                      <span\n                        className={`px-2 py-1 rounded text-xs font-medium whitespace-nowrap ${\n                          suggestion.urgency?.toLowerCase() === 'high'\n                            ? 'bg-red-100 text-red-800'\n                            : suggestion.urgency?.toLowerCase() === 'medium'\n                            ? 'bg-yellow-100 text-yellow-800'\n                            : 'bg-gray-100 text-gray-800'\n                        }`}\n                      >\n                        {suggestion.urgency || 'Normal'}\n                      </span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Anomalies */}\n          {parsedInsight.anomalies && parsedInsight.anomalies.length > 0 && (\n            <div className=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\n              <h3 className=\"font-semibold text-purple-900 mb-2\">🔍 Anomalies Detected</h3>\n              <ul className=\"space-y-1\">\n                {parsedInsight.anomalies.map((anomaly, idx) => (\n                  <li key={idx} className=\"text-purple-800 text-sm\">\n                    • {anomaly}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Empty State */}\n      {!isLoadingInsights && insights.length === 0 && !error && (\n        <div className=\"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n          <div className=\"text-6xl mb-4\">🤖</div>\n          <p className=\"text-gray-600 font-medium\">No insights generated yet</p>\n          <p className=\"text-gray-500 text-sm mt-2\">\n            Click \"Generate Insights\" to analyze your inventory\n          </p>\n        </div>\n      )}\n\n      {/* Insight History Count */}\n      {insights.length > 1 && (\n        <div className=\"text-xs text-gray-500 text-center pt-2 border-t border-gray-200\">\n          {insights.length} insights stored • Showing most recent\n        </div>\n      )}\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Package, ClipboardList, Lightbulb, Brain } from 'lucide-react';\nimport { SupplyListPanel } from './SupplyListPanel';\nimport { TasksPanel } from './TasksPanel';\nimport { SuggestionsPanel } from './SuggestionsPanel';\nimport { AIInsightsPanel } from './AIInsightsPanel';\nimport { useInventory } from '../../hooks/useInventory';\nimport { useSupplyTasks } from '../../hooks/useSupplyTasks';\n\ntype InventorySubTab = 'list' | 'tasks' | 'suggestions' | 'ai-insights';\n\nexport const InventoryTab: React.FC = () => {\n  const [activeSubTab, setActiveSubTab] = useState<InventorySubTab>('list');\n  const { items, isLoading, error, refresh, lastFetchedAt } = useInventory();\n  const { tasks } = useSupplyTasks();\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header with last updated info */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900\">Inventory Management</h2>\n          <p className=\"text-sm text-gray-600 mt-1\">\n            Manage supply inventory, tasks, and suggested replacements\n          </p>\n        </div>\n        {lastFetchedAt && !isLoading && (\n          <div className=\"text-sm text-gray-500\">\n            Last updated: {new Date(lastFetchedAt).toLocaleString()}\n          </div>\n        )}\n      </div>\n\n      {/* Sub-tabs */}\n      <div className=\"flex gap-2 border-b border-gray-200 overflow-x-auto\">\n        <button\n          onClick={() => setActiveSubTab('list')}\n          className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 whitespace-nowrap ${\n            activeSubTab === 'list'\n              ? 'text-blue-600 border-b-2 border-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          <Package className=\"w-5 h-5\" />\n          Inventory List\n        </button>\n        <button\n          onClick={() => setActiveSubTab('tasks')}\n          className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 whitespace-nowrap ${\n            activeSubTab === 'tasks'\n              ? 'text-blue-600 border-b-2 border-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          <ClipboardList className=\"w-5 h-5\" />\n          Supply Tasks\n        </button>\n        <button\n          onClick={() => setActiveSubTab('suggestions')}\n          className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 whitespace-nowrap ${\n            activeSubTab === 'suggestions'\n              ? 'text-blue-600 border-b-2 border-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          <Lightbulb className=\"w-5 h-5\" />\n          Suggestions\n        </button>\n        <button\n          onClick={() => setActiveSubTab('ai-insights')}\n          className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 whitespace-nowrap ${\n            activeSubTab === 'ai-insights'\n              ? 'text-blue-600 border-b-2 border-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          <Brain className=\"w-5 h-5\" />\n          AI Insights\n        </button>\n      </div>\n\n      {/* Panel Content */}\n      <div className=\"mt-6\">\n        {activeSubTab === 'list' && (\n          <SupplyListPanel\n            items={items}\n            isLoading={isLoading}\n            error={error}\n            onRefresh={refresh}\n          />\n        )}\n        {activeSubTab === 'tasks' && (\n          <TasksPanel />\n        )}\n        {activeSubTab === 'suggestions' && (\n          <SuggestionsPanel />\n        )}\n        {activeSubTab === 'ai-insights' && (\n          <AIInsightsPanel inventory={items} tasks={tasks} />\n        )}\n      </div>\n    </div>\n  );\n};","import { useState, useEffect, useCallback } from 'react';\nimport { \n  fetchVehicleChangeRequests, \n  submitVehicleChangeRequest,\n  reviewVehicleChangeRequest,\n  type VehicleChangeRequest \n} from '../lib/inventory';\n\ninterface UseVehicleChangeRequestsReturn {\n  requests: VehicleChangeRequest[];\n  loading: boolean;\n  error: string | null;\n  pendingCount: number;\n  totalCount: number;\n  refetch: () => Promise<void>;\n  submitRequest: (request: {\n    apparatus: string;\n    oldVehicleNo: string | null;\n    newVehicleNo: string;\n    reportedBy: string;\n    notes?: string;\n  }) => Promise<void>;\n  approveRequest: (requestId: string, reviewedBy: string, notes?: string) => Promise<void>;\n  rejectRequest: (requestId: string, reviewedBy: string, notes?: string) => Promise<void>;\n}\n\ninterface UseVehicleChangeRequestsOptions {\n  status?: 'pending' | 'approved' | 'rejected';\n  pollInterval?: number; // Poll for updates (ms), 0 to disable\n  autoFetch?: boolean;   // Fetch on mount\n}\n\n/**\n * Hook to manage vehicle change requests\n * Provides functions to submit, approve, reject, and monitor change requests\n */\nexport function useVehicleChangeRequests(\n  options: UseVehicleChangeRequestsOptions = {}\n): UseVehicleChangeRequestsReturn {\n  const { \n    status, \n    pollInterval = 30000, // Default 30 seconds\n    autoFetch = true \n  } = options;\n\n  const [requests, setRequests] = useState<VehicleChangeRequest[]>([]);\n  const [loading, setLoading] = useState(autoFetch);\n  const [error, setError] = useState<string | null>(null);\n  const [pendingCount, setPendingCount] = useState(0);\n  const [totalCount, setTotalCount] = useState(0);\n\n  const loadRequests = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const data = await fetchVehicleChangeRequests(status);\n      setRequests(data.requests);\n      setPendingCount(data.pending);\n      setTotalCount(data.total);\n    } catch (err) {\n      console.error('Error fetching vehicle change requests:', err);\n      setError(err instanceof Error ? err.message : 'Failed to fetch vehicle change requests');\n    } finally {\n      setLoading(false);\n    }\n  }, [status]);\n\n  const submitRequest = async (request: {\n    apparatus: string;\n    oldVehicleNo: string | null;\n    newVehicleNo: string;\n    reportedBy: string;\n    notes?: string;\n  }) => {\n    try {\n      await submitVehicleChangeRequest(request);\n      // Refetch to get updated list\n      await loadRequests();\n    } catch (err) {\n      console.error('Error submitting vehicle change request:', err);\n      throw err;\n    }\n  };\n\n  const approveRequest = async (requestId: string, reviewedBy: string, notes?: string) => {\n    try {\n      await reviewVehicleChangeRequest(requestId, 'approve', reviewedBy, notes);\n      // Refetch to get updated list\n      await loadRequests();\n    } catch (err) {\n      console.error('Error approving vehicle change request:', err);\n      throw err;\n    }\n  };\n\n  const rejectRequest = async (requestId: string, reviewedBy: string, notes?: string) => {\n    try {\n      await reviewVehicleChangeRequest(requestId, 'reject', reviewedBy, notes);\n      // Refetch to get updated list\n      await loadRequests();\n    } catch (err) {\n      console.error('Error rejecting vehicle change request:', err);\n      throw err;\n    }\n  };\n\n  // Initial fetch\n  useEffect(() => {\n    if (autoFetch) {\n      loadRequests();\n    }\n  }, [loadRequests, autoFetch]);\n\n  // Polling for updates (if enabled)\n  useEffect(() => {\n    if (pollInterval > 0) {\n      const interval = setInterval(loadRequests, pollInterval);\n      return () => clearInterval(interval);\n    }\n  }, [pollInterval, loadRequests]);\n\n  return {\n    requests,\n    loading,\n    error,\n    pendingCount,\n    totalCount,\n    refetch: loadRequests,\n    submitRequest,\n    approveRequest,\n    rejectRequest,\n  };\n}\n","import React, { useState } from 'react';\nimport { Truck, CheckCircle, XCircle, Clock, AlertTriangle, RefreshCw } from 'lucide-react';\nimport { Button } from './ui/Button';\nimport { Card, CardHeader, CardContent } from './ui/Card';\nimport { useApparatusStatus } from '../hooks/useApparatusStatus';\nimport { useVehicleChangeRequests } from '../hooks/useVehicleChangeRequests';\n\nexport const ApparatusStatusTab: React.FC = () => {\n  const { statuses, allVehicles, loading: statusLoading, error: statusError, refetch: refetchStatuses } = useApparatusStatus();\n  const { \n    requests, \n    loading: requestsLoading, \n    pendingCount,\n    approveRequest,\n    rejectRequest,\n    refetch: refetchRequests \n  } = useVehicleChangeRequests({ pollInterval: 30000 });\n\n  const [actioningRequestId, setActioningRequestId] = useState<string | null>(null);\n  const [showRejectModal, setShowRejectModal] = useState(false);\n  const [rejectId, setRejectId] = useState<string | null>(null);\n  const [rejectNotes, setRejectNotes] = useState('');\n\n  const handleApprove = async (requestId: string) => {\n    if (!confirm('Approve this vehicle change? This will update the Google Sheet.')) {\n      return;\n    }\n\n    setActioningRequestId(requestId);\n    try {\n      await approveRequest(requestId, 'Admin', 'Approved by admin dashboard');\n      alert('Vehicle change approved and sheet updated!');\n      await refetchStatuses(); // Refresh apparatus statuses\n    } catch (error) {\n      console.error('Error approving request:', error);\n      alert('Failed to approve request. Please try again.');\n    } finally {\n      setActioningRequestId(null);\n    }\n  };\n\n  const handleReject = async () => {\n    if (!rejectId) return;\n\n    setActioningRequestId(rejectId);\n    try {\n      await rejectRequest(rejectId, 'Admin', rejectNotes || 'Rejected by admin');\n      alert('Vehicle change request rejected.');\n      setShowRejectModal(false);\n      setRejectId(null);\n      setRejectNotes('');\n    } catch (error) {\n      console.error('Error rejecting request:', error);\n      alert('Failed to reject request. Please try again.');\n    } finally {\n      setActioningRequestId(null);\n    }\n  };\n\n  const openRejectModal = (requestId: string) => {\n    setRejectId(requestId);\n    setShowRejectModal(true);\n  };\n\n  if (statusLoading || requestsLoading) {\n    return (\n      <div className=\"flex items-center justify-center p-12\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4\" />\n          <p className=\"text-gray-600 font-semibold\">Loading apparatus status...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (statusError) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"bg-red-50 border-2 border-red-300 rounded-xl p-6 text-center\">\n          <AlertTriangle className=\"w-12 h-12 text-red-600 mx-auto mb-3\" />\n          <h3 className=\"text-lg font-bold text-red-900 mb-2\">Error Loading Apparatus Status</h3>\n          <p className=\"text-red-700 mb-4\">{statusError}</p>\n          <Button onClick={refetchStatuses} variant=\"secondary\">\n            <RefreshCw className=\"w-4 h-4 mr-2\" />\n            Retry\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  // Helper to get the assigned unit for a vehicle from statuses\n  const getAssignedUnit = (vehicleNo: string): string | null => {\n    const status = statuses.find(s => s.vehicleNo === vehicleNo);\n    return status?.unit || null;\n  };\n\n  // Determine card styling based on status\n  const getVehicleCardClass = (status: string): string => {\n    const lowerStatus = status.toLowerCase();\n    if (lowerStatus.includes('out of service')) {\n      return 'border-2 border-red-500 bg-red-50 hover:border-red-600';\n    }\n    return 'border-2 border-gray-300 bg-white hover:border-blue-400';\n  };\n\n  const getStatusBadgeClass = (status: string): string => {\n    const lowerStatus = status.toLowerCase();\n    if (lowerStatus.includes('out of service')) {\n      return 'bg-red-600 text-white';\n    }\n    if (lowerStatus.includes('in service')) {\n      return 'bg-green-600 text-white';\n    }\n    return 'bg-gray-600 text-white';\n  };\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900\">Fleet Status</h2>\n          <p className=\"text-gray-600 mt-1\">All vehicles and current assignments</p>\n        </div>\n        <Button onClick={() => { refetchStatuses(); refetchRequests(); }} variant=\"secondary\">\n          <RefreshCw className=\"w-4 h-4 mr-2\" />\n          Refresh\n        </Button>\n      </div>\n\n      {/* Pending Change Requests Alert */}\n      {pendingCount > 0 && (\n        <div className=\"bg-amber-50 border-2 border-amber-400 rounded-xl p-4\">\n          <div className=\"flex items-start gap-3\">\n            <Clock className=\"w-6 h-6 text-amber-700 flex-shrink-0 mt-0.5\" />\n            <div>\n              <h3 className=\"font-bold text-amber-900 mb-1\">\n                {pendingCount} Pending Vehicle Change Request{pendingCount !== 1 ? 's' : ''}\n              </h3>\n              <p className=\"text-sm text-amber-800\">\n                Review and approve/reject vehicle changes reported by field personnel below.\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* All Vehicles Display */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <Truck className=\"w-6 h-6 text-blue-700\" />\n            <h3 className=\"text-xl font-bold text-gray-900\">All Vehicles</h3>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {allVehicles.map((vehicle) => {\n              const assignedUnit = getAssignedUnit(vehicle.vehicleNo);\n              const isOutOfService = vehicle.status.toLowerCase().includes('out of service');\n              \n              return (\n                <div\n                  key={vehicle.vehicleNo}\n                  className={`${getVehicleCardClass(vehicle.status)} rounded-lg p-4 transition-colors`}\n                >\n                  <div className=\"flex items-start justify-between mb-3\">\n                    <div>\n                      <h4 className=\"text-3xl font-bold text-blue-700\">#{vehicle.vehicleNo}</h4>\n                      {assignedUnit && (\n                        <p className=\"text-lg font-semibold text-gray-900 mt-1\">{assignedUnit}</p>\n                      )}\n                      {!assignedUnit && vehicle.designation && (\n                        <p className=\"text-sm text-gray-600 mt-1\">{vehicle.designation}</p>\n                      )}\n                    </div>\n                    <span className={`px-3 py-1 text-xs font-bold rounded ${getStatusBadgeClass(vehicle.status)}`}>\n                      {vehicle.status}\n                    </span>\n                  </div>\n                  \n                  <div className=\"space-y-1 text-sm\">\n                    {vehicle.assignment && (\n                      <p className=\"text-gray-700\">\n                        <span className=\"font-semibold\">Assignment:</span> {vehicle.assignment}\n                      </p>\n                    )}\n                    {vehicle.currentLocation && (\n                      <p className=\"text-gray-700\">\n                        <span className=\"font-semibold\">Location:</span> {vehicle.currentLocation}\n                      </p>\n                    )}\n                    {vehicle.notes && (\n                      <p className={`text-xs italic mt-2 ${isOutOfService ? 'text-red-700 font-semibold' : 'text-gray-500'}`}>\n                        {vehicle.notes}\n                      </p>\n                    )}\n                  </div>\n                  \n                  {!assignedUnit && !vehicle.designation && (\n                    <div className=\"mt-2 pt-2 border-t border-gray-300\">\n                      <span className=\"text-xs font-semibold text-gray-500 uppercase\">Reserve</span>\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n          {allVehicles.length === 0 && (\n            <p className=\"text-center text-gray-500 py-8\">No vehicle data available</p>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Vehicle Change Requests */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <Clock className=\"w-6 h-6 text-orange-700\" />\n            <h3 className=\"text-xl font-bold text-gray-900\">Vehicle Change Requests</h3>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {requests\n              .filter(req => req.status === 'pending')\n              .map((request) => (\n                <div\n                  key={request.id}\n                  className=\"border-2 border-orange-300 rounded-lg p-4 bg-orange-50\"\n                >\n                  <div className=\"flex items-start justify-between gap-4\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <h4 className=\"font-bold text-gray-900 text-lg\">{request.apparatus}</h4>\n                        <span className=\"px-2 py-1 text-xs font-bold bg-orange-200 text-orange-900 rounded\">\n                          PENDING\n                        </span>\n                      </div>\n                      <div className=\"space-y-1 text-sm\">\n                        <p className=\"text-gray-700\">\n                          <span className=\"font-semibold\">Old Vehicle:</span> #{request.oldVehicleNo || 'None'}\n                          {' → '}\n                          <span className=\"font-semibold\">New Vehicle:</span> #{request.newVehicleNo}\n                        </p>\n                        <p className=\"text-gray-600\">\n                          <span className=\"font-semibold\">Reported by:</span> {request.reportedBy}\n                        </p>\n                        <p className=\"text-gray-600\">\n                          <span className=\"font-semibold\">Date:</span>{' '}\n                          {new Date(request.reportedAt).toLocaleString()}\n                        </p>\n                        {request.notes && (\n                          <p className=\"text-gray-500 italic mt-2\">{request.notes}</p>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"flex flex-col gap-2\">\n                      <Button\n                        onClick={() => handleApprove(request.id)}\n                        disabled={actioningRequestId === request.id}\n                        className=\"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white\"\n                      >\n                        <CheckCircle className=\"w-4 h-4\" />\n                        Approve\n                      </Button>\n                      <Button\n                        onClick={() => openRejectModal(request.id)}\n                        disabled={actioningRequestId === request.id}\n                        variant=\"secondary\"\n                        className=\"flex items-center gap-2 px-4 py-2 bg-red-100 hover:bg-red-200 text-red-900\"\n                      >\n                        <XCircle className=\"w-4 h-4\" />\n                        Reject\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            {requests.filter(req => req.status === 'pending').length === 0 && (\n              <p className=\"text-center text-gray-500 py-8\">No pending vehicle change requests</p>\n            )}\n          </div>\n\n          {/* Recently Processed Requests */}\n          {requests.filter(req => req.status !== 'pending').length > 0 && (\n            <div className=\"mt-8 pt-6 border-t-2 border-gray-200\">\n              <h4 className=\"font-bold text-gray-700 mb-4\">Recently Processed</h4>\n              <div className=\"space-y-3\">\n                {requests\n                  .filter(req => req.status !== 'pending')\n                  .slice(0, 5)\n                  .map((request) => (\n                    <div\n                      key={request.id}\n                      className=\"border border-gray-300 rounded-lg p-3 bg-gray-50 text-sm\"\n                    >\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            <span className=\"font-bold text-gray-900\">{request.apparatus}</span>\n                            <span\n                              className={`px-2 py-0.5 text-xs font-bold rounded ${\n                                request.status === 'approved'\n                                  ? 'bg-green-200 text-green-900'\n                                  : 'bg-red-200 text-red-900'\n                              }`}\n                            >\n                              {request.status.toUpperCase()}\n                            </span>\n                          </div>\n                          <p className=\"text-gray-600 text-xs\">\n                            #{request.oldVehicleNo || 'None'} → #{request.newVehicleNo} • Reported by {request.reportedBy}\n                          </p>\n                          {request.reviewedBy && (\n                            <p className=\"text-gray-500 text-xs mt-1\">\n                              Reviewed by {request.reviewedBy} on{' '}\n                              {new Date(request.reviewedAt!).toLocaleString()}\n                            </p>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Reject Modal */}\n      {showRejectModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl p-6 max-w-md w-full\">\n            <h3 className=\"text-xl font-bold text-gray-900 mb-4\">Reject Vehicle Change Request</h3>\n            <p className=\"text-gray-700 mb-4\">\n              Provide a reason for rejecting this vehicle change request:\n            </p>\n            <textarea\n              value={rejectNotes}\n              onChange={(e) => setRejectNotes(e.target.value)}\n              placeholder=\"Enter reason for rejection...\"\n              className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none mb-4\"\n              rows={4}\n            />\n            <div className=\"flex gap-3\">\n              <Button\n                onClick={() => {\n                  setShowRejectModal(false);\n                  setRejectId(null);\n                  setRejectNotes('');\n                }}\n                variant=\"secondary\"\n                className=\"flex-1\"\n              >\n                Cancel\n              </Button>\n              <Button\n                onClick={handleReject}\n                disabled={actioningRequestId === rejectId}\n                className=\"flex-1 bg-red-600 hover:bg-red-700 text-white\"\n              >\n                Confirm Reject\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Truck, AlertCircle, CheckCircle, ArrowLeft, Lock, Calendar, TrendingUp, AlertTriangle, Package, Mail, Brain, Warehouse, X as CloseIcon, Image as ImageIcon, Check, Menu, X, Home } from 'lucide-react';\nimport { Button } from './ui/Button';\nimport { Card, CardContent } from './ui/Card';\nimport { Modal } from './ui/Modal';\nimport { DashboardHome } from './DashboardHome';\nimport { AIFleetInsights } from './AIFleetInsights';\nimport { InventoryTab } from './inventory/InventoryTab';\nimport { ApparatusStatusTab } from './ApparatusStatusTab';\nimport { githubService } from '../lib/github';\nimport { formatDateTime } from '../lib/utils';\nimport { APPARATUS_LIST } from '../lib/config';\nimport type { Defect, EmailConfig, GitHubIssue } from '../types';\n\ntype TabType = 'home' | 'fleet' | 'activity' | 'supplies' | 'inventory' | 'apparatus-status' | 'notifications' | 'insights';\n\ninterface DailySubmissions {\n  today: string[];\n  totals: Map<string, number>;\n  lastSubmission: Map<string, string>;\n}\n\ninterface LowStockItem {\n  item: string;\n  compartment: string;\n  apparatus: string[];\n  occurrences: number;\n}\n\nexport const AdminDashboard: React.FC = () => {\n  const navigate = useNavigate();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [passwordInput, setPasswordInput] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const [activeTab, setActiveTab] = useState<TabType>('home');\n  const [fleetStatus, setFleetStatus] = useState<Map<string, number>>(new Map());\n  const [defects, setDefects] = useState<Defect[]>([]);\n  const [dailySubmissions, setDailySubmissions] = useState<DailySubmissions | null>(null);\n  const [lowStockItems, setLowStockItems] = useState<LowStockItem[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  \n  // Inspection logs state\n  const [inspectionLogs, setInspectionLogs] = useState<GitHubIssue[]>([]);\n  const [selectedApparatus, setSelectedApparatus] = useState<string | null>(null);\n  const [isLoadingLogs, setIsLoadingLogs] = useState(false);\n\n  // Email notification state\n  const [emailConfig, setEmailConfig] = useState<EmailConfig | null>(null);\n  const [isLoadingConfig, setIsLoadingConfig] = useState(false);\n  const [isSavingConfig, setIsSavingConfig] = useState(false);\n  const [configError, setConfigError] = useState<string | null>(null);\n\n  // AI Insights state\n  const [criticalAlertsCount, setCriticalAlertsCount] = useState(0);\n\n  // Photo lightbox state\n  const [lightboxPhoto, setLightboxPhoto] = useState<string | null>(null);\n\n  // Defect resolution state\n  const [defectToResolve, setDefectToResolve] = useState<Defect | null>(null);\n  const [resolutionNote, setResolutionNote] = useState('');\n  const [isResolvingDefect, setIsResolvingDefect] = useState(false);\n\n  // Defect filter/search state\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filterApparatus, setFilterApparatus] = useState<string | null>(null);\n\n  // Fleet Status sub-tab state (for toggling between Defects and History)\n  const [fleetSubTab, setFleetSubTab] = useState<'defects' | 'history'>('defects');\n\n  // Mobile menu state\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n\n  const loadApparatusLogs = async (apparatus: string) => {\n    try {\n      setIsLoadingLogs(true);\n      setSelectedApparatus(apparatus);\n      setActiveTab('activity'); // Switch to activity tab\n      const logs = await githubService.getInspectionLogs(30); // Last 30 days\n      // Filter logs for this apparatus\n      const filteredLogs = logs.filter(log => log.title.includes(`[${apparatus}]`));\n      setInspectionLogs(filteredLogs);\n    } catch (error) {\n      console.error('Error loading apparatus logs:', error);\n      alert('Failed to load inspection history');\n    } finally {\n      setIsLoadingLogs(false);\n    }\n  };\n\n  const loadAllInspectionLogs = async () => {\n    try {\n      setIsLoadingLogs(true);\n      setSelectedApparatus(null);\n      const logs = await githubService.getInspectionLogs(30); // Last 30 days\n      setInspectionLogs(logs);\n    } catch (error) {\n      console.error('Error loading all inspection logs:', error);\n      // Don't alert, just log - this is not critical\n    } finally {\n      setIsLoadingLogs(false);\n    }\n  };\n\n  const loadDashboardData = async () => {\n    try {\n      setIsLoading(true);\n      \n      // Fetch all defects\n      const allDefects = await githubService.getAllDefects();\n      \n      // Compute fleet status from defects\n      const status = githubService.computeFleetStatus(allDefects);\n      \n      setFleetStatus(status);\n      setDefects(allDefects);\n      \n      // Fetch daily submissions and low stock items\n      try {\n        const submissions = await githubService.getDailySubmissions();\n        setDailySubmissions(submissions);\n      } catch (err) {\n        console.error('Error fetching daily submissions:', err);\n      }\n      \n      try {\n        const lowStock = await githubService.analyzeLowStockItems();\n        setLowStockItems(lowStock);\n      } catch (err) {\n        console.error('Error analyzing low stock:', err);\n      }\n    } catch (error) {\n      console.error('Error loading dashboard data:', error);\n      if (error instanceof Error && error.message.includes('Unauthorized')) {\n        setIsAuthenticated(false);\n        githubService.clearAdminPassword();\n        localStorage.removeItem('adminPassword');\n      }\n      throw error;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handlePasswordSubmit = async () => {\n    if (!passwordInput.trim()) {\n      setPasswordError('Please enter a password');\n      return;\n    }\n\n    // Set the password and try to load data\n    githubService.setAdminPassword(passwordInput);\n    // Also store in localStorage for inventory API calls\n    localStorage.setItem('adminPassword', passwordInput);\n    \n    try {\n      await loadDashboardData();\n      setIsAuthenticated(true);\n      setPasswordError('');\n    } catch (err) {\n      console.error('Authentication failed:', err);\n      if (err instanceof Error && err.message.includes('Unauthorized')) {\n        setPasswordError('Incorrect password. Please try again.');\n      } else if (err instanceof Error && err.message.includes('Failed to fetch')) {\n        setPasswordError('Network error. Please check your connection and try again.');\n      } else {\n        setPasswordError('Authentication failed. Please try again.');\n      }\n      githubService.clearAdminPassword();\n      localStorage.removeItem('adminPassword');\n    }\n  };\n\n  const loadEmailConfig = async () => {\n    if (!passwordInput) return;\n    \n    setIsLoadingConfig(true);\n    setConfigError(null);\n    \n    try {\n      const config = await githubService.getEmailConfig(passwordInput);\n      setEmailConfig(config);\n    } catch (error) {\n      setConfigError((error as Error).message || 'Failed to load email configuration');\n    } finally {\n      setIsLoadingConfig(false);\n    }\n  };\n\n  const saveEmailConfig = async (updates: Partial<EmailConfig>) => {\n    if (!passwordInput || !emailConfig) return;\n    \n    setIsSavingConfig(true);\n    setConfigError(null);\n    \n    try {\n      const result = await githubService.updateEmailConfig(passwordInput, updates);\n      setEmailConfig(result.config);\n      alert('Email configuration updated successfully');\n    } catch (error) {\n      setConfigError((error as Error).message || 'Failed to update email configuration');\n    } finally {\n      setIsSavingConfig(false);\n    }\n  };\n\n  const sendTestDigest = async () => {\n    if (!passwordInput) return;\n    \n    if (!confirm('Send a test daily digest email now?')) return;\n    \n    try {\n      await githubService.sendManualDigest(passwordInput);\n      alert('Test digest sent successfully! Check your email.');\n    } catch (error) {\n      alert('Failed to send test digest: ' + ((error as Error).message || 'Unknown error'));\n    }\n  };\n\n  const handleResolveDefect = async () => {\n    if (!defectToResolve || !defectToResolve.issueNumber) return;\n\n    setIsResolvingDefect(true);\n    try {\n      // Call the resolve API\n      await githubService.resolveDefect(\n        defectToResolve.issueNumber,\n        resolutionNote || 'Defect resolved via Admin Dashboard',\n        'Admin'\n      );\n\n      // Update UI optimistically - remove defect from list\n      setDefects(prevDefects => \n        prevDefects.filter(d => d.issueNumber !== defectToResolve.issueNumber)\n      );\n\n      // Update fleet status\n      setFleetStatus(prevStatus => {\n        const newStatus = new Map(prevStatus);\n        const currentCount = newStatus.get(defectToResolve.apparatus) || 0;\n        newStatus.set(defectToResolve.apparatus, Math.max(0, currentCount - 1));\n        return newStatus;\n      });\n\n      // Close modal and reset\n      setDefectToResolve(null);\n      setResolutionNote('');\n      \n      // Optional: Show success message\n      alert('Defect successfully resolved!');\n    } catch (error) {\n      console.error('Error resolving defect:', error);\n      alert(`Failed to resolve defect: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    } finally {\n      setIsResolvingDefect(false);\n    }\n  };\n\n  // Auto-refresh data every 2 minutes when authenticated\n  useEffect(() => {\n    if (!isAuthenticated) return;\n    \n    const interval = setInterval(() => {\n      loadDashboardData().catch(console.error);\n    }, 120000); // 2 minutes\n    \n    return () => clearInterval(interval);\n  }, [isAuthenticated]);\n\n  // Load inspection logs when switching to activity tab\n  useEffect(() => {\n    if (isAuthenticated && activeTab === 'activity' && inspectionLogs.length === 0 && !isLoadingLogs) {\n      loadAllInspectionLogs();\n    }\n  }, [isAuthenticated, activeTab]);\n\n  // Show password prompt if not authenticated\n  if (!isAuthenticated) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100 flex items-center justify-center p-4\">\n        <Card className=\"max-w-md w-full\">\n          <CardContent className=\"py-8\">\n            <div className=\"text-center mb-8\">\n              <div className=\"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4\">\n                <Lock className=\"w-8 h-8 text-white\" />\n              </div>\n              <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\n                Admin Access Required\n              </h1>\n              <p className=\"text-gray-600\">Enter the admin password to continue</p>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label htmlFor=\"password\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  Password\n                </label>\n                <input\n                  id=\"password\"\n                  type=\"password\"\n                  value={passwordInput}\n                  onChange={(e) => {\n                    setPasswordInput(e.target.value);\n                    setPasswordError('');\n                  }}\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter') {\n                      handlePasswordSubmit();\n                    }\n                  }}\n                  placeholder=\"Enter admin password\"\n                  className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all\"\n                  autoFocus\n                />\n                {passwordError && (\n                  <p className=\"text-red-600 text-sm mt-2\">{passwordError}</p>\n                )}\n              </div>\n\n              <Button\n                onClick={handlePasswordSubmit}\n                className=\"w-full\"\n                size=\"lg\"\n                >\n                Access Admin Dashboard\n              </Button>\n\n              <div className=\"text-center mt-4\">\n                <button\n                  onClick={() => navigate('/')}\n                  className=\"text-sm text-gray-600 hover:text-gray-900 font-medium\"\n                  >\n                  ← Back to Login\n                </button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const apparatusList: string[] = APPARATUS_LIST;\n  const today = new Date().toLocaleDateString('en-US');\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header - Responsive and Modern */}\n      <div className=\"bg-gradient-to-r from-blue-900 via-blue-800 to-blue-900 border-b border-blue-700 shadow-xl sticky top-0 z-50\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center gap-3 min-w-0\">\n              <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-white rounded-xl flex items-center justify-center shadow-lg flex-shrink-0\">\n                <img \n                  src=\"/mbfd-checkout-system/mbfd_logo.jpg\" \n                  alt=\"MBFD\" \n                  className=\"w-full h-full object-contain rounded-lg\"\n                />\n              </div>\n              <div className=\"min-w-0\">\n                <h1 className=\"text-xl sm:text-2xl lg:text-3xl font-bold text-white truncate\">Admin Dashboard</h1>\n                <p className=\"text-xs sm:text-sm text-blue-200 mt-0.5 hidden sm:block\">MBFD Fleet Management System</p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2 flex-shrink-0\">\n              <Button\n                onClick={() => navigate('/')}\n                variant=\"secondary\"\n                className=\"hidden sm:flex items-center gap-2 bg-white/10 hover:bg-white/20 text-white border-white/20\"\n                size=\"sm\"\n              >\n                <ArrowLeft className=\"w-4 h-4\" />\n                <span className=\"hidden lg:inline\">Back to Login</span>\n              </Button>\n              <button\n                onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n                className=\"sm:hidden p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors\"\n                aria-label=\"Toggle menu\"\n              >\n                {isMobileMenuOpen ? <X className=\"w-6 h-6 text-white\" /> : <Menu className=\"w-6 h-6 text-white\" />}\n              </button>\n            </div>\n          </div>\n\n          {/* Desktop Tabs - Horizontal scrollable on tablet */}\n          <div className={`${isMobileMenuOpen ? 'block' : 'hidden sm:block'}`}>\n            <div className=\"flex gap-1 border-b border-blue-700 overflow-x-auto pb-px scrollbar-hide\">\n              <TabButton\n                icon={Home}\n                label=\"Home\"\n                isActive={activeTab === 'home'}\n                onClick={() => {\n                  setActiveTab('home');\n                  setIsMobileMenuOpen(false);\n                }}\n              />\n              <TabButton\n                icon={AlertCircle}\n                label=\"Inspection Issues\"\n                badge={defects.length}\n                isActive={activeTab === 'fleet'}\n                onClick={() => {\n                  setActiveTab('fleet');\n                  setIsMobileMenuOpen(false);\n                }}\n              />\n              <TabButton\n                icon={Calendar}\n                label=\"Daily Activity\"\n                isActive={activeTab === 'activity'}\n                onClick={() => {\n                  setActiveTab('activity');\n                  setIsMobileMenuOpen(false);\n                }}\n              />\n              <TabButton\n                icon={Package}\n                label=\"Supply Alerts\"\n                badge={lowStockItems.length}\n                isActive={activeTab === 'supplies'}\n                onClick={() => {\n                  setActiveTab('supplies');\n                  setIsMobileMenuOpen(false);\n                }}\n              />\n              <TabButton\n                icon={Warehouse}\n                label=\"Inventory\"\n                isActive={activeTab === 'inventory'}\n                onClick={() => {\n                  setActiveTab('inventory');\n                  setIsMobileMenuOpen(false);\n                }}\n              />\n              <TabButton\n                icon={Truck}\n                label=\"Apparatus Status\"\n                isActive={activeTab === 'apparatus-status'}\n                onClick={() => {\n                  setActiveTab('apparatus-status');\n                  setIsMobileMenuOpen(false);\n                }}\n              />\n              <TabButton\n                icon={Mail}\n                label=\"Notifications\"\n                isActive={activeTab === 'notifications'}\n                onClick={() => {\n                  setActiveTab('notifications');\n                  if (!emailConfig) loadEmailConfig();\n                  setIsMobileMenuOpen(false);\n                }}\n              />\n              <TabButton\n                icon={Brain}\n                label=\"AI Insights\"\n                badge={criticalAlertsCount}\n                badgeColor=\"red\"\n                isActive={activeTab === 'insights'}\n                onClick={() => {\n                  setActiveTab('insights');\n                  setCriticalAlertsCount(0);\n                  setIsMobileMenuOpen(false);\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8\">\n        {/* Dashboard Home Tab */}\n        {activeTab === 'home' && (\n          <DashboardHome adminPassword={passwordInput} />\n        )}\n\n        {/* Inspection Issues Tab */}\n        {activeTab === 'fleet' && (\n          <>\n            {/* Apparatus Overview Grid */}\n            <div className=\"mb-6\">\n              <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Equipment & Vehicle Issues by Apparatus / Unit</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4\">\n                {apparatusList.map(apparatus => {\n                  const defectCount = fleetStatus.get(apparatus) || 0;\n                  const isOk = defectCount === 0;\n\n                  return (\n                    <div \n                      key={apparatus}\n                      className=\"cursor-pointer hover:scale-105 transition-transform\"\n                      onClick={() => loadApparatusLogs(apparatus)}\n                    >\n                      <Card className={isOk ? 'border-green-500' : 'border-red-500'}>\n                        <CardContent className=\"p-6\">\n                          <div className=\"flex items-center justify-between mb-3\">\n                            <Truck className={`w-8 h-8 ${isOk ? 'text-green-500' : 'text-red-500'}`} />\n                            {isOk ? (\n                              <CheckCircle className=\"w-6 h-6 text-green-500\" />\n                            ) : (\n                              <AlertCircle className=\"w-6 h-6 text-red-500\" />\n                            )}\n                          </div>\n                          <h3 className=\"font-bold text-gray-900 mb-1\">{apparatus}</h3>\n                          <p className={`text-sm font-semibold ${isOk ? 'text-green-600' : 'text-red-600'}`}>\n                            {isOk ? '✓ No Issues' : `${defectCount} Issue${defectCount !== 1 ? 's' : ''}`}\n                          </p>\n                          <p className=\"text-xs text-gray-500 mt-2\">Click to view history</p>\n                        </CardContent>\n                      </Card>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n\n            {/* Sub-tab Navigation for Defects and History */}\n            <div className=\"border-b border-gray-200 mb-6\">\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => setFleetSubTab('defects')}\n                  className={`\n                    px-6 py-3 font-semibold transition-all flex items-center gap-2 ${\n                      fleetSubTab === 'defects'\n                    ? 'text-blue-600 border-b-2 border-blue-600'\n                    : 'text-gray-600 hover:text-gray-900'\n                    }`}\n                >\n                  <AlertCircle className=\"w-5 h-5\" />\n                  Open Issues ({defects.length})\n                </button>\n                <button\n                  onClick={() => {\n                    setFleetSubTab('history');\n                    if (inspectionLogs.length === 0 && !isLoadingLogs) {\n                      loadAllInspectionLogs();\n                    }\n                  }}\n                  className={`\n                    px-6 py-3 font-semibold transition-all flex items-center gap-2 ${\n                      fleetSubTab === 'history'\n                    ? 'text-blue-600 border-b-2 border-blue-600'\n                    : 'text-gray-600 hover:text-gray-900'\n                    }`}\n                >\n                  <Calendar className=\"w-5 h-5\" />\n                  Inspection History (Last 30 Days)\n                  {selectedApparatus && (\n                    <span className=\"text-sm text-blue-600\">- {selectedApparatus}</span>\n                  )}\n                </button>\n              </div>\n            </div>\n\n            {/* Open Defects Content */}\n            {fleetSubTab === 'defects' && (\n              <>\n                {/* Search and Filter Controls */}\n                <div className=\"mb-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search defects...\"\n                    className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                  />\n                  <select\n                    value={filterApparatus || ''}\n                    onChange={(e) => setFilterApparatus(e.target.value || null)}\n                    className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"\n                  >\n                    <option value=\"\">All Apparatus</option>\n                    {apparatusList.map(app => (\n                      <option key={app} value={app}>{app}</option>\n                    ))}\n                  </select>\n                </div>\n\n                {defects.length === 0 ? (\n                  <Card>\n                    <CardContent className=\"py-12 text-center\">\n                      <CheckCircle className=\"w-12 h-12 text-green-500 mx-auto mb-4\" />\n                      <p className=\"text-lg font-semibold text-gray-900\">No Open Issues</p>\n                      <p className=\"text-gray-600 mt-1\">All apparatus equipment and inventory are fully operational</p>\n                    </CardContent>\n                  </Card>\n                ) : (\n                  <div className=\"space-y-3\">\n                    {/* Filter and sort the defects */}\n                    {defects\n                      .filter(d => \n                        (!filterApparatus || d.apparatus === filterApparatus) &&\n                        (d.item.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                         d.compartment.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                         d.apparatus.toLowerCase().includes(searchQuery.toLowerCase()))\n                      )\n                      .sort((a, b) => \n                        a.apparatus.localeCompare(b.apparatus) ||\n                        a.compartment.localeCompare(b.compartment) ||\n                        a.item.localeCompare(b.item)\n                      )\n                      .map(defect => (\n                      <Card key={`${defect.apparatus}-${defect.item}-${defect.issueNumber}`} className=\"hover:shadow-md transition-shadow\">\n                        <CardContent className=\"p-6\">\n                          <div className=\"flex flex-col md:flex-row md:items-start md:justify-between gap-4\">\n                            <div className=\"flex-1 min-w-0\">\n                              <div className=\"flex items-center gap-3 mb-2 flex-wrap\">\n                                <span className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold\">\n                                  {defect.apparatus}\n                                </span>\n                                <span className={`\n                                  px-3 py-1 rounded-full text-sm font-semibold ${\n                                    defect.status === 'missing'\n                                      ? 'bg-red-100 text-red-800'\n                                      : 'bg-yellow-100 text-yellow-800'\n                                  }\n                                `}>\n                                  {defect.status === 'missing' ? '❌ Missing' : '⚠️ Damaged'}\n                                </span>\n                              </div>\n                              <h3 className=\"text-lg font-bold text-gray-900 mb-1\">\n                                {defect.compartment}: {defect.item}\n                              </h3>\n                              <p className=\"text-gray-600 text-sm mb-2\">\n                                Reported by {defect.reportedBy} on {formatDateTime(defect.reportedAt)}\n                              </p>\n                              {defect.notes && (\n                                <p className=\"text-gray-700 text-sm bg-gray-50 p-3 rounded-lg mb-2 break-words\">\n                                  {defect.notes.split('\\n').slice(0, 3).join('\\n')}\n                                </p>\n                              )}\n                              {defect.photoUrl && (\n                                <div className=\"mt-3\">\n                                  <button\n                                    onClick={() => setLightboxPhoto(defect.photoUrl || null)}\n                                    className=\"inline-flex items-center gap-2 px-3 py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg transition-colors border border-blue-200\"\n                                  >\n                                    <ImageIcon className=\"w-4 h-4\" />\n                                    <span className=\"text-sm font-semibold\">View Photo</span>\n                                  </button>\n                                </div>\n                              )}\n                            </div>\n\n                            {/* Resolve Button */}\n                            <div className=\"md:text-right flex-shrink-0\">\n                              <Button\n                                onClick={() => {\n                                  setDefectToResolve(defect);\n                                  setResolutionNote('');\n                                }}\n                                className=\"bg-green-600 hover:bg-green-700\"\n                                size=\"sm\"\n                              >\n                                <Check className=\"w-4 h-4 mr-2\" />\n                                Resolve\n                              </Button>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    ))}\n                  </div>\n                )}\n              </>\n            )}\n\n            {/* Inspection History Content */}\n            {fleetSubTab === 'history' && (\n              <div>\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"flex items-center gap-2\">\n                    {selectedApparatus && (\n                      <span className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold\">\n                        Filtered: {selectedApparatus}\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"flex gap-2\">\n                    {selectedApparatus && (\n                      <Button\n                        onClick={loadAllInspectionLogs}\n                        variant=\"secondary\"\n                        size=\"sm\"\n                      >\n                        View All\n                      </Button>\n                    )}\n                    <Button\n                      onClick={() => selectedApparatus ? loadApparatusLogs(selectedApparatus) : loadAllInspectionLogs()}\n                      variant=\"secondary\"\n                      size=\"sm\"\n                      disabled={isLoadingLogs}\n                    >\n                      {isLoadingLogs ? 'Loading...' : 'Refresh'}\n                    </Button>\n                  </div>\n                </div>\n\n                {isLoadingLogs ? (\n                  <div className=\"text-center py-12\">\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2\"></div>\n                    <p className=\"text-gray-600 text-sm\">Loading inspection logs...</p>\n                  </div>\n                ) : inspectionLogs.length === 0 ? (\n                  <Card>\n                    <CardContent className=\"py-12 text-center\">\n                      <Calendar className=\"w-12 h-12 text-gray-400 mx-auto mb-3\" />\n                      <p className=\"text-gray-600\">\n                        {selectedApparatus\n                          ? `No inspection logs found for ${selectedApparatus} in the last 30 days.`\n                          : 'No inspection logs found. Click an apparatus card in Fleet Status to view its history.'}\n                      </p>\n                    </CardContent>\n                  </Card>\n                ) : (\n                  <div className=\"space-y-3\">\n                    { inspectionLogs.map(log => {\n                      // Parse log details from title and body\n                      const titleMatch = log.title.match(/\\[(.+)\\]\\s+Daily Inspection\\s*-\\s*(.+)/);\n                      const apparatus = titleMatch ? titleMatch[1] : 'Unknown';\n                      const dateStr = titleMatch ? titleMatch[2] : formatDateTime(log.created_at);\n\n                      // Extract inspector info from body\n                      const inspectorMatch = log.body?.match(/\\*\\*Conducted By:\\*\\*\\s*(.+?)\\s*\\((.+?)\\)/);\n                      const inspector = inspectorMatch ? inspectorMatch[1] : 'Unknown';\n                      const rank = inspectorMatch ? inspectorMatch[2] : '';\n\n                      // Extract item count\n                      const itemsMatch = log.body?.match(/\\*\\*Total Items Checked:\\*\\*\\s*(\\d+)/);\n                      const totalItems = itemsMatch ? parseInt(itemsMatch[1]) : 0;\n\n                      // Extract defect count\n                      const defectsMatch = log.body?.match(/\\*\\*Issues Found:\\*\\*\\s*(\\d+)/);\n                      const defectCount = defectsMatch ? parseInt(defectsMatch[1]) : 0;\n\n                      // Extract receipt URL if present\n                      const receiptMatch = log.body?.match(/\\[View Full Printable Receipt\\]\\((.+?)\\)/);\n                      const receiptUrl = receiptMatch ? receiptMatch[1] : null;\n\n                      // Extract defect list\n                      const defectsSection = log.body?.match(/### Issues Reported\\n([\\s\\S]+?)(?:\\n\\n|$)/);\n                      const defectsList = defectsSection \n                        ? defectsSection[1].split('\\n').filter(line => line.trim().startsWith('-'))\n                        : [];\n\n                      return (\n                        <Card\n                          key={log.number}\n                          className=\"hover:shadow-md transition-shadow\"\n                        >\n                          <CardContent className=\"p-6\">\n                            <div className=\"flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-4\">\n                              <div className=\"flex-1 min-w-0\">\n                                <div className=\"flex items-center gap-3 mb-2 flex-wrap\">\n                                  <span className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold\">\n                                    {apparatus}\n                                  </span>\n                                  {defectCount === 0 ? (\n                                    <span className=\"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-semibold flex items-center gap-1\">\n                                      <CheckCircle className=\"w-4 h-4\" />\n                                      All Clear\n                                    </span>\n                                  ) : (\n                                    <span className=\"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-semibold flex items-center gap-1\">\n                                      <AlertCircle className=\"w-4 h-4\" />\n                                      {defectCount} Issue{defectCount !== 1 ? 's' : ''}\n                                    </span>\n                                  )}\n                                </div>\n                                <p className=\"text-sm text-gray-700 mb-1\">\n                                  <strong>Inspector:</strong> {inspector} {rank && `(${rank})`}\n                                </p>\n                                <p className=\"text-sm text-gray-600\">\n                                  <strong>Date:</strong> {dateStr} • <strong>Items Checked:</strong> {totalItems}\n                                </p>\n                              </div>\n                              <div className=\"text-right text-xs text-gray-500 flex-shrink-0\">\n                                <span className=\"text-xs text-gray-600\">{inspector}</span> {rank && <span className=\"text-xs text-gray-600\"> ({rank})</span>}\n                              </div>\n                            </div>\n                            \n                            {defectsList.length > 0 && (\n                              <div className=\"mb-4 bg-red-50 border-l-4 border-red-500 p-3 rounded\">\n                                <p className=\"text-sm font-semibold text-red-900 mb-2\">Reported Issues:</p>\n                                <ul className=\"text-sm text-red-800 space-y-1\">\n                                  {defectsList.map((defect, idx) => (\n                                    <li key={idx} className=\"pl-2 break-words\">{defect.replace(/^-\\s*/, '')}</li>\n                                  ))}\n                                </ul>\n                              </div>\n                            )}\n                            \n                            <div className=\"flex flex-wrap gap-2 pt-3 border-t border-gray-200\">\n                              {receiptUrl && (\n                                <a\n                                  href={receiptUrl}\n                                  target=\"_blank\"\n                                  rel=\"noopener noreferrer\"\n                                  className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded text-sm font-semibold transition-colors\"\n                                >\n                                  📋 View Receipt\n                                </a>\n                              )}\n                              <a\n                                href={`https://github.com/pdarleyjr/mbfd-checkout-system/issues/${log.number}`}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-sm font-semibold transition-colors\"\n                              >\n                                View on GitHub →\n                              </a>\n                            </div>\n                          </CardContent>\n                        </Card>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Resolve Defect Modal */}\n            <Modal\n              isOpen={defectToResolve !== null}\n              onClose={() => {\n                if (!isResolvingDefect) {\n                  setDefectToResolve(null);\n                  setResolutionNote('');\n                }\n              }}\n              title=\"Resolve Defect\"\n            >\n              {defectToResolve && (\n                <div className=\"space-y-4\">\n                  <div>\n                    <p className=\"text-sm text-gray-600 mb-1\">Apparatus</p>\n                    <p className=\"font-semibold text-gray-900\">{defectToResolve.apparatus}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600 mb-1\">Defect</p>\n                    <p className=\"font-semibold text-gray-900\">\n                      {defectToResolve.compartment}: {defectToResolve.item}\n                    </p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600 mb-1\">Status</p>\n                    <span className={`\n                      inline-block px-3 py-1 rounded-full text-sm font-semibold ${\n                        defectToResolve.status === 'missing'\n                          ? 'bg-red-100 text-red-800'\n                          : 'bg-yellow-100 text-yellow-800'\n                      }\n                    `}>\n                      {defectToResolve.status === 'missing' ? '❌ Missing' : '⚠️ Damaged'}\n                    </span>\n                  </div>\n                  <div>\n                    <label htmlFor=\"resolution-note\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                      Resolution Notes (Optional)\n                    </label>\n                    <textarea\n                      id=\"resolution-note\"\n                      value={resolutionNote}\n                      onChange={(e) => setResolutionNote(e.target.value)}\n                      placeholder=\"Describe how this defect was resolved...\"\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none\"\n                      rows={4}\n                      disabled={isResolvingDefect}\n                    />\n                  </div>\n                  <div className=\"flex gap-3 pt-4\">\n                    <Button\n                      onClick={handleResolveDefect}\n                      className=\"flex-1 bg-green-600 hover:bg-green-700\"\n                      disabled={isResolvingDefect}\n                    >\n                      {isResolvingDefect ? 'Resolving...' : 'Confirm Resolution'}\n                    </Button>\n                    <Button\n                      onClick={() => {\n                        setDefectToResolve(null);\n                        setResolutionNote('');\n                      }}\n                      variant=\"secondary\"\n                      disabled={isResolvingDefect}\n                    >\n                      Cancel\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </Modal>\n\n            {/* Photo Lightbox Modal */}\n            {lightboxPhoto && (\n              <div\n                className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90 p-4\"\n                onClick={() => setLightboxPhoto(null)}\n              >\n                <button\n                  onClick={() => setLightboxPhoto(null)}\n                  className=\"absolute top-4 right-4 p-2 bg-white rounded-full hover:bg-gray-100 transition-colors\"\n                  aria-label=\"Close\"\n                >\n                  <CloseIcon className=\"w-6 h-6 text-gray-900\" />\n                </button>\n                <img\n                  src={lightboxPhoto}\n                  alt=\"Defect photo\"\n                  className=\"max-w-full max-h-full object-contain rounded-lg shadow-2xl\"\n                  onClick={(e) => e.stopPropagation()}\n                />\n              </div>\n            )}\n          </>\n        )}\n\n        {/* Daily Activity Tab */}\n        {activeTab === 'activity' && (\n          <div className=\"space-y-6\">\n            <div>\n              <h2 className=\"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                <Calendar className=\"w-6 h-6\" />\n                Daily Activity - {today}\n              </h2>\n\n              {/* Today's Submissions */}\n              <Card className=\"mb-6\">\n                <CardContent className=\"p-6\">\n                  <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Today's Submissions</h3>\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4\">\n                    {apparatusList.map(apparatus => {\n                      const hasSubmitted = dailySubmissions?.today.includes(apparatus) || false;\n                      return (\n                        <div\n                          key={apparatus}\n                          className={`p-4 rounded-lg border-2 ${\n                            hasSubmitted\n                              ? 'bg-green-50 border-green-500'\n                              : 'bg-gray-50 border-gray-300'\n                          }`}\n                        >\n                          <div className=\"flex items-center justify-between mb-2\">\n                            <Truck className={`w-6 h-6 ${hasSubmitted ? 'text-green-600' : 'text-gray-400'}`} />\n                            {hasSubmitted ? (\n                              <CheckCircle className=\"w-5 h-5 text-green-600\" />\n                            ) : (\n                              <AlertCircle className=\"w-5 h-5 text-gray-400\" />\n                            )}\n                          </div>\n                          <p className=\"font-bold text-gray-900\">{apparatus}</p>\n                          <p className={`text-sm font-semibold ${hasSubmitted ? 'text-green-600' : 'text-gray-500'}`}>\n                            {hasSubmitted ? '✓ Submitted' : 'Pending'}\n                          </p>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Submission Statistics */}\n              <Card>\n                <CardContent className=\"p-6\">\n                  <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                    <TrendingUp className=\"w-5 h-5\" />\n                    Submission Statistics (Last 30 Days)\n                  </h3>\n                  <div className=\"space-y-3\">\n                    {apparatusList.map(apparatus => {\n                      const total = dailySubmissions?.totals.get(apparatus) || 0;\n                      const lastDate = dailySubmissions?.lastSubmission.get(apparatus);\n                      const percentage = Math.round((total / 30) * 100);\n                      \n                      return (\n                        <div key={apparatus} className=\"border-b border-gray-200 pb-3 last:border-0\">\n                          <div className=\"flex items-center justify-between mb-2\">\n                            <div className=\"flex items-center gap-3\">\n                              <Truck className=\"w-5 h-5 text-blue-600\" />\n                              <span className=\"font-semibold text-gray-900\">{apparatus}</span>\n                            </div>\n                            <div className=\"text-right\">\n                              <span className=\"text-2xl font-bold text-blue-600\">{total}</span>\n                              <span className=\"text-sm text-gray-600 ml-1\">submissions</span>\n                            </div>\n                          </div>\n                          <div className=\"flex items-center gap-4 text-sm text-gray-600\">\n                            <span>{percentage}% compliance rate</span>\n                            {lastDate && <span>Last: {lastDate}</span>}\n                          </div>\n                          <div className=\"mt-2 w-full bg-gray-200 rounded-full h-2\">\n                            <div\n                              className={`h-2 rounded-full ${\n                                percentage >= 80 ? 'bg-green-500' : percentage >= 50 ? 'bg-yellow-500' : 'bg-red-500'\n                              }`}\n                              style={{ width: `${Math.min(percentage, 100)}%` }}\n                            />\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n        )}\n\n        {/* Supply Alerts Tab */}\n        {activeTab === 'supplies' && (\n          <div>\n            <h2 className=\"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2\">\n              <AlertTriangle className=\"w-6 h-6 text-orange-600\" />\n              Supply Alerts\n            </h2>\n\n            {lowStockItems.length === 0 ? (\n              <Card>\n                <CardContent className=\"py-12 text-center\">\n                  <Package className=\"w-12 h-12 text-green-500 mx-auto mb-4\" />\n                  <p className=\"text-lg font-semibold text-gray-900\">No Supply Concerns</p>\n                  <p className=\"text-gray-600 mt-1\">All items are adequately stocked</p>\n                </CardContent>\n              </Card>\n            ) : (\n              <div className=\"space-y-4\">\n                <div className=\"bg-orange-50 border-l-4 border-orange-500 p-4 rounded\">\n                  <p className=\"text-sm text-orange-800\">\n                    <strong>Note:</strong> Items listed below have been reported missing multiple times across different apparatus in the last 30 days. \n                    This may indicate a supply shortage requiring attention.\n                  </p>\n                </div>\n\n                {lowStockItems.map((item, index) => (\n                  <Card key={index} className=\"border-orange-300\">\n                    <CardContent className=\"p-6\">\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-3 mb-2\">\n                            <AlertTriangle className=\"w-6 h-6 text-orange-600\" />\n                            <h3 className=\"text-lg font-bold text-gray-900\">\n                              {item.compartment}: {item.item}\n                            </h3>\n                          </div>\n                          <div className=\"space-y-2\">\n                            <p className=\"text-sm text-gray-700\">\n                              <strong>Reported missing {item.occurrences} time{(item.occurrences !== 1 ? 's' : '')}</strong> in the last 30 days\n                            </p>\n                            <div className=\"flex items-center gap-2 flex-wrap\">\n                              <span className=\"text-sm font-semibold text-gray-700\">Affected apparatus:</span>\n                              {item.apparatus.map(apparatus => (\n                                <span\n                                  key={apparatus}\n                                  className=\"px-2 py-1 bg-orange-100 text-orange-800 rounded text-xs font-semibold\"\n                                >\n                                  {apparatus}\n                                </span>\n                              ))}\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"ml-4\">\n                          <span className=\"inline-flex items-center justify-center w-12 h-12 bg-orange-100 rounded-full\">\n                            <span className=\"text-xl font-bold text-orange-600\">{item.occurrences}</span>\n                          </span>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Inventory Tab */}\n        {activeTab === 'inventory' && (\n          <InventoryTab />\n        )}\n\n        {/* Apparatus Status Tab */}\n        {activeTab === 'apparatus-status' && (\n          <ApparatusStatusTab />\n        )}\n\n        {/* Fleet Insights Tab */}\n        {activeTab === 'insights' && (\n          <>\n            <AIFleetInsights \n              adminPassword={passwordInput}\n              onCriticalAlertCount={setCriticalAlertsCount}\n            />\n          </>\n        )}\n\n        {/* Notifications Tab */}\n        {activeTab === 'notifications' && (\n          <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-2xl font-bold text-gray-900\">Email Notifications</h2>\n              <Button\n                onClick={sendTestDigest}\n                variant=\"secondary\"\n                className=\"flex items-center gap-2\"\n              >\n                <Mail className=\"w-5 h-5\" />\n                Send Test Digest\n              </Button>\n            </div>\n\n            {configError && (\n              <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg\">\n                {configError}\n              </div>\n            )}\n\n            {isLoadingConfig ? (\n              <div className=\"text-center py-12\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\" />\n                <p className=\"text-gray-600\">Loading configuration...</p>\n              </div>\n            ) : emailConfig ? (\n              <div className=\"space-y-6\">\n                {/* Master Enable/Disable */}\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <h3 className=\"text-lg font-semibold text-gray-900\">Email Notifications</h3>\n                        <p className=\"text-sm text-gray-600 mt-1\">\n                          {emailConfig.enabled ? 'Notifications are currently enabled' : 'Notifications are currently disabled'}\n                        </p>\n                      </div>\n                      <Button\n                        onClick={() => saveEmailConfig({ enabled: !emailConfig.enabled })}\n                        className={emailConfig.enabled ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'}\n                        disabled={isSavingConfig}\n                      >\n                        {emailConfig.enabled ? 'Disable' : 'Enable'}\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Email Mode */}\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Email Mode</h3>\n                    <div className=\"space-y-3\">\n                      <label className=\"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors\">\n                        <input\n                          type=\"radio\"\n                          name=\"email_mode\"\n                          value=\"daily_digest\"\n                          checked={emailConfig.email_mode === 'daily_digest'}\n                          onChange={(e) => saveEmailConfig({ email_mode: (e.target as any).value as any })}\n                          className=\"mt-1 w-5 h-5 text-blue-600\"\n                        />\n                        <div>\n                          <span className=\"font-semibold\">Daily Digest (Recommended)</span>\n                          <p className=\"text-sm text-gray-600\">Send one summary email per day at {emailConfig.digest_send_time}</p>\n                        </div>\n                      </label>\n                      <label className=\"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors\">\n                        <input\n                          type=\"radio\"\n                          name=\"email_mode\"\n                          value=\"per_submission\"\n                          checked={emailConfig.email_mode === 'per_submission'}\n                          onChange={(e) => saveEmailConfig({ email_mode: (e.target as any).value as any })}\n                          className=\"mt-1 w-5 h-5 text-blue-600\"\n                        />\n                        <div>\n                          <span className=\"font-semibold\">Per Submission</span>\n                          <p className=\"text-sm text-gray-600\">Send an email immediately after each inspection</p>\n                        </div>\n                      </label>\n                      <label className=\"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors\">\n                        <input\n                          type=\"radio\"\n                          name=\"email_mode\"\n                          value=\"hybrid\"\n                          checked={emailConfig.email_mode === 'hybrid'}\n                          onChange={(e) => saveEmailConfig({ email_mode: (e.target as any).value as any })}\n                          className=\"mt-1 w-5 h-5 text-blue-600\"\n                        />\n                        <div>\n                          <span className=\"font-semibold\">Hybrid</span>\n                          <p className=\"text-sm text-gray-600\">Immediate for critical defects, daily digest for routine</p>\n                        </div>\n                      </label>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Recipients */}\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Email Recipients</h3>\n                    <div className=\"space-y-3\">\n                      {emailConfig.recipients.map((email, idx) => (\n                        <div key={idx} className=\"flex items-center gap-2\">\n                          <input\n                            type=\"email\"\n                            value={email}\n                            onChange={(e) => {\n                              const newRecipients = [...emailConfig.recipients];\n                              newRecipients[idx] = e.target.value;\n                              setEmailConfig({ ...emailConfig, recipients: newRecipients });\n                            }}\n                            className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                            placeholder=\"email@example.com\"\n                          />\n                          <Button\n                            onClick={() => {\n                              const newRecipients = emailConfig.recipients.filter((_, i) => i !== idx);\n                              saveEmailConfig({ recipients: newRecipients });\n                            }}\n                            variant=\"secondary\"\n                            className=\"bg-red-50 hover:bg-red-100 text-red-700\"\n                          >\n                            Remove\n                          </Button>\n                        </div>\n                      ))}\n                      <div className=\"flex gap-2\">\n                        <Button\n                          onClick={() => {\n                            const newRecipients = [...emailConfig.recipients, ''];\n                            setEmailConfig({ ...emailConfig, recipients: newRecipients });\n                          }}\n                          variant=\"secondary\"\n                        >\n                          + Add Recipient\n                        </Button>\n                        <Button\n                          onClick={() => saveEmailConfig({ recipients: emailConfig.recipients.filter(email => email !== '') })}\n                          disabled={isSavingConfig}\n                        >\n                          Save Recipients\n                        </Button>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Critical Defect Alert */}\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <label className=\"flex items-start gap-3 cursor-pointer\">\n                      <input\n                        type=\"checkbox\"\n                        checked={emailConfig.enable_immediate_for_critical}\n                        onChange={(e) => saveEmailConfig({ enable_immediate_for_critical: (e.target as any).checked })}\n                        className=\"mt-1 w-5 h-5 text-blue-600 rounded\"\n                      />\n                      <div>\n                        <span className=\"font-semibold text-gray-900\">Immediate Alerts for Critical Defects</span>\n                        <p className=\"text-sm text-gray-600 mt-1\">\n                          Send immediate email when critical defects are found (only in hybrid mode)\n                        </p>\n                      </div>\n                    </label>\n                  </CardContent>\n                </Card>\n\n                {/* Daily Email Limit */}\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Daily Email Limit</h3>\n                    <div className=\"flex items-center gap-4\">\n                      <input\n                        type=\"number\"\n                        value={emailConfig.daily_email_hard_cap}\n                        onChange={(e) => setEmailConfig({ ...emailConfig, daily_email_hard_cap: parseInt((e.target as any).value) || 250 })}\n                        className=\"w-32 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                        min=\"1\"\n                        max=\"500\"\n                      />\n                      <span className=\"text-gray-600\">emails per day (max: 500)</span>\n                      <Button\n                        onClick={() => saveEmailConfig({ daily_email_hard_cap: emailConfig.daily_email_hard_cap })}\n                        disabled={isSavingConfig}\n                      >\n                        Save\n                      </Button>\n                    </div>\n                    <p className=\"text-sm text-gray-500 mt-2\">\n                      Current: {emailConfig.daily_email_hard_cap} / Recommended: 250\n                    </p>\n                  </CardContent>\n                </Card>\n\n                {/* Email Subject Template */}\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Email Subject Template</h3>\n                    <div className=\"space-y-2\">\n                      <input\n                        type=\"text\"\n                        value={emailConfig.email_subject_template}\n                        onChange={(e) => setEmailConfig({ ...emailConfig, email_subject_template: (e.target as any).value })}\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                        placeholder=\"MBFD Daily Inspection Summary - {date}\"\n                      />\n                      <p className=\"text-sm text-gray-500\">Use {'{date}'} for the current date</p>\n                      <Button\n                        onClick={() => saveEmailConfig({ email_subject_template: emailConfig.email_subject_template })}\n                        disabled={isSavingConfig}\n                      >\n                        Save Template\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            ) : (\n              <Card>\n                <CardContent className=\"py-12 text-center\">\n                  <Mail className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n                  <p className=\"text-gray-600 mb-4\">Click the button below to load email configuration</p>\n                  <Button onClick={loadEmailConfig}>\n                    Load Configuration\n                  </Button>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// Tab Button Component for responsive navigation\ninterface TabButtonProps {\n  icon: React.ComponentType<{ className?: string }>;\n  label: string;\n  badge?: number;\n  badgeColor?: 'red' | 'yellow';\n  isActive: boolean;\n  onClick: () => void;\n}\n\nconst TabButton: React.FC<TabButtonProps> = ({ icon: Icon, label, badge, badgeColor = 'red', isActive, onClick }) => {\n  // Shorten label for mobile display\n  const mobileLabel = label === 'Home' ? 'Home'\n    : label === 'Inspection Issues' ? 'Issues'\n    : label === 'Daily Activity' ? 'Activity'\n    : label === 'Supply Alerts' ? 'Supplies'\n    : label === 'Apparatus Status' ? 'Apparatus'\n    : label === 'AI Insights' ? 'AI'\n    : label;\n\n  return (\n    <button\n      onClick={onClick}\n      className={`\n        flex items-center gap-2 px-3 sm:px-4 lg:px-6 py-2 sm:py-3 font-semibold\n        transition-all whitespace-nowrap relative flex-shrink-0 text-sm sm:text-base\n        ${isActive\n          ? 'text-white border-b-2 border-white bg-white/10'\n          : 'text-blue-200 hover:text-white hover:bg-white/5'\n        }\n      `}\n    >\n      <Icon className=\"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0\" />\n      <span className=\"hidden sm:inline\">{label}</span>\n      <span className=\"sm:hidden\">{mobileLabel}</span>\n      {badge !== undefined && badge > 0 && (\n        <span className={`\n          ${badgeColor === 'red' ? 'bg-red-500' : 'bg-yellow-500'}\n          text-white text-xs px-2 py-0.5 rounded-full font-bold min-w-[20px] text-center\n        `}>\n          {badge}\n        </span>\n      )}\n    </button>\n  );\n};"],"names":["__iconNode","Activity","createLucideIcon","ArrowLeft","Brain","CircleAlert","CircleX","ClipboardList","Clock","House","Image","Lightbulb","Lock","Mail","Menu","Package","RefreshCw","Search","Sparkles","TrendingUp","Truck","Warehouse","useInventory","items","setItems","useState","isLoading","setIsLoading","error","setError","lastFetchedAt","setLastFetchedAt","loadInventory","useCallback","data","fetchInventory","err","errorMessage","useEffect","useSupplyTasks","status","tasks","setTasks","count","setCount","loadTasks","fetchTasks","completeTask","taskId","chosenReplacement","completedBy","notes","updateTask","cancelTask","DashboardHome","adminPassword","isRefreshing","setIsRefreshing","lastUpdated","setLastUpdated","fleetInsights","setFleetInsights","fleetHealthScore","setFleetHealthScore","defects","setDefects","inventoryInsights","setInventoryInsights","parsedInventoryInsight","setParsedInventoryInsight","inventoryItems","inventoryLoading","pendingTasks","tasksLoading","allVehicles","statusLoading","useApparatusStatus","stats","setStats","loadAllData","showLoader","loadFleetData","loadInventoryInsights","computeStatistics","allDefects","githubService","insights","criticalDefects","d","damagedDefects","apparatusDefectCounts","apparatusWithMultipleIssues","_","a","b","apparatus","affectedApparatus","healthScore","result","fetchAIInsights","latest","parsed","parseError","handleReAnalyze","generateAIInsights","criticalCount","outOfService","v","lowStock","t","jsxs","jsx","Button","Card","CardContent","AlertTriangle","AlertCircle","insight","index","color","Icon","CheckCircle","suggestion","idx","issue","AIFleetInsights","onCriticalAlertCount","aiInsights","setAiInsights","isLoadingInsights","setIsLoadingInsights","insightsError","setInsightsError","selectedTimeframe","setSelectedTimeframe","selectedApparatus","setSelectedApparatus","loadAIInsights","renderInsightCard","isCritical","isWarning","isPositive","bgColor","borderColor","textColor","icon","value","label","e","APPARATUS_LIST","i","SupplyListPanel","onRefresh","searchTerm","setSearchTerm","sortField","setSortField","sortDirection","setSortDirection","filteredAndSortedItems","useMemo","results","term","item","compareValue","toggleSort","field","isLowStock","TasksPanel","activeStatus","setActiveStatus","refresh","processingTaskId","setProcessingTaskId","handleComplete","itemName","handleCancel","XCircle","task","formatDateTime","Fragment","SuggestionsPanel","tasksWithSuggestions","React","suggestions","s","itemType","confidence","AIInsightsPanel","inventory","isGenerating","setIsGenerating","setInsights","aiNotConfigured","setAiNotConfigured","loadInsights","handleGenerateInsights","parseInsightData","insightJson","latestInsight","parsedInsight","anomaly","InventoryTab","activeSubTab","setActiveSubTab","useVehicleChangeRequests","options","pollInterval","autoFetch","requests","setRequests","loading","setLoading","pendingCount","setPendingCount","totalCount","setTotalCount","loadRequests","fetchVehicleChangeRequests","submitRequest","request","submitVehicleChangeRequest","approveRequest","requestId","reviewedBy","reviewVehicleChangeRequest","rejectRequest","interval","ApparatusStatusTab","statuses","statusError","refetchStatuses","requestsLoading","refetchRequests","actioningRequestId","setActioningRequestId","showRejectModal","setShowRejectModal","rejectId","setRejectId","rejectNotes","setRejectNotes","handleApprove","handleReject","openRejectModal","getAssignedUnit","vehicleNo","getVehicleCardClass","getStatusBadgeClass","lowerStatus","CardHeader","vehicle","assignedUnit","isOutOfService","req","AdminDashboard","navigate","useNavigate","isAuthenticated","setIsAuthenticated","passwordInput","setPasswordInput","passwordError","setPasswordError","activeTab","setActiveTab","fleetStatus","setFleetStatus","dailySubmissions","setDailySubmissions","lowStockItems","setLowStockItems","inspectionLogs","setInspectionLogs","isLoadingLogs","setIsLoadingLogs","emailConfig","setEmailConfig","isLoadingConfig","setIsLoadingConfig","isSavingConfig","setIsSavingConfig","configError","setConfigError","criticalAlertsCount","setCriticalAlertsCount","lightboxPhoto","setLightboxPhoto","defectToResolve","setDefectToResolve","resolutionNote","setResolutionNote","isResolvingDefect","setIsResolvingDefect","searchQuery","setSearchQuery","filterApparatus","setFilterApparatus","fleetSubTab","setFleetSubTab","isMobileMenuOpen","setIsMobileMenuOpen","loadApparatusLogs","filteredLogs","log","loadAllInspectionLogs","logs","loadDashboardData","submissions","handlePasswordSubmit","loadEmailConfig","config","saveEmailConfig","updates","sendTestDigest","handleResolveDefect","prevDefects","prevStatus","newStatus","currentCount","apparatusList","today","X","TabButton","Home","Calendar","defectCount","isOk","app","defect","ImageIcon","Check","titleMatch","dateStr","inspectorMatch","inspector","rank","itemsMatch","totalItems","defectsMatch","receiptMatch","receiptUrl","defectsSection","defectsList","line","Modal","CloseIcon","hasSubmitted","total","lastDate","percentage","email","newRecipients","badge","badgeColor","isActive","onClick","mobileLabel"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]}