import{j as e}from"./ui-CaklQCqa.js";import{u as T,r as c}from"./vendor-DwtycFKu.js";import{T as x}from"./TouchFeedback-B-WrHbt1.js";import{S as C}from"./SkeletonLoader-BJqzvzi_.js";import{c as M}from"./index-D6lYARA6.js";import{T as d}from"./trending-up-DUBENTCw.js";import{C as R,F}from"./file-text-Cjfi2_n-.js";import{C as u}from"./circle-check-big-YRVhyGV6.js";import{C as A}from"./clipboard-check-Ckh_vfBV.js";import{T as p}from"./truck-DOE93hhS.js";import{H as D}from"./house-DWvo6b-D.js";const E=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],n=M("chevron-right",E);function q(){const m=T(),[a,b]=c.useState(null),[f,y]=c.useState(!0);c.useEffect(()=>{g();const t=setInterval(g,6e4);return()=>clearInterval(t)},[]);const g=async()=>{try{const t=await fetch("http://localhost:8787/ics212/analytics"),r=t.ok?await t.json():null,s=await fetch("http://localhost:8787/ics218/forms?limit=1000"),j=s.ok?await s.json():null,h=new Date,k=h.getMonth(),w=h.getFullYear(),i=j?.forms||[],N=i.filter(l=>{const o=new Date(l.created_at);return o.getMonth()===k&&o.getFullYear()===w}).length,S=i.reduce((l,o)=>l+(o.vehicleCount||0),0);b({ics212:{total:r?.totalForms||0,thisMonth:r?.formsThisMonth||0,holdRate:r?.holdRate||0},ics218:{total:i.length,thisMonth:N,vehiclesTracked:S},documents:{total:0,recentUploads:0}})}catch(t){console.error("Error fetching system stats:",t)}finally{y(!1)}};if(f)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto space-y-6",children:Array.from({length:3}).map((t,r)=>e.jsx(C,{type:"card"},r))})});const v=[{id:"ics212",title:"ICS-212 Management",subtitle:"Vehicle Safety Inspections",icon:A,gradient:"from-blue-500 to-cyan-500",bgGradient:"from-blue-500/10 to-cyan-500/10",path:"/admin/ics212",stats:a?.ics212&&[{label:"Total Forms",value:a.ics212.total,icon:n},{label:"This Month",value:a.ics212.thisMonth,icon:d},{label:"Hold Rate",value:`${a.ics212.holdRate.toFixed(1)}%`,icon:a.ics212.holdRate>10?R:u,highlight:a.ics212.holdRate>10}]},{id:"ics218",title:"ICS-218 Management",subtitle:"Equipment & Vehicle Inventory",icon:p,gradient:"from-orange-500 to-red-500",bgGradient:"from-orange-500/10 to-red-500/10",path:"/admin/ics218",stats:a?.ics218&&[{label:"Total Forms",value:a.ics218.total,icon:n},{label:"This Month",value:a.ics218.thisMonth,icon:d},{label:"Vehicles Tracked",value:a.ics218.vehiclesTracked,icon:p}]},{id:"documents",title:"Document Management",subtitle:"Upload & Organize Forms",icon:F,gradient:"from-green-500 to-emerald-500",bgGradient:"from-green-500/10 to-emerald-500/10",path:"/admin/documents",stats:[{label:"Total Documents",value:a?.documents.total||0,icon:n},{label:"Recent Uploads",value:a?.documents.recentUploads||0,icon:d},{label:"Storage Available",value:"∞",icon:u}],comingSoon:a?.documents.total===0}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/70 dark:bg-gray-900/70 shadow-lg border-b border-white/20 dark:border-gray-700/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:"/taskforce-io-logo.png",alt:"TASKFORCE IO",className:"w-12 h-12 object-contain drop-shadow-lg"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:"TASKFORCE IO"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Emergency Response Management System"})]})]}),e.jsx(x,{children:e.jsxs("button",{onClick:()=>m("/"),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(D,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Back to Home"})]})})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-12",children:[e.jsxs("div",{className:"mb-12 text-center",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Administrative Dashboard"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Manage emergency response forms, track vehicle inventory, and organize documentation with our comprehensive management system."})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:v.map(t=>e.jsx(x,{children:e.jsxs("div",{onClick:()=>m(t.path),className:`
                  relative overflow-hidden rounded-2xl cursor-pointer
                  backdrop-blur-xl bg-white/80 dark:bg-gray-800/80
                  border border-white/20 dark:border-gray-700/20
                  shadow-xl hover:shadow-2xl
                  transition-all duration-500 ease-out
                  transform hover:scale-105 hover:-translate-y-2
                  group
                `,children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${t.bgGradient} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),e.jsxs("div",{className:"relative p-8 z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsx("div",{className:`p-4 rounded-2xl bg-gradient-to-br ${t.gradient} text-white shadow-lg transform group-hover:scale-110 group-hover:rotate-3 transition-all duration-300`,children:e.jsx(t.icon,{className:"w-8 h-8"})}),t.comingSoon&&e.jsx("span",{className:"px-3 py-1 text-xs font-semibold bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400 rounded-full",children:"Coming Soon"})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:t.subtitle}),t.stats&&e.jsx("div",{className:"space-y-3",children:t.stats.map((r,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-50/50 dark:bg-gray-900/30 backdrop-blur-sm",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r.label}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-lg font-bold ${"highlight"in r&&r.highlight?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:r.value}),e.jsx(r.icon,{className:`w-4 h-4 ${"highlight"in r&&r.highlight?"text-red-600 dark:text-red-400":"text-gray-400"}`})]})]},s))}),e.jsxs("div",{className:"mt-6 flex items-center justify-between text-sm font-semibold",children:[e.jsx("span",{className:`bg-gradient-to-r ${t.gradient} bg-clip-text text-transparent`,children:t.comingSoon?"Manage When Available":"Open Dashboard"}),e.jsx(n,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transform group-hover:translate-x-2 transition-all duration-300"})]})]})]})},t.id))}),e.jsx("div",{className:"mt-16 p-6 rounded-2xl backdrop-blur-xl bg-white/60 dark:bg-gray-800/60 border border-white/20 dark:border-gray-700/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:["System Status: ",e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Operational"})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["All services running normally. Last updated: ",new Date().toLocaleTimeString()]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"px-4 py-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 text-sm font-medium",children:"✓ Airtable Connected"}),e.jsx("div",{className:"px-4 py-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 text-sm font-medium",children:"✓ R2 Storage Active"}),e.jsx("div",{className:"px-4 py-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 text-sm font-medium",children:"✓ Email Configured"})]})]})})]})]})}export{q as AdminHub};
//# sourceMappingURL=AdminHub-D2MFBGAH.js.map
