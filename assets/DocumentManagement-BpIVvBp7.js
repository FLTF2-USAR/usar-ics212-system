import{j as e}from"./ui-D7Zc9tn1.js";import{r as a,u as F}from"./vendor-B7m-6-nt.js";import{T as i}from"./TouchFeedback-DCDl4U_0.js";import{S as C}from"./SkeletonLoader-1ZpraJm7.js";import{H as S}from"./house-VXU1X0ni.js";import{C as L}from"./circle-check-big-tDzjPK5v.js";import{C as M}from"./circle-alert-CcJ6zdGK.js";import{c as u}from"./index-CrQRffII.js";import{F as A}from"./file-text-Cm3h-J64.js";import{D as U}from"./download-Cr6_Sayf.js";import{T as $}from"./trash-2-eXSj6M8Y.js";const O=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],H=u("folder",O);const T=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_=u("upload",T);function G(){const[l,x]=a.useState([]),[f,y]=a.useState(!0),[n,m]=a.useState(!1),[d,c]=a.useState(!1),[s,o]=a.useState(null),b=F();a.useEffect(()=>{g()},[]);const g=async()=>{try{x([])}catch(r){console.error("Error fetching files:",r)}finally{y(!1)}},k=a.useCallback(r=>{r.preventDefault(),c(!0)},[]),j=a.useCallback(r=>{r.preventDefault(),c(!1)},[]),N=a.useCallback(async r=>{r.preventDefault(),c(!1);const t=Array.from(r.dataTransfer.files);await h(t)},[]),v=async r=>{const t=r.target.files?Array.from(r.target.files):[];await h(t)},h=async r=>{if(r.length!==0){m(!0),o(null);try{for(const t of r){const p=new FormData;p.append("file",t),p.append("category","general"),await new Promise(D=>setTimeout(D,1e3))}o({type:"success",text:`Successfully uploaded ${r.length} file(s)`}),await g()}catch(t){console.error("Upload error:",t),o({type:"error",text:"Failed to upload files. Please try again."})}finally{m(!1)}}},w=async r=>{if(confirm("Are you sure you want to delete this file?"))try{x(l.filter(t=>t.id!==r)),o({type:"success",text:"File deleted successfully"})}catch(t){console.error("Delete error:",t),o({type:"error",text:"Failed to delete file"})}};return f?e.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((r,t)=>e.jsx(C,{type:"card"},t))}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Document Management"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Upload and organize ICS forms and related documents"})]}),e.jsx(i,{children:e.jsxs("button",{onClick:()=>b("/admin"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Back to Hub"})]})})]}),s&&e.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-3 ${s.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[s.type==="success"?e.jsx(L,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):e.jsx(M,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),e.jsx("span",{className:`text-sm font-medium ${s.type==="success"?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:s.text})]}),e.jsxs("div",{onDragOver:k,onDragLeave:j,onDrop:N,className:`
          border-2 border-dashed rounded-xl p-12 text-center transition-all
          ${d?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"}
          ${n?"opacity-50 pointer-events-none":"cursor-pointer"}
        `,children:[e.jsx("input",{type:"file",multiple:!0,onChange:v,className:"hidden",id:"file-upload",disabled:n}),e.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[e.jsx(_,{className:`w-16 h-16 mx-auto mb-4 ${d?"text-green-600":"text-gray-400"}`}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:n?"Uploading...":d?"Drop files here":"Upload Documents"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Drag and drop files here, or click to browse"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:"Supported: PDF, DOC, DOCX, XLS, XLSX (Max 10MB per file)"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-gray-800 dark:to-gray-900 border border-green-200 dark:border-gray-700 rounded-xl p-8 text-center",children:[e.jsx(H,{className:"w-16 h-16 text-green-600 dark:text-green-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Document Library Coming Soon"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"File browser, categorization, and management features are under development."}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Upload functionality will be connected to R2 storage in the next update."})]}),l.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Uploaded Files (",l.length,")"]}),l.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"w-8 h-8 text-green-600 dark:text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:r.filename}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[new Date(r.uploadedAt).toLocaleDateString()," â€¢ ",(r.size/1024).toFixed(2)," KB"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{children:e.jsx("button",{className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:e.jsx(U,{className:"w-5 h-5"})})}),e.jsx(i,{children:e.jsx("button",{onClick:()=>w(r.id),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx($,{className:"w-5 h-5"})})})]})]},r.id))]})]})}export{G as DocumentManagement};
//# sourceMappingURL=DocumentManagement-BpIVvBp7.js.map
