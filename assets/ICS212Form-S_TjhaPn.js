import{j as e,m as p,A as R}from"./ui-qyH4TQhP.js";import{r as b}from"./vendor-Duk_Y8N0.js";import{c as I,L as q,z as k}from"./index-CvbB95hQ.js";import{V as M,S as O,a as z,T as U,P as B}from"./SignatureCanvas-DTHHGX7u.js";import{T as y}from"./TouchFeedback-BRUDPQK4.js";import"./SkeletonLoader-C6FHfKAz.js";const J=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],W=I("chevron-down",J);const G=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],A=I("circle-check-big",G);const Q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],X=I("circle-x",Q);const Y=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Z=I("loader-circle",Y);const K=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],C=I("square-pen",K);const ee=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],P=I("triangle-alert",ee),te=({formData:t,onChange:a,onNext:n,errors:l})=>{const c=s=>{s.preventDefault(),n()},r=()=>new Date().toISOString().split("T")[0],h=()=>{const s=new Date,g=String(s.getHours()).padStart(2,"0"),i=String(s.getMinutes()).padStart(2,"0");return`${g}:${i}`};return e.jsxs(p.form,{className:"space-y-6 p-4 md:p-6",onSubmit:c,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Incident Information"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Complete prior to vehicle inspection"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"incidentName",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Incident Name *"}),e.jsx("input",{type:"text",id:"incidentName",value:t.incidentName||"",onChange:s=>a("incidentName",s.target.value),placeholder:"e.g., Wildfire Response 2024",maxLength:100,className:`
            w-full px-4 py-3 text-base rounded-xl border-2 transition-all
            focus:outline-none focus:ring-4
            ${l.incidentName?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-300 focus:border-blue-500 focus:ring-blue-100"}
          `,style:{minHeight:"56px"}}),l.incidentName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.incidentName})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"inspectorDate",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Date *"}),e.jsx("input",{type:"date",id:"inspectorDate",value:t.inspectorDate||r(),onChange:s=>a("inspectorDate",s.target.value),max:r(),className:`
              w-full px-4 py-3 text-base rounded-xl border-2 transition-all
              focus:outline-none focus:ring-4
              ${l.inspectorDate?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-300 focus:border-blue-500 focus:ring-blue-100"}
            `,style:{minHeight:"56px"}}),l.inspectorDate&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.inspectorDate})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"inspectorTime",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Time *"}),e.jsx("input",{type:"time",id:"inspectorTime",value:t.inspectorTime||h(),onChange:s=>a("inspectorTime",s.target.value),className:`
              w-full px-4 py-3 text-base rounded-xl border-2 transition-all
              focus:outline-none focus:ring-4
              ${l.inspectorTime?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-300 focus:border-blue-500 focus:ring-blue-100"}
            `,style:{minHeight:"56px"}}),l.inspectorTime&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.inspectorTime})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"orderNo",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Order Number ",e.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),e.jsx("input",{type:"text",id:"orderNo",value:t.orderNo||"",onChange:s=>a("orderNo",s.target.value),placeholder:"e.g., ORDER-2024-00123",maxLength:50,className:`\r
            w-full px-4 py-3 text-base rounded-xl border-2 border-gray-300\r
            transition-all focus:outline-none focus:ring-4\r
            focus:border-blue-500 focus:ring-blue-100\r
          `,style:{minHeight:"56px"}})]}),e.jsx(y,{onTap:()=>n(),hapticType:"medium",children:e.jsx("button",{type:"submit",className:`\r
            w-full bg-blue-600 hover:bg-blue-700 text-white font-bold\r
            py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\r
            focus:outline-none focus:ring-4 focus:ring-blue-300\r
          `,style:{minHeight:"56px"},children:"Next: Vehicle Selection"})})]})},re=({formData:t,onChange:a,onNext:n,onBack:l,errors:c})=>{const[r,h]=b.useState(null),s=i=>{h(i),a("vehicleIdNo",i.vehicleId||""),a("vehicleLicenseNo",i.licenseNumber||""),a("vehicleType",i.vehicleType||""),a("agencyRegUnit",i.regUnit||"")},g=i=>{i.preventDefault(),n()};return e.jsxs(p.form,{className:"space-y-6 p-4 md:p-6",onSubmit:g,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Vehicle Selection"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Select the vehicle to inspect"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Vehicle ID *"}),e.jsx(M,{value:t.vehicleIdNo||"",onChange:i=>a("vehicleIdNo",i),onVehicleSelect:s,error:c.vehicleIdNo,apiEndpoint:"/api/vehicles/autocomplete"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Search by vehicle ID, make, or model"})]}),r&&e.jsxs(p.div,{className:"bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl p-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"Selected Vehicle Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Make/Type"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:[r.vehicleMake,r.vehicleType].filter(Boolean).join(" ")||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"License Plate"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:r.licenseNumber||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Agency Unit"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:r.regUnit||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Status"}),e.jsx("span",{className:`
                  inline-block px-2 py-1 text-xs font-medium rounded-full
                  ${r.vehicleStatus==="Active"?"bg-green-100 text-green-800":r.vehicleStatus==="Inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}
                `,children:r.vehicleStatus||"Unknown"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"odometerReading",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Odometer Reading (miles) *"}),e.jsx("input",{type:"number",id:"odometerReading",value:t.odometerReading||"",onChange:i=>a("odometerReading",parseInt(i.target.value)||0),placeholder:"Enter current odometer reading",min:0,max:999999999,className:`
            w-full px-4 py-3 text-base rounded-xl border-2 transition-all
            focus:outline-none focus:ring-4
            ${c.odometerReading?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-300 focus:border-blue-500 focus:ring-blue-100"}
          `,style:{minHeight:"56px"}}),c.odometerReading&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.odometerReading})]}),e.jsxs("div",{className:"space-y-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Auto-Populated Vehicle Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"License Number"}),e.jsx("input",{type:"text",value:t.vehicleLicenseNo||"",onChange:i=>a("vehicleLicenseNo",i.target.value),placeholder:"Enter license number",className:"w-full px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Agency Reg/Unit"}),e.jsx("input",{type:"text",value:t.agencyRegUnit||"",onChange:i=>a("agencyRegUnit",i.target.value),placeholder:"Enter agency unit",className:"w-full px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Vehicle Type"}),e.jsx("input",{type:"text",value:t.vehicleType||"",onChange:i=>a("vehicleType",i.target.value),placeholder:"e.g., Rescue, Engine, Ladder",className:"w-full px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(y,{onTap:()=>l(),hapticType:"light",children:e.jsx("button",{type:"button",onClick:l,className:`\r
              flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\r
              py-4 px-6 rounded-xl transition-all\r
              focus:outline-none focus:ring-4 focus:ring-gray-300\r
            `,style:{minHeight:"56px"},children:"Back"})}),e.jsx(y,{onTap:()=>n(),hapticType:"medium",children:e.jsx("button",{type:"submit",className:`\r
              flex-[2] bg-blue-600 hover:bg-blue-700 text-white font-bold\r
              py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\r
              focus:outline-none focus:ring-4 focus:ring-blue-300\r
            `,style:{minHeight:"56px"},children:"Next: Inspection Items"})})]})]})},D=[{itemNumber:1,description:"Gauges and lights",status:"n/a",isSafetyItem:!0,reference:"See back*"},{itemNumber:2,description:"Seat belts",status:"n/a",isSafetyItem:!0,reference:"See back*"},{itemNumber:3,description:"Glass and mirrors",status:"n/a",isSafetyItem:!0,reference:"See back*"},{itemNumber:4,description:"Wipers and horn",status:"n/a",isSafetyItem:!0,reference:"See back*"},{itemNumber:5,description:"Engine compartment",status:"n/a",isSafetyItem:!0,reference:"See back*"},{itemNumber:6,description:"Fuel System",status:"n/a",isSafetyItem:!0,reference:"See back*"},{itemNumber:7,description:"Steering",status:"n/a",isSafetyItem:!0,reference:"See back*"},{itemNumber:8,description:"Brakes",status:"n/a",isSafetyItem:!0,reference:"See back*"},{itemNumber:9,description:"Drive line U-joints",status:"n/a",isSafetyItem:!1,reference:"Check play"},{itemNumber:10,description:"Springs and shocks",status:"n/a",isSafetyItem:!0,reference:"See back*"},{itemNumber:11,description:"Exhaust system",status:"n/a",isSafetyItem:!0,reference:"See back*"},{itemNumber:12,description:"Frame",status:"n/a",isSafetyItem:!0,reference:"See back*"},{itemNumber:13,description:"Tire and wheels",status:"n/a",isSafetyItem:!0,reference:"See back*"},{itemNumber:14,description:"Coupling devices / Emergency exit (buses)",status:"n/a",isSafetyItem:!1},{itemNumber:15,description:"Pump operation",status:"n/a",isSafetyItem:!1},{itemNumber:16,description:"Damage on incident",status:"n/a",isSafetyItem:!1},{itemNumber:17,description:"Other",status:"n/a",isSafetyItem:!1}],se=({formData:t,onChange:a,onNext:n,onBack:l,errors:c})=>{const[r,h]=b.useState(new Set(["pre-trip","safety","operational"])),s=t.inspectionItems||D,g=b.useMemo(()=>s.some(x=>x.isSafetyItem&&x.status==="fail")?"hold":"release",[s]),i=(o,x)=>{const u=s.map(j=>j.itemNumber===o?{...j,status:x}:j);a("inspectionItems",u),a("releaseStatus",g)},N=o=>{const x=new Set(r);x.has(o)?x.delete(o):x.add(o),h(x)},f=o=>{const x=s.find(u=>u.itemNumber===o.itemNumber)||o;return e.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-start gap-3",children:[o.isSafetyItem&&e.jsx(P,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white",children:[o.itemNumber,". ",o.description]}),o.reference&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:o.reference})]})}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(y,{onTap:()=>i(o.itemNumber,"pass"),hapticType:"light",children:e.jsxs("button",{type:"button",onClick:()=>i(o.itemNumber,"pass"),className:`
                    flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg
                    font-semibold transition-all border-2
                    ${x.status==="pass"?"bg-green-500 text-white border-green-600 shadow-lg":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600"}
                  `,style:{minHeight:"48px"},children:[e.jsx(A,{className:"w-4 h-4"}),"Pass"]})}),e.jsx(y,{onTap:()=>i(o.itemNumber,"fail"),hapticType:"medium",children:e.jsxs("button",{type:"button",onClick:()=>i(o.itemNumber,"fail"),className:`
                    flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg
                    font-semibold transition-all border-2
                    ${x.status==="fail"?"bg-red-500 text-white border-red-600 shadow-lg":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600"}
                  `,style:{minHeight:"48px"},children:[e.jsx(X,{className:"w-4 h-4"}),"Fail"]})}),e.jsx(y,{onTap:()=>i(o.itemNumber,"n/a"),hapticType:"light",children:e.jsx("button",{type:"button",onClick:()=>i(o.itemNumber,"n/a"),className:`
                    flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg
                    font-semibold transition-all border-2
                    ${x.status==="n/a"?"bg-gray-400 text-white border-gray-500 shadow-lg":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600"}
                  `,style:{minHeight:"48px"},children:"N/A"})})]})]})]})},o.itemNumber)},v=(o,x,u,j)=>{const T=r.has(x);return e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>N(x),className:"w-full p-4 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:o}),j&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:j})]}),e.jsx(W,{className:`w-6 h-6 text-gray-600 dark:text-gray-400 transition-transform ${T?"rotate-180":""}`})]}),e.jsx(R,{children:T&&e.jsx(p.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx("div",{className:"p-4 space-y-3",children:u.map(f)})})})]})};return e.jsxs(p.div,{className:"space-y-6 p-4 md:p-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Vehicle Inspection"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Inspect all items and mark Pass, Fail, or N/A"})]}),e.jsx(p.div,{className:`
          p-4 rounded-xl border-2 flex items-center justify-between
          ${g==="hold"?"bg-red-50 border-red-500 dark:bg-red-900/20 dark:border-red-700":"bg-green-50 border-green-500 dark:bg-green-900/20 dark:border-green-700"}
        `,layout:!0,children:e.jsxs("div",{className:"flex items-center gap-3",children:[g==="hold"?e.jsx(P,{className:"w-6 h-6 text-red-600 dark:text-red-400"}):e.jsx(A,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:`font-bold text-lg ${g==="hold"?"text-red-900 dark:text-red-100":"text-green-900 dark:text-green-100"}`,children:g==="hold"?"ðŸ”´ HOLD FOR REPAIRS":"ðŸŸ¢ RELEASED"}),g==="hold"&&e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"Safety Item â€“ Do Not Release Until Repaired"})]})]})}),e.jsxs("div",{className:"space-y-4",children:[v("Pre-Trip Items","pre-trip",D.slice(0,5),"Items 1-5"),v("Safety Equipment","safety",D.slice(5,13),"âš ï¸ Items 6-13 - All Safety-Critical"),v("Operational Systems","operational",D.slice(13),"Items 14-17")]}),e.jsxs("div",{className:"flex gap-3 sticky bottom-4 bg-white dark:bg-gray-900 p-4 rounded-xl shadow-lg",children:[e.jsx(y,{onTap:()=>l(),hapticType:"light",children:e.jsx("button",{type:"button",onClick:l,className:`\r
              flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\r
              py-4 px-6 rounded-xl transition-all\r
              focus:outline-none focus:ring-4 focus:ring-gray-300\r
            `,style:{minHeight:"56px"},children:"Back"})}),e.jsx(y,{onTap:()=>n(),hapticType:"medium",children:e.jsx("button",{type:"button",onClick:n,className:`\r
              flex-[2] bg-blue-600 hover:bg-blue-700 text-white font-bold\r
              py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\r
              focus:outline-none focus:ring-4 focus:ring-blue-300\r
            `,style:{minHeight:"56px"},children:"Next: Comments"})})]})]})},ae=({formData:t,onChange:a,onNext:n,onBack:l})=>{const c=b.useRef(null),r=2e3,h=(t.additionalComments||"").length;return b.useEffect(()=>{c.current&&(c.current.style.height="auto",c.current.style.height=`${c.current.scrollHeight}px`)},[t.additionalComments]),e.jsxs(p.div,{className:"space-y-6 p-4 md:p-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Additional Comments"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add any notes, repair recommendations, or additional findings (optional)"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"additionalComments",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Comments ",e.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),e.jsx("textarea",{ref:c,id:"additionalComments",value:t.additionalComments||"",onChange:s=>a("additionalComments",s.target.value),placeholder:"Enter any additional comments, notes, or repair recommendations...",maxLength:r,rows:10,className:`\r
            w-full px-4 py-3 text-base rounded-xl border-2 border-gray-300\r
            transition-all focus:outline-none focus:ring-4\r
            focus:border-blue-500 focus:ring-blue-100 resize-none\r
            dark:bg-gray-800 dark:border-gray-600 dark:text-white\r
          `,style:{minHeight:"200px"}}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Detailed notes help with repairs and maintenance tracking"}),e.jsxs("p",{className:`text-sm font-medium ${h>r*.9?"text-red-600":"text-gray-600"}`,children:[h," / ",r]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Quick Suggestions"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["No issues found","Minor wear observed","Requires immediate attention","Scheduled maintenance due","Pre-incident condition noted"].map(s=>e.jsxs("button",{type:"button",onClick:()=>{const g=t.additionalComments||"";a("additionalComments",`${g}${g?`
`:""}${s}`)},className:`\r
                px-3 py-2 text-sm rounded-lg bg-white dark:bg-gray-700\r
                border border-gray-300 dark:border-gray-600\r
                hover:bg-blue-50 hover:border-blue-300 dark:hover:bg-gray-600\r
                transition-colors text-gray-700 dark:text-gray-300\r
              `,children:["+ ",s]},s))})]}),e.jsxs("div",{className:"flex gap-3 sticky bottom-4 bg-white dark:bg-gray-900 p-4 rounded-xl shadow-lg",children:[e.jsx(y,{onTap:()=>l(),hapticType:"light",children:e.jsx("button",{type:"button",onClick:l,className:`\r
              flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\r
              py-4 px-6 rounded-xl transition-all\r
              focus:outline-none focus:ring-4 focus:ring-gray-300\r
            `,style:{minHeight:"56px"},children:"Back"})}),e.jsx(y,{onTap:()=>n(),hapticType:"medium",children:e.jsx("button",{type:"button",onClick:n,className:`\r
              flex-[2] bg-blue-600 hover:bg-blue-700 text-white font-bold\r
              py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\r
              focus:outline-none focus:ring-4 focus:ring-blue-300\r
            `,style:{minHeight:"56px"},children:"Next: Inspector Signature"})})]})]})},ie=({formData:t,onChange:a,onNext:n,onBack:l,errors:c})=>{const[r,h]=b.useState(!!t.inspectorSignature),s=f=>{const v={imageData:f,signedAt:new Date().toISOString(),signedBy:t.inspectorNamePrint||"",ipAddress:void 0,deviceId:navigator.userAgent};a("inspectorSignature",v),h(!0),a("status","inspector_signed")},g=()=>{const f=new Date;return{date:f.toISOString().split("T")[0],time:f.toTimeString().slice(0,5)}},{date:i,time:N}=g();return e.jsxs(p.div,{className:"space-y-6 p-4 md:p-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Inspector Signature"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sign to lock the inspection form and proceed to review"})]}),r&&e.jsx(p.div,{className:"bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-500 rounded-xl p-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(q,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-amber-900 dark:text-amber-100",children:"Form Locked"}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Inspector signature has been recorded. Form is read-only."})]})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"inspectorNamePrint",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Inspector Name (Print) *"}),e.jsx("input",{type:"text",id:"inspectorNamePrint",value:t.inspectorNamePrint||"",onChange:f=>a("inspectorNamePrint",f.target.value),placeholder:"Enter your full name",maxLength:100,disabled:r,className:`
            w-full px-4 py-3 text-base rounded-xl border-2 transition-all
            focus:outline-none focus:ring-4
            ${r?"bg-gray-100 dark:bg-gray-800 border-gray-300 cursor-not-allowed":c.inspectorNamePrint?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-300 focus:border-blue-500 focus:ring-blue-100"}
          `,style:{minHeight:"56px"}}),c.inspectorNamePrint&&!r&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.inspectorNamePrint})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Date"}),e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:new Date(t.inspectorDate||i).toLocaleDateString()})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Time"}),e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:t.inspectorTime||N})]})]}),e.jsx("div",{children:e.jsx(O,{onSave:s,initialSignature:t.inspectorSignature?.imageData,disabled:r,label:"Inspector Signature"})}),r&&t.inspectorSignature&&e.jsx(p.div,{className:"bg-green-50 dark:bg-green-900/20 border-2 border-green-500 rounded-xl p-4",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-green-900 dark:text-green-100",children:"Signature Recorded"}),e.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["Signed by ",t.inspectorNamePrint," on"," ",new Date(t.inspectorSignature.signedAt).toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-blue-900 dark:text-blue-100",children:[e.jsx("strong",{children:"Notice:"})," By signing this form, you certify that the inspection was conducted in accordance with ICS-212 standards and that all information is accurate to the best of your knowledge."]})}),e.jsxs("div",{className:"flex gap-3 sticky bottom-4 bg-white dark:bg-gray-900 p-4 rounded-xl shadow-lg",children:[!r&&e.jsx(y,{onTap:()=>l(),hapticType:"light",children:e.jsx("button",{type:"button",onClick:l,className:`\r
                flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\r
                py-4 px-6 rounded-xl transition-all\r
                focus:outline-none focus:ring-4 focus:ring-gray-300\r
              `,style:{minHeight:"56px"},children:"Back"})}),e.jsx(y,{onTap:()=>n(),hapticType:"medium",children:e.jsx("button",{type:"button",onClick:n,disabled:!r,className:`
              ${r?"flex-1":"flex-[2]"}
              font-bold py-4 px-6 rounded-xl transition-all shadow-lg
              focus:outline-none focus:ring-4
              ${r?"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-300 hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"}
            `,style:{minHeight:"56px"},children:r?"Next: Review & Submit":"Sign Form to Continue"})})]})]})},ne=({formData:t,onChange:a,onBack:n,onGoToStep:l,onSubmit:c})=>{const[r,h]=b.useState(!1),[s,g]=b.useState(!!t.operatorSignature),i=u=>{const j={imageData:u,signedAt:new Date().toISOString(),signedBy:t.operatorNamePrint||"",ipAddress:void 0,deviceId:navigator.userAgent};a("operatorSignature",j),a("operatorDate",new Date().toISOString().split("T")[0]),a("operatorTime",new Date().toTimeString().slice(0,5)),g(!0)},N=async()=>{if(!s){k.error("Operator signature required");return}h(!0);try{await c(),k.success("Form submitted successfully!")}catch(u){k.error("Submission failed. Please try again."),console.error("Submission error:",u)}finally{h(!1)}},f=t.inspectionItems?.filter(u=>u.status==="pass").length||0,v=t.inspectionItems?.filter(u=>u.status==="fail").length||0,o=t.inspectionItems?.filter(u=>u.status==="n/a").length||0,x=t.releaseStatus||"release";return e.jsxs(p.div,{className:"space-y-6 p-4 md:p-6 pb-24",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Review & Submit"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Review all information before final submission"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Incident Information"}),e.jsxs("button",{type:"button",onClick:()=>l(0),className:"text-blue-600 hover:text-blue-700 flex items-center gap-1 text-sm",children:[e.jsx(C,{className:"w-4 h-4"})," Edit"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Incident Name"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t.incidentName||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Date/Time"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[t.inspectorDate," ",t.inspectorTime]})]}),t.orderNo&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Order Number"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t.orderNo})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Vehicle Information"}),e.jsxs("button",{type:"button",onClick:()=>l(1),className:"text-blue-600 hover:text-blue-700 flex items-center gap-1 text-sm",children:[e.jsx(C,{className:"w-4 h-4"})," Edit"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Vehicle ID"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t.vehicleIdNo||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Odometer"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[t.odometerReading?.toLocaleString()||"N/A"," mi"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"License Plate"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t.vehicleLicenseNo||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Type"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t.vehicleType||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Inspection Results"}),e.jsxs("button",{type:"button",onClick:()=>l(2),className:"text-blue-600 hover:text-blue-700 flex items-center gap-1 text-sm",children:[e.jsx(C,{className:"w-4 h-4"})," Edit"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:f}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Passed"})]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:v}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Failed"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400",children:o}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"N/A"})]})]}),e.jsx("div",{className:`
          p-4 rounded-lg text-center font-bold text-lg
          ${x==="hold"?"bg-red-100 text-red-900 dark:bg-red-900/30 dark:text-red-100":"bg-green-100 text-green-900 dark:bg-green-900/30 dark:text-green-100"}
        `,children:x==="hold"?"ðŸ”´ HOLD FOR REPAIRS":"ðŸŸ¢ RELEASED"})]}),t.additionalComments&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Additional Comments"}),e.jsxs("button",{type:"button",onClick:()=>l(3),className:"text-blue-600 hover:text-blue-700 flex items-center gap-1 text-sm",children:[e.jsx(C,{className:"w-4 h-4"})," Edit"]})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:t.additionalComments})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3",children:"Inspector Signature"}),e.jsxs("div",{className:"flex items-center gap-4",children:[t.inspectorSignature?.imageData&&e.jsx("img",{src:t.inspectorSignature.imageData,alt:"Inspector signature",className:"h-20 border border-gray-300 rounded bg-white"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t.inspectorNamePrint}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Signed: ",t.inspectorSignature&&new Date(t.inspectorSignature.signedAt).toLocaleString()]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl border-2 border-blue-200 dark:border-blue-800 p-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3",children:"Operator Signature Required"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"operatorNamePrint",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Operator Name (Print) *"}),e.jsx("input",{type:"text",id:"operatorNamePrint",value:t.operatorNamePrint||"",onChange:u=>a("operatorNamePrint",u.target.value),placeholder:"Enter operator full name",maxLength:100,disabled:s,className:`
                w-full px-4 py-3 text-base rounded-xl border-2 transition-all
                focus:outline-none focus:ring-4
                ${s?"bg-gray-100 dark:bg-gray-800 border-gray-300 cursor-not-allowed":"border-gray-300 focus:border-blue-500 focus:ring-blue-100"}
              `})]}),e.jsx(O,{onSave:i,initialSignature:t.operatorSignature?.imageData,disabled:s,label:"Operator Signature"})]})]}),e.jsx("div",{className:"sticky bottom-4 bg-white dark:bg-gray-900 p-4 rounded-xl shadow-lg",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(y,{onTap:()=>n(),hapticType:"light",children:e.jsx("button",{type:"button",onClick:n,disabled:r,className:`\r
                flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\r
                py-4 px-6 rounded-xl transition-all\r
                focus:outline-none focus:ring-4 focus:ring-gray-300\r
                disabled:opacity-50 disabled:cursor-not-allowed\r
              `,style:{minHeight:"56px"},children:"Back"})}),e.jsx(y,{onTap:N,hapticType:"heavy",children:e.jsx("button",{type:"button",onClick:N,disabled:!s||r,className:`
                flex-[2] font-bold py-4 px-6 rounded-xl transition-all
                focus:outline-none focus:ring-4 flex items-center justify-center gap-2
                ${s&&!r?"bg-green-600 hover:bg-green-700 text-white focus:ring-green-300 shadow-lg hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"}
              `,style:{minHeight:"56px"},children:r?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-5 h-5 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"w-5 h-5"}),"Submit Final Form"]})})})]})})]})},w=[{id:0,title:"Incident Info",component:te},{id:1,title:"Vehicle",component:re},{id:2,title:"Inspection",component:se},{id:3,title:"Comments",component:ae},{id:4,title:"Inspector Sign",component:ie},{id:5,title:"Review & Submit",component:ne}],F={status:"draft",incidentName:"",orderNo:"",vehicleIdNo:"",vehicleLicenseNo:"",agencyRegUnit:"",vehicleType:"",odometerReading:0,inspectionItems:[],additionalComments:"",releaseStatus:"release",inspectorDate:new Date().toISOString().split("T")[0],inspectorTime:new Date().toTimeString().slice(0,5),inspectorNamePrint:""},ge=()=>{const[t,a]=b.useState(0),[n,l]=b.useState(F),[c,r]=b.useState({}),[h,s]=b.useState(!1),[g,i]=b.useState(!1),[N,f]=b.useState(null);b.useEffect(()=>{const d=setInterval(()=>{if(n&&!h&&t>0){const m={formData:n,currentStep:t,savedAt:new Date().toISOString(),expiresAt:new Date(Date.now()+6048e5).toISOString()};localStorage.setItem("ics212-draft",JSON.stringify(m)),k.success("Draft auto-saved",{duration:1500,icon:"ðŸ’¾"})}},3e4);return()=>clearInterval(d)},[n,t,h]),b.useEffect(()=>{const d=localStorage.getItem("ics212-draft");if(d)try{const m=JSON.parse(d);new Date(m.expiresAt)>new Date?(f(m),i(!0)):localStorage.removeItem("ics212-draft")}catch(m){console.error("Failed to parse draft:",m),localStorage.removeItem("ics212-draft")}},[]);const v=()=>{N&&(l(N.formData),a(N.currentStep),i(!1),k.success("Draft restored!"))},o=()=>{localStorage.removeItem("ics212-draft"),i(!1),f(null),k("Draft discarded",{icon:"ðŸ—‘ï¸"})},x=(d,m)=>{l(S=>({...S,[d]:m})),c[d]&&r(S=>{const E={...S};return delete E[d],E})},u=d=>{const m={};switch(d){case 0:(!n.incidentName||n.incidentName.length<3)&&(m.incidentName="Incident name must be at least 3 characters"),n.inspectorDate||(m.inspectorDate="Date is required"),n.inspectorTime||(m.inspectorTime="Time is required");break;case 1:n.vehicleIdNo||(m.vehicleIdNo="Vehicle ID is required"),(!n.odometerReading||n.odometerReading===0)&&(m.odometerReading="Odometer reading is required");break;case 4:(!n.inspectorNamePrint||(n.inspectorNamePrint||"").length<2)&&(m.inspectorNamePrint="Inspector name must be at least 2 characters"),n.inspectorSignature||(m.inspectorSignature="Signature is required");break}return r(m),Object.keys(m).length===0},j=()=>{u(t)?t<w.length-1&&a(t+1):k.error("Please complete all required fields")},T=()=>{t>0&&a(t-1)},L=d=>{d>=0&&d<w.length&&a(d)},$=()=>{const d={formData:n,currentStep:t,savedAt:new Date().toISOString(),expiresAt:new Date(Date.now()+6048e5).toISOString()};localStorage.setItem("ics212-draft",JSON.stringify(d)),k.success("Draft saved manually!",{icon:"ðŸ’¾"})},H=()=>{confirm("Are you sure you want to clear all form data? This cannot be undone.")&&(l(F),a(0),r({}),localStorage.removeItem("ics212-draft"),k("Form cleared",{icon:"ðŸ—‘ï¸"}))},V=async()=>{try{const d={...n,submittedAt:new Date().toISOString(),status:"submitted"},m=await fetch("/api/ics212/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!m.ok)throw new Error("Submission failed");const S=await m.json();if(S.success)s(!0),localStorage.removeItem("ics212-draft"),k.success(`Form submitted! ID: ${S.formId}`),console.log("Submission result:",S);else throw new Error(S.error||"Submission failed")}catch(d){throw console.error("Submission error:",d),d}},_=w[t].component;return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40 shadow-sm",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"ICS-212 Vehicle Safety Inspection"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Step ",t+1," of ",w.length,": ",w[t].title]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:$,className:"p-2 rounded-lg bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors",title:"Save Draft",children:e.jsx(z,{className:"w-5 h-5"})}),e.jsx("button",{type:"button",onClick:H,className:"p-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition-colors",title:"Clear Form",children:e.jsx(U,{className:"w-5 h-5"})})]})]}),e.jsx(B,{currentStep:t+1,totalSteps:w.length,labels:w.map(d=>d.title)})]})}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(R,{mode:"wait",children:e.jsx(p.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:e.jsx(_,{formData:n,onChange:x,onNext:j,onBack:T,onGoToStep:L,onSubmit:V,errors:c})},t)})}),e.jsx(R,{children:g&&e.jsx(p.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs(p.div,{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Resume Draft?"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["We found a saved draft from"," ",N&&new Date(N.savedAt).toLocaleString(),". Would you like to resume where you left off?"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:o,className:"flex-1 px-4 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold rounded-xl transition-colors",children:"Start Fresh"}),e.jsx("button",{type:"button",onClick:v,className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition-colors",children:"Resume Draft"})]})]})})}),e.jsx(R,{children:h&&e.jsx(p.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},children:e.jsxs(p.div,{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-8 text-center",initial:{scale:.9,y:20},animate:{scale:1,y:0},children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Form Submitted!"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your ICS-212 form has been successfully submitted and logged."}),e.jsx("button",{type:"button",onClick:()=>{s(!1),l(F),a(0)},className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition-colors",children:"Start New Form"})]})})})]})};export{ge as ICS212Form,ge as default};
//# sourceMappingURL=ICS212Form-S_TjhaPn.js.map
